<!doctype html><html lang=zh-cn dir=ltr><head><meta charset=utf-8><meta name=viewport content='width=device-width,initial-scale=1'><meta name=description content="debian系统安装和常用的命令行工具;开发环境配置"><meta name=keywords content="Linux,debian,脚本,安装,命令行,系统,开发环境"><title>debian的安装</title>
<link rel=canonical href=https://logan.qinhe.site/articles/linux/debian/install/><link rel=stylesheet href=/scss/preload.min.e5572777052a50e6835f123d932b334df378141313b2063cdb04b4ab51f381e6.css crossorigin=anonymous><script src=/ts/preload.min.f7064a5b3927a1cfa422eb8cd0cccddc8cbf533d84f1b73891410b28ffb4f8da.js crossorigin=anonymous></script><style>.top-scroll-bar,.page-load-progress-bar{position:fixed;top:0;left:0;z-index:9999;display:none;width:0;height:4px;border-radius:5px;background-image:linear-gradient(to right,#5a0ca6 0%,rgba(208,114,155,.84) 50%,#29d 100%); [data-scheme="light"] & { background-image: linear-gradient(to right, #78ee6e 0%, #5069e3 50%, #29d 100%); }}#nprogress{pointer-events:none}#nprogress .my_bar{background-image:linear-gradient(to right,#5a0ca6 0%,rgba(208,114,155,.84) 50%,#29d 100%); [data-scheme="light"] & { background-image: linear-gradient(to right, #78ee6e 0%, #5069e3 50%, #29d 100%); } position: fixed;z-index:9999;top:0;left:0;border-radius:10px;width:100%;height:5px}#nprogress .my_peg{display:block;position:absolute;right:0;width:100px;height:100%;box-shadow:0 0 10px #29d,0 0 5px #29d;opacity:1;-webkit-transform:rotate(3deg)translate(0,-4px);-ms-transform:rotate(3deg)translate(0,-4px);transform:rotate(3deg)translate(0,-4px)}#nprogress .my_spinner{display:block;position:fixed;z-index:9998;top:15px;right:15px}#nprogress .my_spinner-icon{width:25px;height:25px;box-sizing:border-box;border:solid 3px transparent;border-top-color:#29d;border-left-color:#29d;border-radius:50%;-webkit-animation:nprogress-spinner 400ms linear infinite;animation:nprogress-spinner 400ms linear infinite}.nprogress-custom-parent{overflow:hidden;position:relative}.nprogress-custom-parent #nprogress .my_spinner,.nprogress-custom-parent #nprogress .my_bar{position:absolute}@-webkit-keyframes nprogress-spinner{0%{-webkit-transform:rotate(0)}100%{-webkit-transform:rotate(360deg)}}@keyframes nprogress-spinner{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}</style><script src=https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/nprogress/0.2.0/nprogress.min.js crossorigin=anonymous></script><link rel=stylesheet href=/scss/style.min.d3dffda2e8742ba896aca9e60be9924e7aa436d076dfbf83263ceee7732855d5.css><meta property='og:title' content="debian的安装"><meta property='og:description' content="debian系统安装和常用的命令行工具;开发环境配置"><meta property='og:url' content='https://logan.qinhe.site/articles/linux/debian/install/'><meta property='og:site_name' content='Logan的博客'><meta property='og:type' content='article'><meta property='article:section' content='Articles'><meta property='article:tag' content='Linux'><meta property='article:tag' content='debian'><meta property='article:published_time' content='2024-11-25T00:00:00+08:00'><meta property='article:modified_time' content='2024-12-05T04:04:32+08:00'><meta property='og:image' content='https://logan.1357810.xyz/cover/debiancover.png'><meta name=twitter:site content="@loganovo297796"><meta name=twitter:creator content="@loganovo297796"><meta name=twitter:title content="debian的安装"><meta name=twitter:description content="debian系统安装和常用的命令行工具;开发环境配置"><meta name=twitter:card content="summary"><meta name=twitter:image content='https://logan.1357810.xyz/cover/debiancover.png'><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/site.webmanifest><script async src="https://www.googletagmanager.com/gtag/js?id=G-R7GQB9XXQW"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-R7GQB9XXQW")}</script><meta name=google-site-verification content="3CAZCWVpDIWQxfZCqLMpov13bCzaH1QdnlHZTNnNjfM"><link rel=preload as=style onload='this.rel="stylesheet"' href=https://cdn.bootcdn.net/ajax/libs/lxgw-wenkai-webfont/1.7.0/style.min.css crossorigin=anonymous><script src=/js/sceneanimation.min.8c8c65611aaf0c8996e6d8a06f3e3bc82e6c8d2d2ab542e7cde8df7bceeeba9e.js crossorigin=anonymous async></script><link rel=preload as=style onload='this.rel="stylesheet"' href=https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/photoswipe/4.1.3/photoswipe.min.css crossorigin=anonymous><link rel=preload as=style onload='this.rel="stylesheet"' href=https://lf26-cdn-tos.bytecdntp.com/cdn/expire-1-M/photoswipe/4.1.3/default-skin/default-skin.min.css crossorigin=anonymous><script src=https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/photoswipe/4.1.3/photoswipe.min.js crossorigin=anonymous defer></script><script src=https://lf26-cdn-tos.bytecdntp.com/cdn/expire-1-M/photoswipe/4.1.3/photoswipe-ui-default.min.js crossorigin=anonymous defer></script><meta name=referrer content="no-referrer-when-downgrade"><style>@charset "UTF-8";.pswp__bg{background:rgba(24,24,27,.98)}.pswp__ui--fit .pswp__top-bar{background:0 0}.pswp__ui--fit .pswp__caption{background:0 0}.pswp__top-bar{background:0 0}.pswp__caption{background:0 0}.pswp__caption__center{text-align:center;color:#e8e8e8}</style></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"dark")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e==="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div id=loading-box><div class=loading-left-bg></div><div class=loading-right-bg></div><div class=spinner-box><div class=configure-border-1><div class=configure-core></div></div><div class=configure-border-2><div class=configure-core></div></div><div class=loading-word>加载中...</div></div></div><div class=top-scroll-bar></div><script>var my_template='<div class="my_bar" role="bar"><div class="my_peg"></div></div><div class="my_spinner" role="spinner"><div class="my_spinner-icon"></div></div>';NProgress.configure({template:my_template}),NProgress.start(),document.addEventListener("readystatechange",()=>{if(document.readyState==="interactive"&&NProgress.inc(.6),document.readyState==="complete"){NProgress.done(!0),NProgress.configure({template:my_template,minimum:0,trickle:!1,showSpinner:!1});var e=document.querySelector(".top-scroll-bar");window.addEventListener("scroll",function(){var t=document.documentElement.scrollTop||document.body.scrollTop,n=document.documentElement.scrollHeight-document.documentElement.clientHeight,s=t/n*100;e.style.width=s+"%",e.style.display="block"})}})</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><a id=dark-mode-toggle-mine type=button aria-label=切换主题 href=javascript:void(0)><svg class="icon icon-tabler icon-tabler-toggle-left" viewBox="0 0 1025 1024" p-id="14930" width="128" height="128"><path d="M253.939302 502.92736a269.74208 269.74208.0 00122.90048 235.84768 257.024 257.024.0 00259.95264 9.07264c81.46944-44.27776 135.70048-130.49856 139.0592-226.7136 5.14048-147.3536-107.37664-270.1312-250.63424-275.1488-145.32608-5.05856-266.1376 109.568-271.27808 256.94208zM531.730022.3072c16.384.57344 32.256 15.48288 31.62112 33.8944l-3.72736 106.43456c-.57344 16.384-15.4624 32.256-33.8944 31.60064-16.384-.57344-32.23552-15.4624-31.60064-33.8944l3.72736-106.43456c2.74432-20.3776 15.4624-32.23552 33.87392-31.60064zm493.89568 527.52384c-.57344 16.384-13.35296 30.26944-33.8944 31.60064l-104.36608-3.64544c-16.384-.57344-32.19456-17.53088-31.62112-33.8944.57344-16.384 15.48288-32.256 33.8944-31.60064l104.38656 3.64544a32.3584 32.3584.0 0131.60064 33.8944zm-855.53152-29.9008c-.57344 16.384-13.35296 30.28992-33.8944 31.62112l-104.38656-3.64544c-16.384-.57344-32.17408-17.5104-31.60064-33.8944.57344-16.384 15.4624-32.256 33.8944-31.60064l104.38656 3.64544a32.3584 32.3584.0 0131.60064 33.8944zm325.91872 525.76256c-16.384-.57344-32.256-15.48288-31.62112-33.8944l3.72736-106.43456c.57344-16.384 15.4624-32.256 33.8944-31.60064 16.384.57344 32.23552 15.4624 31.60064 33.8944l-3.72736 106.43456c-2.74432 20.3776-17.5104 32.1536-33.87392 31.60064zm401.32608-871.26016c11.85792 12.6976 11.0592 35.2256-1.6384 47.06304l-78.37696 73.09312c-12.6976 11.85792-33.1776 11.14112-47.08352-1.6384-11.83744-12.6976-11.0592-35.2256 1.6384-47.08352l78.39744-73.09312c16.85504-13.74208 35.2256-11.0592 47.06304 1.6384zm-15.50336 737.1776c-12.6976 11.85792-31.1296 11.22304-47.06304-1.6384l-70.9632-80.34304c-11.85792-12.6976-11.0592-35.2256 1.6384-47.08352s35.2256-11.0592 47.08352 1.6384l73.07264 78.37696c9.728 14.68416 8.94976 37.21216-3.76832 49.0496zm-596.31616-645.8368c-12.6976 11.85792-31.1296 11.20256-47.06304-1.6384l-73.09312-78.37696c-11.85792-12.6976-11.0592-35.2256 1.6384-47.08352s35.2256-11.0592 47.08352 1.6384l73.09312 78.37696c11.776 14.7456 11.0592 35.2256-1.6384 47.08352zm-138.24 614.05184c-11.85792-12.71808-11.0592-35.2256 1.6384-47.08352l78.37696-73.09312c12.6976-11.83744 33.1776-11.12064 47.08352 1.6384 11.83744 12.71808 11.0592 35.2256-1.6384 47.104l-78.39744 73.07264c-16.7936 11.71456-35.2256 11.0592-47.06304-1.6384z" fill="#ffb948"/></svg>
<svg class="icon icon-tabler icon-tabler-toggle-right" viewBox="0 0 1024 1024" width="128" height="128"><path d="M578.256332 591.814252v-82.970701m0 95.54202a12.655127 12.655127.0 01-12.571318-12.571319v-82.970701a12.571318 12.571318.0 1125.142636.0v82.970701a12.571318 12.571318.0 01-12.571318 12.571319z" fill="#f89b1b"/><path d="M598.873294 479.342858a36.959676 36.959676.0 01-27.573092-61.59946 52.380493 52.380493.0 1062.521357 36.540632 36.875867 36.875867.0 01-34.948265 25.058828zm204.0744-109.035234v-82.970701m0 95.542019a12.571318 12.571318.0 01-12.571318-12.571318v-82.970701a12.571318 12.571318.0 1125.142636.0v82.970701a12.571318 12.571318.0 01-12.571318 12.571318z" fill="#f89b1b"/><path d="M823.9837 257.83623a36.959676 36.959676.0 01-27.6569-61.515651 52.129067 52.129067.0 1064.616576 50.285273 53.050963 53.050963.0 00-2.011411-14.163685A36.875867 36.875867.0 01823.9837 257.83623z" fill="#f89b1b"/><path d="M803.282929 328.822274a59.588049 59.588049.0 0159.588049 59.588048V785.66398H743.694881V388.410322a59.588049 59.588049.0 0159.588048-59.588048zM581.776301 551.16699a143.145411 143.145411.0 01143.145411 143.145411V837.54162H438.463272V694.312401A143.145411 143.145411.0 01581.776301 551.16699z" fill="#612273"/><path d="M600.968514 198.667225l-49.111951-4.693292a8.380879 8.380879.0 01-7.039938-5.196145l-17.599845-42.658674a8.380879 8.380879.0 00-15.672244.0l-17.432228 42.658674a8.380879 8.380879.0 01-7.039938 5.196145l-49.11195 4.693292a8.380879 8.380879.0 00-4.777101 14.750347l36.959676 32.51781a8.380879 8.380879.0 012.681881 8.380878l-11.06276 45.67579a8.380879 8.380879.0 0012.487509 9.302776L515.232123 285.074086a8.380879 8.380879.0 018.380879.0l40.982497 24.136931a8.380879 8.380879.0 0012.571319-9.302776l-10.978952-45.675789a8.380879 8.380879.0 012.681882-8.380879L606.08085 213.417572a8.380879 8.380879.0 00-5.028528-14.750347z" fill="#fed150"/><path d="M470.897274 246.77347l1.927602-8.380879a8.380879 8.380879.0 00-2.681881-8.380879l-35.032074-30.506399a8.380879 8.380879.0 00-1.927602 13.912259l36.959676 32.51781a6.788512 6.788512.0 01.754279.838088zM603.98563 199.589122l-34.948265 30.674016a8.380879 8.380879.0 00-2.681881 8.380879l1.927602 8.380879a6.788512 6.788512.0 01.754279-.838088l37.043485-32.769236a8.380879 8.380879.0 00-2.09522-13.82845zm-28.578797 92.189667a8.380879 8.380879.0 01-10.643716 1.759985l-40.982498-24.053123a8.380879 8.380879.0 00-8.380879.0L474.249625 293.454965a8.380879 8.380879.0 01-10.643716-1.676176l-1.927602 8.380879a8.380879 8.380879.0 0012.487509 9.302775l41.066307-24.388357a8.380879 8.380879.0 018.380879.0l40.982497 24.136931a8.380879 8.380879.0 0012.571319-9.302776z" fill="#fed150" opacity=".5"/><path d="M434.608068 426.543321l-28.159753-2.681881a4.86091 4.86091.0 01-4.022822-3.017117l-10.057054-24.388357a4.86091 4.86091.0 00-8.967541.0l-9.973245 24.388357a4.693292 4.693292.0 01-4.022822 3.017117l-28.159753 2.681881a4.86091 4.86091.0 00-2.76569 8.380879l21.203623 18.605551a4.944719 4.944719.0 011.592367 4.777101L354.654484 484.455194a4.86091 4.86091.0 007.123747 5.363762l23.466461-13.82845a5.196145 5.196145.0 014.944718.0l23.466461 13.82845a4.86091 4.86091.0 007.123747-5.363762l-6.285659-26.064533a4.86091 4.86091.0 011.508558-4.777101l21.203624-18.605551a4.86091 4.86091.0 00-2.849499-8.380879z" fill="#fed150"/><path d="M360.102055 454.032604l1.173323-4.609484a4.944719 4.944719.0 00-1.592367-5.112336l-20.0303-17.683654a4.944719 4.944719.0 00-1.173323 8.380879l21.203623 18.605551zm76.182189-26.98643-20.0303 17.26461a4.86091 4.86091.0 00-1.508559 4.777101l1.173323 4.693292v-.502852l21.203624-18.605551a4.86091 4.86091.0 00-.838088-7.6266zM419.94153 479.845711a4.777101 4.777101.0 01-6.034233 1.005705l-23.46646-13.82845a5.196145 5.196145.0 00-4.944719.0l-23.466461 13.82845a4.777101 4.777101.0 01-6.034233-1.005705l-1.089514 4.609483a4.86091 4.86091.0 007.123747 5.363762l23.466461-13.82845a5.196145 5.196145.0 014.944719.0l23.46646 13.82845a4.86091 4.86091.0 007.123747-5.363762z" fill="#fed150" opacity=".5"/><path d="M635.413926 803.68287A414.685886 414.685886.0 01459.41547 18.729756 9.805628 9.805628.0 00453.967898.124205a513.831683 513.831683.0 10567.050264 607.027056 9.805628 9.805628.0 00-18.186507-6.704704A414.350651 414.350651.0 01635.413926 803.68287z" fill="#fed150" p-id="22313"/><path d="M50.931434 292.868303a460.110249 460.110249.0 00275.311871 359.455895 413.847798 413.847798.0 01133.339782-633.594442A9.805628 9.805628.0 00453.967898.124205 513.915492 513.915492.0 0050.931434 292.868303z" fill="#fed150" opacity=".4" p-id="22314"/><path d="M1006.016389 597.261823A513.664065 513.664065.0 013.914704 475.320036c-.670471 10.308481-1.257132 20.616962-1.257132 31.093061a513.831683 513.831683.0 001018.36059 100.570546 9.805628 9.805628.0 00-15.001773-9.72182zM231.539373 332.258434c0 7.458982.67047 14.917964 1.257132 22.293138A414.769695 414.769695.0 01459.583087 18.729756 9.805628 9.805628.0 00453.967898.124205a505.869848 505.869848.0 00-94.620122 20.868388A413.177328 413.177328.0 00231.539373 332.258434z" fill="#fed150" opacity=".5" p-id="22315"/><path d="M715.032275 421.514794m17.683654.0h141.217809q17.683654.0 17.683655 17.683654v-.083809q0 17.683654-17.683655 17.683655H732.715929q-17.683654.0-17.683654-17.683655v.083809q0-17.683654 17.683654-17.683654z" fill="#eb3d72" p-id="22316"/><path d="M205.139605 319.603307c4.441866-6.872321 22.041711-45.340555-11.817039-67.047031s-51.626214 8.380879-51.626214 8.380879a25.142637 25.142637.0 1042.742482 27.489282s2.179029 5.950424-6.537085 18.437934-25.142637 12.236083-43.077718.754279-47.01673-65.789899-.67047-138.787354c1.592367-2.514264 3.352352-4.693292 5.028527-7.039938a26.818812 26.818812.0 00-23.047417-2.430455 33.523515 33.523515.0 00-18.689359 17.683654c-31.260678 64.36515-22.628373 127.724594 21.203623 155.884347 48.944333 31.093061 82.048804-6.453277 86.49067-13.325597zM734.224488 931.491272c6.453277-2.681881 37.713955-21.45505 24.304548-53.386198s-40.647262-19.35983-40.647262-19.35983a21.874094 21.874094.0 1016.761757 40.312027s-1.340941 5.363762-13.577023 9.973246S697.264812 905.259122 689.889638 888.497364s-1.340941-69.561295 67.047031-98.894371c2.346646-1.005705 4.693292-1.676176 7.039938-2.514263a31.931148 31.931148.0 00-1.927602-3.352352 28.578797 28.578797.0 00-38.635851-7.542791c-51.87764 30.841634-74.422204 81.545951-57.325212 122.277023 19.778874 46.262451 61.59946 35.786353 68.136546 33.020662zM279.813236 802.844782c-5.950424-3.687587-39.390131-18.354125-57.660447 11.146569s7.794217 44.334849 7.794217 44.334849a21.874094 21.874094.0 1023.047417-36.875867s5.112336-2.011411 16.007479 5.279954 10.811334 21.622667 1.173323 37.211102-55.984271 41.317733-119.511333 2.430455c-2.179029-1.340941-4.106631-2.849499-6.118041-4.274249a22.376947 22.376947.0 00-1.676176 3.51997 28.662606 28.662606.0 0016.342714 36.037779c55.146183 24.388357 109.538087 13.409406 132.920739-24.136931 26.399768-42.9101-6.369468-70.902235-12.319892-74.673631zM431.00429 694.312401h302.298301m0 20.952197H431.00429a20.952197 20.952197.0 010-41.904394h302.298301a20.952197 20.952197.0 010 41.904394z" fill="#eb3d72" p-id="22317"/><path d="M255.760113 683.082023m-30.171164.0a30.171164 30.171164.0 1060.342328.0 30.171164 30.171164.0 10-60.342328.0z" fill="#fed150" opacity=".4" p-id="22318"/><path d="M356.246851 840.977781m-30.171164.0a30.171164 30.171164.0 1060.342328.0 30.171164 30.171164.0 10-60.342328.0z" fill="#fed150" opacity=".4" p-id="22319"/><path d="M54.870447 472.135302m-30.171164.0a30.171164 30.171164.0 1060.342328.0 30.171164 30.171164.0 10-60.342328.0z" fill="#fed150" opacity=".4" p-id="22320"/><path d="M561.410765 873.914635m-30.171164.0a30.171164 30.171164.0 1060.342328.0 30.171164 30.171164.0 10-60.342328.0z" fill="#fed150" opacity=".5" p-id="22321"/><path d="M445.167976 825.13792m-19.862683.0a19.862683 19.862683.0 1039.725365.0 19.862683 19.862683.0 10-39.725365.0z" fill="#fed150" opacity=".5" p-id="22322"/><path d="M149.406761 689.786726m-19.862683.0a19.862683 19.862683.0 1039.725365.0 19.862683 19.862683.0 10-39.725365.0z" fill="#fed150" opacity=".5" p-id="22323"/><path d="M132.225959 633.299603m-18.940786.0a18.940786 18.940786.0 1037.881572.0 18.940786 18.940786.0 10-37.881572.0z" fill="#fed150" opacity=".4" p-id="22324"/><path d="M475.339139 906.935297m-18.940786.0a18.940786 18.940786.0 1037.881573.0 18.940786 18.940786.0 10-37.881573.0z" fill="#fed150" opacity=".4" p-id="22325"/></svg>
<span>切换</span></a><div id=article-toolbar><a href=/ type=button class=back-home id=back-toggle aria-label=主页><svg class="icon icon-tabler icon-tabler-chevron-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M15 6l-6 6 6 6"/></svg>
<span>HOME</span></a></div><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label=切换菜单>
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/><img src=/img/avatar-3K_hu17441605814505371740.png width=300 height=300 class=site-logo loading=lazy decoding=async alt=Avatar>
</a><span class=emoji>🍥</span></figure><div class=site-meta><h1 class=site-name><a href=/>Logan🌀</a></h1><h2 class=site-description>Starry serenade ✍️</h2></div></header><ol class=menu-social><li><a href=https://github.com/loganoxo target=_blank title=GitHub rel=me><svg class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6.0 00-1.3-3.2 4.2 4.2.0 00-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3.0 00-6.2.0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2.0 00-.1 3.2A4.6 4.6.0 004 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg></a></li><li><a href=https://blog.csdn.net/u014229652 target=_blank title=my_csdn rel=me><svg class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg></a></li><li><a href=https://twitter.com target=_blank title=Twitter rel=me><svg class="icon icon-tabler icon-tabler-brand-twitter" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M22 4.01c-1 .49-1.98.689-3 .99-1.121-1.265-2.783-1.335-4.38-.737S11.977 6.323 12 8v1c-3.245.083-6.135-1.395-8-4 0 0-4.182 7.433 4 11-1.872 1.247-3.739 2.088-6 2 3.308 1.803 6.913 2.423 10.034 1.517 3.58-1.04 6.522-3.723 7.651-7.742a13.84 13.84.0 00.497-3.753C20.18 7.773 21.692 5.25 22 4.009z"/></svg></a></li></ol><ol class=menu id=main-menu><li><a href=/><svg class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg>
<span>主页</span></a></li><li class=current><a href=/articles/><svg class="icon icon-tabler icon-tabler-heart" width="44" height="44" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M19.5 12.572 12 20l-7.5-7.428A5 5 0 1112 6.006a5 5 0 117.5 6.572"/></svg>
<span>我的</span></a></li><li><a href=/page/archives/><svg class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg>
<span>归档</span></a></li><li><a href=/page/photos/><svg class="icon icon-tabler icon-tabler-camera" width="44" height="44" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M5 7h1a2 2 0 002-2 1 1 0 011-1h6a1 1 0 011 1 2 2 0 002 2h1a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9a2 2 0 012-2"/><path d="M9 13a3 3 0 106 0 3 3 0 00-6 0"/></svg>
<span>相册</span></a></li><li><a href=/page/search/><svg class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg>
<span>搜索</span></a></li><li><a href=/timeline/><svg class="icon icon-tabler icon-tabler-fish-christianity" width="44" height="44" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M22 7S16.354 17 9.692 17c-3.226.025-6.194-1.905-7.692-5 1.498-3.095 4.466-5.025 7.692-5C16.354 7 22 17 22 17"/></svg>
<span>年轴</span></a></li><li><a href=/page/links/><svg class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M10 14a3.5 3.5.0 005 0l4-4a3.5 3.5.0 00-5-5l-.5.5"/><path d="M14 10a3.5 3.5.0 00-5 0l-4 4a3.5 3.5.0 005 5l.5-.5"/></svg>
<span>友链</span></a></li><li><a href=/about/><svg class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="7" r="4"/><path d="M6 21v-2a4 4 0 014-4h4a4 4 0 014 4v2"/></svg>
<span>关于</span></a></li><li class=menu-bottom-section><ol class=menu><li id=dark-mode-toggle><svg class="icon icon-tabler icon-tabler-toggle-left" viewBox="0 0 1025 1024" p-id="14930" width="128" height="128"><path d="M253.939302 502.92736a269.74208 269.74208.0 00122.90048 235.84768 257.024 257.024.0 00259.95264 9.07264c81.46944-44.27776 135.70048-130.49856 139.0592-226.7136 5.14048-147.3536-107.37664-270.1312-250.63424-275.1488-145.32608-5.05856-266.1376 109.568-271.27808 256.94208zM531.730022.3072c16.384.57344 32.256 15.48288 31.62112 33.8944l-3.72736 106.43456c-.57344 16.384-15.4624 32.256-33.8944 31.60064-16.384-.57344-32.23552-15.4624-31.60064-33.8944l3.72736-106.43456c2.74432-20.3776 15.4624-32.23552 33.87392-31.60064zm493.89568 527.52384c-.57344 16.384-13.35296 30.26944-33.8944 31.60064l-104.36608-3.64544c-16.384-.57344-32.19456-17.53088-31.62112-33.8944.57344-16.384 15.48288-32.256 33.8944-31.60064l104.38656 3.64544a32.3584 32.3584.0 0131.60064 33.8944zm-855.53152-29.9008c-.57344 16.384-13.35296 30.28992-33.8944 31.62112l-104.38656-3.64544c-16.384-.57344-32.17408-17.5104-31.60064-33.8944.57344-16.384 15.4624-32.256 33.8944-31.60064l104.38656 3.64544a32.3584 32.3584.0 0131.60064 33.8944zm325.91872 525.76256c-16.384-.57344-32.256-15.48288-31.62112-33.8944l3.72736-106.43456c.57344-16.384 15.4624-32.256 33.8944-31.60064 16.384.57344 32.23552 15.4624 31.60064 33.8944l-3.72736 106.43456c-2.74432 20.3776-17.5104 32.1536-33.87392 31.60064zm401.32608-871.26016c11.85792 12.6976 11.0592 35.2256-1.6384 47.06304l-78.37696 73.09312c-12.6976 11.85792-33.1776 11.14112-47.08352-1.6384-11.83744-12.6976-11.0592-35.2256 1.6384-47.08352l78.39744-73.09312c16.85504-13.74208 35.2256-11.0592 47.06304 1.6384zm-15.50336 737.1776c-12.6976 11.85792-31.1296 11.22304-47.06304-1.6384l-70.9632-80.34304c-11.85792-12.6976-11.0592-35.2256 1.6384-47.08352s35.2256-11.0592 47.08352 1.6384l73.07264 78.37696c9.728 14.68416 8.94976 37.21216-3.76832 49.0496zm-596.31616-645.8368c-12.6976 11.85792-31.1296 11.20256-47.06304-1.6384l-73.09312-78.37696c-11.85792-12.6976-11.0592-35.2256 1.6384-47.08352s35.2256-11.0592 47.08352 1.6384l73.09312 78.37696c11.776 14.7456 11.0592 35.2256-1.6384 47.08352zm-138.24 614.05184c-11.85792-12.71808-11.0592-35.2256 1.6384-47.08352l78.37696-73.09312c12.6976-11.83744 33.1776-11.12064 47.08352 1.6384 11.83744 12.71808 11.0592 35.2256-1.6384 47.104l-78.39744 73.07264c-16.7936 11.71456-35.2256 11.0592-47.06304-1.6384z" fill="#ffb948"/></svg>
<svg class="icon icon-tabler icon-tabler-toggle-right" viewBox="0 0 1024 1024" width="128" height="128"><path d="M578.256332 591.814252v-82.970701m0 95.54202a12.655127 12.655127.0 01-12.571318-12.571319v-82.970701a12.571318 12.571318.0 1125.142636.0v82.970701a12.571318 12.571318.0 01-12.571318 12.571319z" fill="#f89b1b"/><path d="M598.873294 479.342858a36.959676 36.959676.0 01-27.573092-61.59946 52.380493 52.380493.0 1062.521357 36.540632 36.875867 36.875867.0 01-34.948265 25.058828zm204.0744-109.035234v-82.970701m0 95.542019a12.571318 12.571318.0 01-12.571318-12.571318v-82.970701a12.571318 12.571318.0 1125.142636.0v82.970701a12.571318 12.571318.0 01-12.571318 12.571318z" fill="#f89b1b"/><path d="M823.9837 257.83623a36.959676 36.959676.0 01-27.6569-61.515651 52.129067 52.129067.0 1064.616576 50.285273 53.050963 53.050963.0 00-2.011411-14.163685A36.875867 36.875867.0 01823.9837 257.83623z" fill="#f89b1b"/><path d="M803.282929 328.822274a59.588049 59.588049.0 0159.588049 59.588048V785.66398H743.694881V388.410322a59.588049 59.588049.0 0159.588048-59.588048zM581.776301 551.16699a143.145411 143.145411.0 01143.145411 143.145411V837.54162H438.463272V694.312401A143.145411 143.145411.0 01581.776301 551.16699z" fill="#612273"/><path d="M600.968514 198.667225l-49.111951-4.693292a8.380879 8.380879.0 01-7.039938-5.196145l-17.599845-42.658674a8.380879 8.380879.0 00-15.672244.0l-17.432228 42.658674a8.380879 8.380879.0 01-7.039938 5.196145l-49.11195 4.693292a8.380879 8.380879.0 00-4.777101 14.750347l36.959676 32.51781a8.380879 8.380879.0 012.681881 8.380878l-11.06276 45.67579a8.380879 8.380879.0 0012.487509 9.302776L515.232123 285.074086a8.380879 8.380879.0 018.380879.0l40.982497 24.136931a8.380879 8.380879.0 0012.571319-9.302776l-10.978952-45.675789a8.380879 8.380879.0 012.681882-8.380879L606.08085 213.417572a8.380879 8.380879.0 00-5.028528-14.750347z" fill="#fed150"/><path d="M470.897274 246.77347l1.927602-8.380879a8.380879 8.380879.0 00-2.681881-8.380879l-35.032074-30.506399a8.380879 8.380879.0 00-1.927602 13.912259l36.959676 32.51781a6.788512 6.788512.0 01.754279.838088zM603.98563 199.589122l-34.948265 30.674016a8.380879 8.380879.0 00-2.681881 8.380879l1.927602 8.380879a6.788512 6.788512.0 01.754279-.838088l37.043485-32.769236a8.380879 8.380879.0 00-2.09522-13.82845zm-28.578797 92.189667a8.380879 8.380879.0 01-10.643716 1.759985l-40.982498-24.053123a8.380879 8.380879.0 00-8.380879.0L474.249625 293.454965a8.380879 8.380879.0 01-10.643716-1.676176l-1.927602 8.380879a8.380879 8.380879.0 0012.487509 9.302775l41.066307-24.388357a8.380879 8.380879.0 018.380879.0l40.982497 24.136931a8.380879 8.380879.0 0012.571319-9.302776z" fill="#fed150" opacity=".5"/><path d="M434.608068 426.543321l-28.159753-2.681881a4.86091 4.86091.0 01-4.022822-3.017117l-10.057054-24.388357a4.86091 4.86091.0 00-8.967541.0l-9.973245 24.388357a4.693292 4.693292.0 01-4.022822 3.017117l-28.159753 2.681881a4.86091 4.86091.0 00-2.76569 8.380879l21.203623 18.605551a4.944719 4.944719.0 011.592367 4.777101L354.654484 484.455194a4.86091 4.86091.0 007.123747 5.363762l23.466461-13.82845a5.196145 5.196145.0 014.944718.0l23.466461 13.82845a4.86091 4.86091.0 007.123747-5.363762l-6.285659-26.064533a4.86091 4.86091.0 011.508558-4.777101l21.203624-18.605551a4.86091 4.86091.0 00-2.849499-8.380879z" fill="#fed150"/><path d="M360.102055 454.032604l1.173323-4.609484a4.944719 4.944719.0 00-1.592367-5.112336l-20.0303-17.683654a4.944719 4.944719.0 00-1.173323 8.380879l21.203623 18.605551zm76.182189-26.98643-20.0303 17.26461a4.86091 4.86091.0 00-1.508559 4.777101l1.173323 4.693292v-.502852l21.203624-18.605551a4.86091 4.86091.0 00-.838088-7.6266zM419.94153 479.845711a4.777101 4.777101.0 01-6.034233 1.005705l-23.46646-13.82845a5.196145 5.196145.0 00-4.944719.0l-23.466461 13.82845a4.777101 4.777101.0 01-6.034233-1.005705l-1.089514 4.609483a4.86091 4.86091.0 007.123747 5.363762l23.466461-13.82845a5.196145 5.196145.0 014.944719.0l23.46646 13.82845a4.86091 4.86091.0 007.123747-5.363762z" fill="#fed150" opacity=".5"/><path d="M635.413926 803.68287A414.685886 414.685886.0 01459.41547 18.729756 9.805628 9.805628.0 00453.967898.124205a513.831683 513.831683.0 10567.050264 607.027056 9.805628 9.805628.0 00-18.186507-6.704704A414.350651 414.350651.0 01635.413926 803.68287z" fill="#fed150" p-id="22313"/><path d="M50.931434 292.868303a460.110249 460.110249.0 00275.311871 359.455895 413.847798 413.847798.0 01133.339782-633.594442A9.805628 9.805628.0 00453.967898.124205 513.915492 513.915492.0 0050.931434 292.868303z" fill="#fed150" opacity=".4" p-id="22314"/><path d="M1006.016389 597.261823A513.664065 513.664065.0 013.914704 475.320036c-.670471 10.308481-1.257132 20.616962-1.257132 31.093061a513.831683 513.831683.0 001018.36059 100.570546 9.805628 9.805628.0 00-15.001773-9.72182zM231.539373 332.258434c0 7.458982.67047 14.917964 1.257132 22.293138A414.769695 414.769695.0 01459.583087 18.729756 9.805628 9.805628.0 00453.967898.124205a505.869848 505.869848.0 00-94.620122 20.868388A413.177328 413.177328.0 00231.539373 332.258434z" fill="#fed150" opacity=".5" p-id="22315"/><path d="M715.032275 421.514794m17.683654.0h141.217809q17.683654.0 17.683655 17.683654v-.083809q0 17.683654-17.683655 17.683655H732.715929q-17.683654.0-17.683654-17.683655v.083809q0-17.683654 17.683654-17.683654z" fill="#eb3d72" p-id="22316"/><path d="M205.139605 319.603307c4.441866-6.872321 22.041711-45.340555-11.817039-67.047031s-51.626214 8.380879-51.626214 8.380879a25.142637 25.142637.0 1042.742482 27.489282s2.179029 5.950424-6.537085 18.437934-25.142637 12.236083-43.077718.754279-47.01673-65.789899-.67047-138.787354c1.592367-2.514264 3.352352-4.693292 5.028527-7.039938a26.818812 26.818812.0 00-23.047417-2.430455 33.523515 33.523515.0 00-18.689359 17.683654c-31.260678 64.36515-22.628373 127.724594 21.203623 155.884347 48.944333 31.093061 82.048804-6.453277 86.49067-13.325597zM734.224488 931.491272c6.453277-2.681881 37.713955-21.45505 24.304548-53.386198s-40.647262-19.35983-40.647262-19.35983a21.874094 21.874094.0 1016.761757 40.312027s-1.340941 5.363762-13.577023 9.973246S697.264812 905.259122 689.889638 888.497364s-1.340941-69.561295 67.047031-98.894371c2.346646-1.005705 4.693292-1.676176 7.039938-2.514263a31.931148 31.931148.0 00-1.927602-3.352352 28.578797 28.578797.0 00-38.635851-7.542791c-51.87764 30.841634-74.422204 81.545951-57.325212 122.277023 19.778874 46.262451 61.59946 35.786353 68.136546 33.020662zM279.813236 802.844782c-5.950424-3.687587-39.390131-18.354125-57.660447 11.146569s7.794217 44.334849 7.794217 44.334849a21.874094 21.874094.0 1023.047417-36.875867s5.112336-2.011411 16.007479 5.279954 10.811334 21.622667 1.173323 37.211102-55.984271 41.317733-119.511333 2.430455c-2.179029-1.340941-4.106631-2.849499-6.118041-4.274249a22.376947 22.376947.0 00-1.676176 3.51997 28.662606 28.662606.0 0016.342714 36.037779c55.146183 24.388357 109.538087 13.409406 132.920739-24.136931 26.399768-42.9101-6.369468-70.902235-12.319892-74.673631zM431.00429 694.312401h302.298301m0 20.952197H431.00429a20.952197 20.952197.0 010-41.904394h302.298301a20.952197 20.952197.0 010 41.904394z" fill="#eb3d72" p-id="22317"/><path d="M255.760113 683.082023m-30.171164.0a30.171164 30.171164.0 1060.342328.0 30.171164 30.171164.0 10-60.342328.0z" fill="#fed150" opacity=".4" p-id="22318"/><path d="M356.246851 840.977781m-30.171164.0a30.171164 30.171164.0 1060.342328.0 30.171164 30.171164.0 10-60.342328.0z" fill="#fed150" opacity=".4" p-id="22319"/><path d="M54.870447 472.135302m-30.171164.0a30.171164 30.171164.0 1060.342328.0 30.171164 30.171164.0 10-60.342328.0z" fill="#fed150" opacity=".4" p-id="22320"/><path d="M561.410765 873.914635m-30.171164.0a30.171164 30.171164.0 1060.342328.0 30.171164 30.171164.0 10-60.342328.0z" fill="#fed150" opacity=".5" p-id="22321"/><path d="M445.167976 825.13792m-19.862683.0a19.862683 19.862683.0 1039.725365.0 19.862683 19.862683.0 10-39.725365.0z" fill="#fed150" opacity=".5" p-id="22322"/><path d="M149.406761 689.786726m-19.862683.0a19.862683 19.862683.0 1039.725365.0 19.862683 19.862683.0 10-39.725365.0z" fill="#fed150" opacity=".5" p-id="22323"/><path d="M132.225959 633.299603m-18.940786.0a18.940786 18.940786.0 1037.881572.0 18.940786 18.940786.0 10-37.881572.0z" fill="#fed150" opacity=".4" p-id="22324"/><path d="M475.339139 906.935297m-18.940786.0a18.940786 18.940786.0 1037.881573.0 18.940786 18.940786.0 10-37.881573.0z" fill="#fed150" opacity=".4" p-id="22325"/></svg>
<span>主题</span></li></ol></li></ol></aside><main class="main full-width"><nav aria-label=breadcrumb class=breadcrumb><ol><li><a href=/>首页</a></li><div><svg class="icon icon-tabler icon-tabler-chevrons-right" width="44" height="44" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M7 7l5 5-5 5"/><path d="M13 7l5 5-5 5"/></svg></div><li><a href=/articles/>我的发布</a></li><div><svg class="icon icon-tabler icon-tabler-chevrons-right" width="44" height="44" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M7 7l5 5-5 5"/><path d="M13 7l5 5-5 5"/></svg></div><li><a href=/articles/linux/>linux相关内容</a></li><div><svg class="icon icon-tabler icon-tabler-chevrons-right" width="44" height="44" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M7 7l5 5-5 5"/><path d="M13 7l5 5-5 5"/></svg></div><li class=active><a aria-current=page href=/articles/linux/debian/install/>debian的安装</a></li></ol></nav><article class="has-image main-article"><header class="article-header not-page"><div class=article-image><a href=/articles/linux/debian/install/><img src=https://logan.1357810.xyz/cover/debiancover.png loading=lazy decoding=async alt="Featured image of post debian的安装"></a></div><section class="main-hero-waves-area waves-area"><svg class="waves-svg" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s58 18 88 18 58-18 88-18 58 18 88 18v44h-352z"/></defs><g class="parallax"><use href="#gentle-wave" x="48" y="0"/><use href="#gentle-wave" x="48" y="3"/><use href="#gentle-wave" x="48" y="5"/><use href="#gentle-wave" x="48" y="7"/></g></svg></section><div class=article-details><header class=article-category><a href=/categories/linux/ style=background-color:#524c42;color:#fff>Linux</a></header><div class=article-title-wrapper><h2 class=article-title><a href=/articles/linux/debian/install/>debian的安装</a></h2><h3 class=article-subtitle>debian系统安装和常用的命令行工具;开发环境配置</h3></div><footer class=article-time><div><svg class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg>
<time class=article-time--published>2024年11月25日</time></div><div><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<time class=article-time--reading>阅读时长: 36 分钟</time></div></footer></div></header><section class=article-content><h1 id=debian的安装><a href=#debian%e7%9a%84%e5%ae%89%e8%a3%85 class=header-anchor></a>debian的安装</h1><h3 id=详细文档-><a href=#%e8%af%a6%e7%bb%86%e6%96%87%e6%a1%a3- class=header-anchor></a>详细文档 :</h3><ul><li><a class=link href=https://wiki.debian.org/zh_CN/FrontPage target=_blank rel=noopener>https://wiki.debian.org/zh_CN/FrontPage
<span style=white-space:nowrap class="link-text iconfont-logan icon-logan-arrow-up-right-from-square-solid"></span>
</a>详细的wiki</li><li><a class=link href=https://www.debian.org/doc/manuals/debian-handbook/index.zh-cn.html target=_blank rel=noopener>https://www.debian.org/doc/manuals/debian-handbook/index.zh-cn.html
<span style=white-space:nowrap class="link-text iconfont-logan icon-logan-arrow-up-right-from-square-solid"></span>
</a>手册</li><li><a class=link href=https://www.debian.org/doc/manuals/debian-reference/index.zh-cn.html target=_blank rel=noopener>https://www.debian.org/doc/manuals/debian-reference/index.zh-cn.html
<span style=white-space:nowrap class="link-text iconfont-logan icon-logan-arrow-up-right-from-square-solid"></span>
</a>参考手册</li><li><a class=link href=https://www.debian.org/releases/stable/arm64/index.zh-cn.html target=_blank rel=noopener>https://www.debian.org/releases/stable/arm64/index.zh-cn.html
<span style=white-space:nowrap class="link-text iconfont-logan icon-logan-arrow-up-right-from-square-solid"></span>
</a>安装手册</li><li><a class=link href=https://wiki.debian.org/zh_CN/NetworkConfiguration target=_blank rel=noopener>https://wiki.debian.org/zh_CN/NetworkConfiguration
<span style=white-space:nowrap class="link-text iconfont-logan icon-logan-arrow-up-right-from-square-solid"></span>
</a>网络配置</li></ul><h3 id=一键装机脚本见我的github><a href=#%e4%b8%80%e9%94%ae%e8%a3%85%e6%9c%ba%e8%84%9a%e6%9c%ac%e8%a7%81%e6%88%91%e7%9a%84github class=header-anchor></a>一键装机脚本见我的GitHub:</h3><ul><li><a class=link href=https://github.com/loganoxo/Config/tree/master/linux/install target=_blank rel=noopener>https://github.com/loganoxo/Config/tree/master/linux/install
<span style=white-space:nowrap class="link-text iconfont-logan icon-logan-arrow-up-right-from-square-solid"></span></a></li></ul><p><img src=https://logan.1357810.xyz/cover/debianshow.png width=200 height=200 loading=lazy decoding=async alt=debian.jpg class="gallery-image link-image" data-flex-grow=20 data-flex-basis=20px></p><h2 id=一debian虚拟机的安装><a href=#%e4%b8%80debian%e8%99%9a%e6%8b%9f%e6%9c%ba%e7%9a%84%e5%ae%89%e8%a3%85 class=header-anchor></a>一、debian虚拟机的安装</h2><h3 id=1用虚拟机安装debian12><a href=#1%e7%94%a8%e8%99%9a%e6%8b%9f%e6%9c%ba%e5%ae%89%e8%a3%85debian12 class=header-anchor></a>1、用虚拟机安装debian12</h3><ul><li>vmware 桥接模式的虚拟机不能用quanx的代理连接国外网站; nat模式是虚拟机自己组成子网,通过nat转发流量到宿主机,所以可以通过quanx连接国外网站;</li><li>但是nat模式下,宿主机默认不能直接通过虚拟机的内部 IP（例如 172.x.x.x）进行远程连接（如 SSH），因为 NAT 模式下虚拟机的网络是一个私有子网，与宿主机的网络隔离,除非用端口转发(windows上的nat)</li><li>mac中,vmware_fusion提供了自定义网络,选这个,其实是用的桥接网络,加上nat转发流量连接外网; 宿主机既可以ssh连接虚拟机,虚拟机也可以使用quanx访问国外网站</li><li>选择第二个 <code>Graphical install</code>, 安装界面可以用鼠标点击; 第一个 <code>Install</code> 的安装界面只能用键盘不能用鼠标</li><li>美国: United States</li><li>步骤1:语言选择美国英文:安装过程中显示的语言,所选语言也将是系统安装后的默认语言;安装后可用 <code>sudo dpkg-reconfigure locales</code> 重新配置</li><li>步骤2:选择区域, 中国; 会影响时区; 先选other,再asia,再选china</li><li>步骤3:因为没有找到符合你选择的语言和国家组合(我选的是美国英文+中国时区)的预设区域设置，系统会提示你重新选语言,依然选美国英文</li><li>步骤4:Configure the keyboard,键盘布局,选择American English;安装后可用 <code>sudo dpkg-reconfigure keyboard-configuration</code> 重新配置</li><li>步骤5:hostname, 设置为 <code>prod</code> 或 <code>dev</code> 或 <code>test</code> ; 这样的格式</li><li>步骤6:domain name; 设置为 <code>vm.local</code> ; 这样的格式</li><li>步骤7:输入两次root用户的密码;</li><li>步骤8:full name; 全名,真实姓名(英文的姓+名), 用于显示的; 就设置为 helq就可以了 ;</li><li>步骤9:username; 用于登录的; 设为helq</li><li>步骤10:输入两次helq用户的密码;</li><li>步骤11:Partition disks; 选择 Guided - use entire disk ; 不分区,使用整个磁盘(虚拟机创建的虚拟磁盘);</li><li>步骤12:会提示:Partition disks; Note that all data on the disk you select will be erased, but not before you have confirmed that you really want to make the changes. 就是个磁盘擦除警告,直接选择那个磁盘,回车下一步</li><li>步骤13:Selected for partitioning:The disk can be partitioned using one of several different schemes. If you are unsure, choose the first one. 选择分区方案; 直接选择第一个: All files in one partition</li><li>步骤14:This is an overview of your currently configured partitions and mount points. Select a partition to modify its settings (file system, mount point, etc.), a free space to create partitions, or a device to initialize its partition table. 即当前配置的分区和挂载点的概述, 选择Finish partitioning and write changes to disk,继续回车</li><li>步骤15:If you continue, the changes listed below will be written to the disks. Otherwise, you will be able to make further changes manually; 一个确认提示, 选择yes, 回车继续;如果选择默认的no, 会回到上一步</li><li>步骤16:Configure the package manager;Scanning your installation media finds the label; 是否扫描额外的安装介质; 选择no ,回车继续</li><li>步骤17:A network mirror can be used to supplement the software that is included on the installation media. This may also make newer versions of software available; 网络镜像的配置; debian12不用镜像,安装包里自带了,直接选no回车继续; debian11安装时,这里也选no;但是11.7.0那个包安装时,即便有梯子下载速度也很慢,所以debian这里需要断网; 但是11.11.0的包我安装的时候联网就通过了;</li><li>步骤18:Configuring popularity-contest; 提示是否开启匿名信息统计,选择no回车</li><li>步骤19:选择默认的软件包:SSH server、standard system utilities; 回车继续</li><li>步骤20: 安装结束; 回车 continue 会自动重启; 关机后需要把 虚拟机的设置里面的 CD/DVD 驱动器 取消连接</li></ul><h2 id=二debian的环境搭建><a href=#%e4%ba%8cdebian%e7%9a%84%e7%8e%af%e5%a2%83%e6%90%ad%e5%bb%ba class=header-anchor></a>二、debian的环境搭建</h2><h3 id=1软件包的源配置><a href=#1%e8%bd%af%e4%bb%b6%e5%8c%85%e7%9a%84%e6%ba%90%e9%85%8d%e7%bd%ae class=header-anchor></a>1、软件包的源配置</h3><ul><li>/etc/apt/sources.list</li><li>debian12那个系统DVD安装好后,发现 /etc/apt/sources.list 中的内容是 <code>deb cdrom:[Debian GNU/Linux 12.8.0 _Bookworm_ - Official arm64 DVD Binary-1 with firmware 20241109-11:05]/ bookworm contrib main non-free-firmware</code>,因为这个系统最初通过离线 DVD 安装的,安装的DVD中包含所有的了</li></ul><h4 id=a备份原来的><a href=#a%e5%a4%87%e4%bb%bd%e5%8e%9f%e6%9d%a5%e7%9a%84 class=header-anchor></a>a、备份原来的</h4><div class=logan-code-block><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-0-1><a class=lnlinks href=#hl-0-1>1</a>
</span><span class=lnt id=hl-0-2><a class=lnlinks href=#hl-0-2>2</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>su
</span></span><span class=line><span class=cl>cp /etc/apt/sources.list /etc/apt/sources.list.bak</span></span></code></pre></td></tr></table></div></div><div class=code-scroll aria-label=代码块滚动工具栏><button class="code-scroll-left iconfont-logan icon-logan-circle-left-solid" aria-label=向左滚动></button>
<button class="code-scroll-right iconfont-logan icon-logan-circle-right-solid" aria-label=向右滚动></button></div><div class=code-tools aria-label=代码块工具栏><div class=copy-text>Copied!</div><button class="copy-code-button iconfont-logan icon-logan-copy-round3" aria-label=复制></button>
<button class="my-code-fold iconfont-logan icon-logan-circle-chevron-down-solid expand1" aria-label=折叠></button></div></div><h4 id=b解释><a href=#b%e8%a7%a3%e9%87%8a class=header-anchor></a>b、解释</h4><ul><li>deb: 二进制软件包的来源，这些包是已经编译好的，可以直接安装到你的系统中,它是普通用户用来安装应用程序和库的来源</li><li>deb-src: 源码软件包的来源。源码包包含了软件的源代码，你可以从中编译和安装软件,如果需要修改或自行编译软件，可以用到这个源</li><li>bookworm/bullseye: debian12/debian11 ;是发行版的代号</li><li>main：完全开源的软件，符合 Debian 自由软件指南;</li><li>contrib：自由软件，但需要依赖非自由的软件（如驱动或库）</li><li>non-free：非自由软件（可能有版权或许可限制，用户可以使用但不能修改）</li><li>non-free-firmware：从 non-free 中分离出来的非自由固件，专用于硬件驱动和设备运行支持</li></ul><h4 id=c使用官方的源需要梯子><a href=#c%e4%bd%bf%e7%94%a8%e5%ae%98%e6%96%b9%e7%9a%84%e6%ba%90%e9%9c%80%e8%a6%81%e6%a2%af%e5%ad%90 class=header-anchor></a>c、使用官方的源(需要梯子)</h4><div class=logan-code-block><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-1-1><a class=lnlinks href=#hl-1-1>1</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>su <span class=c1>#进入root用户</span></span></span></code></pre></td></tr></table></div></div><div class=code-scroll aria-label=代码块滚动工具栏><button class="code-scroll-left iconfont-logan icon-logan-circle-left-solid" aria-label=向左滚动></button>
<button class="code-scroll-right iconfont-logan icon-logan-circle-right-solid" aria-label=向右滚动></button></div><div class=code-tools aria-label=代码块工具栏><div class=copy-text>Copied!</div><button class="copy-code-button iconfont-logan icon-logan-copy-round3" aria-label=复制></button>
<button class="my-code-fold iconfont-logan icon-logan-circle-chevron-down-solid expand1" aria-label=折叠></button></div></div><h5 id=idebian12><a href=#idebian12 class=header-anchor></a>I、debian12</h5><div class=logan-code-block><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-2-1><a class=lnlinks href=#hl-2-1> 1</a>
</span><span class=lnt id=hl-2-2><a class=lnlinks href=#hl-2-2> 2</a>
</span><span class=lnt id=hl-2-3><a class=lnlinks href=#hl-2-3> 3</a>
</span><span class=lnt id=hl-2-4><a class=lnlinks href=#hl-2-4> 4</a>
</span><span class=lnt id=hl-2-5><a class=lnlinks href=#hl-2-5> 5</a>
</span><span class=lnt id=hl-2-6><a class=lnlinks href=#hl-2-6> 6</a>
</span><span class=lnt id=hl-2-7><a class=lnlinks href=#hl-2-7> 7</a>
</span><span class=lnt id=hl-2-8><a class=lnlinks href=#hl-2-8> 8</a>
</span><span class=lnt id=hl-2-9><a class=lnlinks href=#hl-2-9> 9</a>
</span><span class=lnt id=hl-2-10><a class=lnlinks href=#hl-2-10>10</a>
</span><span class=lnt id=hl-2-11><a class=lnlinks href=#hl-2-11>11</a>
</span><span class=lnt id=hl-2-12><a class=lnlinks href=#hl-2-12>12</a>
</span><span class=lnt id=hl-2-13><a class=lnlinks href=#hl-2-13>13</a>
</span><span class=lnt id=hl-2-14><a class=lnlinks href=#hl-2-14>14</a>
</span><span class=lnt id=hl-2-15><a class=lnlinks href=#hl-2-15>15</a>
</span><span class=lnt id=hl-2-16><a class=lnlinks href=#hl-2-16>16</a>
</span><span class=lnt id=hl-2-17><a class=lnlinks href=#hl-2-17>17</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>cat &gt; /etc/apt/sources.list <span class=s>&lt;&lt; EOF
</span></span></span><span class=line><span class=cl><span class=s># 提供主要的软件包库,是系统大部分软件的来源,包括基础的操作系统组件和应用程序包,用于升级系统和安装软件
</span></span></span><span class=line><span class=cl><span class=s>deb http://deb.debian.org/debian bookworm main contrib non-free non-free-firmware
</span></span></span><span class=line><span class=cl><span class=s>deb-src http://deb.debian.org/debian bookworm main contrib non-free non-free-firmware
</span></span></span><span class=line><span class=cl><span class=s>
</span></span></span><span class=line><span class=cl><span class=s># 提供安全性修复的更新,包含及时修复的安全漏洞补丁,用于修复系统或软件中的已知漏洞
</span></span></span><span class=line><span class=cl><span class=s>deb http://security.debian.org/debian-security bookworm-security main contrib non-free non-free-firmware
</span></span></span><span class=line><span class=cl><span class=s>deb-src http://security.debian.org/debian-security bookworm-security main contrib non-free non-free-firmware
</span></span></span><span class=line><span class=cl><span class=s>
</span></span></span><span class=line><span class=cl><span class=s># 快速修复一些关键问题,目的是解决一些无法等到下一个点版本(例如从 12.1 到 12.2)发布才能修复的问题
</span></span></span><span class=line><span class=cl><span class=s>deb http://deb.debian.org/debian bookworm-updates main contrib non-free non-free-firmware
</span></span></span><span class=line><span class=cl><span class=s>deb-src http://deb.debian.org/debian bookworm-updates main contrib non-free non-free-firmware
</span></span></span><span class=line><span class=cl><span class=s>
</span></span></span><span class=line><span class=cl><span class=s># 反向移植,指从 Debian 的较高版本中(例如 bookworm)选取特定的软件包,并在当前稳定版本(例如 bullseye)上进行重新编译和打包;用户可以在稳定版系统中使用更高版本的应用程序或工具,而无需升级整个系统到测试版或不稳定版
</span></span></span><span class=line><span class=cl><span class=s># deb http://deb.debian.org/debian bookworm-backports main contrib non-free non-free-firmware
</span></span></span><span class=line><span class=cl><span class=s># deb-src http://deb.debian.org/debian bookworm-backports main contrib non-free non-free-firmware
</span></span></span><span class=line><span class=cl><span class=s>EOF</span></span></span></code></pre></td></tr></table></div></div><div class=code-scroll aria-label=代码块滚动工具栏><button class="code-scroll-left iconfont-logan icon-logan-circle-left-solid" aria-label=向左滚动></button>
<button class="code-scroll-right iconfont-logan icon-logan-circle-right-solid" aria-label=向右滚动></button></div><div class=code-tools aria-label=代码块工具栏><div class=copy-text>Copied!</div><button class="copy-code-button iconfont-logan icon-logan-copy-round3" aria-label=复制></button>
<button class="my-code-fold iconfont-logan icon-logan-circle-chevron-down-solid expand1" aria-label=折叠></button></div></div><ul><li>debian11 只需把 bookworm 改为 bullseye</li></ul><h4 id=d使用国内镜像源><a href=#d%e4%bd%bf%e7%94%a8%e5%9b%bd%e5%86%85%e9%95%9c%e5%83%8f%e6%ba%90 class=header-anchor></a>d、使用国内镜像源</h4><div class=logan-code-block><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-3-1><a class=lnlinks href=#hl-3-1> 1</a>
</span><span class=lnt id=hl-3-2><a class=lnlinks href=#hl-3-2> 2</a>
</span><span class=lnt id=hl-3-3><a class=lnlinks href=#hl-3-3> 3</a>
</span><span class=lnt id=hl-3-4><a class=lnlinks href=#hl-3-4> 4</a>
</span><span class=lnt id=hl-3-5><a class=lnlinks href=#hl-3-5> 5</a>
</span><span class=lnt id=hl-3-6><a class=lnlinks href=#hl-3-6> 6</a>
</span><span class=lnt id=hl-3-7><a class=lnlinks href=#hl-3-7> 7</a>
</span><span class=lnt id=hl-3-8><a class=lnlinks href=#hl-3-8> 8</a>
</span><span class=lnt id=hl-3-9><a class=lnlinks href=#hl-3-9> 9</a>
</span><span class=lnt id=hl-3-10><a class=lnlinks href=#hl-3-10>10</a>
</span><span class=lnt id=hl-3-11><a class=lnlinks href=#hl-3-11>11</a>
</span><span class=lnt id=hl-3-12><a class=lnlinks href=#hl-3-12>12</a>
</span><span class=lnt id=hl-3-13><a class=lnlinks href=#hl-3-13>13</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>cat &gt; /etc/apt/sources.list <span class=s>&lt;&lt; EOF
</span></span></span><span class=line><span class=cl><span class=s># 默认注释了源码镜像以提高 apt update 速度，如有需要可自行取消注释
</span></span></span><span class=line><span class=cl><span class=s>deb http://mirrors.tuna.tsinghua.edu.cn/debian/ bullseye main contrib non-free
</span></span></span><span class=line><span class=cl><span class=s># deb-src http://mirrors.tuna.tsinghua.edu.cn/debian/ bullseye main contrib non-free
</span></span></span><span class=line><span class=cl><span class=s>deb http://mirrors.tuna.tsinghua.edu.cn/debian/ bullseye-updates main contrib non-free
</span></span></span><span class=line><span class=cl><span class=s># deb-src http://mirrors.tuna.tsinghua.edu.cn/debian/ bullseye-updates main contrib non-free
</span></span></span><span class=line><span class=cl><span class=s>deb http://mirrors.tuna.tsinghua.edu.cn/debian/ bullseye-backports main contrib non-free
</span></span></span><span class=line><span class=cl><span class=s># deb-src http://mirrors.tuna.tsinghua.edu.cn/debian/ bullseye-backports main contrib non-free
</span></span></span><span class=line><span class=cl><span class=s># deb http://mirrors.tuna.tsinghua.edu.cn/debian-security bullseye-security main contrib non-free
</span></span></span><span class=line><span class=cl><span class=s># # deb-src http://mirrors.tuna.tsinghua.edu.cn/debian-security bullseye-security main contrib non-free
</span></span></span><span class=line><span class=cl><span class=s>deb http://security.debian.org/debian-security bullseye-security main contrib non-free
</span></span></span><span class=line><span class=cl><span class=s># deb-src http://security.debian.org/debian-security bullseye-security main contrib non-free
</span></span></span><span class=line><span class=cl><span class=s>EOF</span></span></span></code></pre></td></tr></table></div></div><div class=code-scroll aria-label=代码块滚动工具栏><button class="code-scroll-left iconfont-logan icon-logan-circle-left-solid" aria-label=向左滚动></button>
<button class="code-scroll-right iconfont-logan icon-logan-circle-right-solid" aria-label=向右滚动></button></div><div class=code-tools aria-label=代码块工具栏><div class=copy-text>Copied!</div><button class="copy-code-button iconfont-logan icon-logan-copy-round3" aria-label=复制></button>
<button class="my-code-fold iconfont-logan icon-logan-circle-chevron-down-solid expand1" aria-label=折叠></button></div></div><p>上面是debian11的配置; debian12的去找镜像网站有相关配置,这里不写了</p><h4 id=e更新><a href=#e%e6%9b%b4%e6%96%b0 class=header-anchor></a>e、更新</h4><div class=logan-code-block><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-4-1><a class=lnlinks href=#hl-4-1>1</a>
</span><span class=lnt id=hl-4-2><a class=lnlinks href=#hl-4-2>2</a>
</span><span class=lnt id=hl-4-3><a class=lnlinks href=#hl-4-3>3</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>apt update <span class=o>&amp;&amp;</span> apt-get update
</span></span><span class=line><span class=cl>apt list --upgradable <span class=c1>#查看可以更新的软件包</span>
</span></span><span class=line><span class=cl>apt upgrade </span></span></code></pre></td></tr></table></div></div><div class=code-scroll aria-label=代码块滚动工具栏><button class="code-scroll-left iconfont-logan icon-logan-circle-left-solid" aria-label=向左滚动></button>
<button class="code-scroll-right iconfont-logan icon-logan-circle-right-solid" aria-label=向右滚动></button></div><div class=code-tools aria-label=代码块工具栏><div class=copy-text>Copied!</div><button class="copy-code-button iconfont-logan icon-logan-copy-round3" aria-label=复制></button>
<button class="my-code-fold iconfont-logan icon-logan-circle-chevron-down-solid expand1" aria-label=折叠></button></div></div><h4 id=fapt相关命令><a href=#fapt%e7%9b%b8%e5%85%b3%e5%91%bd%e4%bb%a4 class=header-anchor></a>f、apt相关命令</h4><div class=logan-code-block><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-5-1><a class=lnlinks href=#hl-5-1> 1</a>
</span><span class=lnt id=hl-5-2><a class=lnlinks href=#hl-5-2> 2</a>
</span><span class=lnt id=hl-5-3><a class=lnlinks href=#hl-5-3> 3</a>
</span><span class=lnt id=hl-5-4><a class=lnlinks href=#hl-5-4> 4</a>
</span><span class=lnt id=hl-5-5><a class=lnlinks href=#hl-5-5> 5</a>
</span><span class=lnt id=hl-5-6><a class=lnlinks href=#hl-5-6> 6</a>
</span><span class=lnt id=hl-5-7><a class=lnlinks href=#hl-5-7> 7</a>
</span><span class=lnt id=hl-5-8><a class=lnlinks href=#hl-5-8> 8</a>
</span><span class=lnt id=hl-5-9><a class=lnlinks href=#hl-5-9> 9</a>
</span><span class=lnt id=hl-5-10><a class=lnlinks href=#hl-5-10>10</a>
</span><span class=lnt id=hl-5-11><a class=lnlinks href=#hl-5-11>11</a>
</span><span class=lnt id=hl-5-12><a class=lnlinks href=#hl-5-12>12</a>
</span><span class=lnt id=hl-5-13><a class=lnlinks href=#hl-5-13>13</a>
</span><span class=lnt id=hl-5-14><a class=lnlinks href=#hl-5-14>14</a>
</span><span class=lnt id=hl-5-15><a class=lnlinks href=#hl-5-15>15</a>
</span><span class=lnt id=hl-5-16><a class=lnlinks href=#hl-5-16>16</a>
</span><span class=lnt id=hl-5-17><a class=lnlinks href=#hl-5-17>17</a>
</span><span class=lnt id=hl-5-18><a class=lnlinks href=#hl-5-18>18</a>
</span><span class=lnt id=hl-5-19><a class=lnlinks href=#hl-5-19>19</a>
</span><span class=lnt id=hl-5-20><a class=lnlinks href=#hl-5-20>20</a>
</span><span class=lnt id=hl-5-21><a class=lnlinks href=#hl-5-21>21</a>
</span><span class=lnt id=hl-5-22><a class=lnlinks href=#hl-5-22>22</a>
</span><span class=lnt id=hl-5-23><a class=lnlinks href=#hl-5-23>23</a>
</span><span class=lnt id=hl-5-24><a class=lnlinks href=#hl-5-24>24</a>
</span><span class=lnt id=hl-5-25><a class=lnlinks href=#hl-5-25>25</a>
</span><span class=lnt id=hl-5-26><a class=lnlinks href=#hl-5-26>26</a>
</span><span class=lnt id=hl-5-27><a class=lnlinks href=#hl-5-27>27</a>
</span><span class=lnt id=hl-5-28><a class=lnlinks href=#hl-5-28>28</a>
</span><span class=lnt id=hl-5-29><a class=lnlinks href=#hl-5-29>29</a>
</span><span class=lnt id=hl-5-30><a class=lnlinks href=#hl-5-30>30</a>
</span><span class=lnt id=hl-5-31><a class=lnlinks href=#hl-5-31>31</a>
</span><span class=lnt id=hl-5-32><a class=lnlinks href=#hl-5-32>32</a>
</span><span class=lnt id=hl-5-33><a class=lnlinks href=#hl-5-33>33</a>
</span><span class=lnt id=hl-5-34><a class=lnlinks href=#hl-5-34>34</a>
</span><span class=lnt id=hl-5-35><a class=lnlinks href=#hl-5-35>35</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>sudo apt update                           <span class=c1># 更新包索引</span>
</span></span><span class=line><span class=cl>sudo apt upgrade                          <span class=c1># 升级所有已安装的软件包到最新版本</span>
</span></span><span class=line><span class=cl>apt list python3                          <span class=c1># 显示是否已安装</span>
</span></span><span class=line><span class=cl>sudo apt install &lt;package&gt;                <span class=c1># 安装指定的软件包</span>
</span></span><span class=line><span class=cl>sudo apt remove &lt;package&gt;                 <span class=c1># 删除指定的软件包（保留配置文件）</span>
</span></span><span class=line><span class=cl>sudo apt purge &lt;package&gt;                  <span class=c1># 完全删除指定的软件包（包括配置文件）</span>
</span></span><span class=line><span class=cl>apt search &lt;keyword&gt;                      <span class=c1># 搜索与关键字相关的软件包</span>
</span></span><span class=line><span class=cl>apt show &lt;package&gt;                        <span class=c1># 查看指定软件包的详细信息</span>
</span></span><span class=line><span class=cl>apt list --installed                      <span class=c1># 列出所有已安装的软件包</span>
</span></span><span class=line><span class=cl>apt list                                  <span class=c1># 列出所有可用的软件包</span>
</span></span><span class=line><span class=cl>dpkg -l <span class=p>|</span> grep &lt;package&gt;                  <span class=c1># 检查指定软件包是否已安装</span>
</span></span><span class=line><span class=cl>sudo apt autoremove                       <span class=c1># 清理无用的依赖（卸载后遗留的包）</span>
</span></span><span class=line><span class=cl>sudo apt autoclean                        <span class=c1># 清理下载的已过期或无用的软件包缓存</span>
</span></span><span class=line><span class=cl>sudo apt clean                            <span class=c1># 清理所有下载的包缓存（慎用）</span>
</span></span><span class=line><span class=cl>sudo apt download &lt;package&gt;               <span class=c1># 下载但不安装软件包</span>
</span></span><span class=line><span class=cl>apt-cache depends &lt;package&gt;               <span class=c1># 检查指定软件包的依赖关系</span>
</span></span><span class=line><span class=cl>apt-cache rdepends &lt;package&gt;              <span class=c1># 检查哪些软件包依赖指定的软件包</span>
</span></span><span class=line><span class=cl>sudo apt --fix-broken install             <span class=c1># 手动修复被破坏的软件包</span>
</span></span><span class=line><span class=cl>apt list &lt;package&gt;                        <span class=c1># 列出与指定包相关的信息（包括状态、版本等）</span>
</span></span><span class=line><span class=cl>sudo apt full-upgrade                     <span class=c1># 执行全面升级（可能会移除不需要的包）</span>
</span></span><span class=line><span class=cl>sudo apt install -f                       <span class=c1># 修复依赖关系并安装未完成的软件包</span>
</span></span><span class=line><span class=cl>sudo apt hold &lt;package&gt;                   <span class=c1># 将指定软件包标记为保持当前版本（不升级）</span>
</span></span><span class=line><span class=cl>sudo apt unhold &lt;package&gt;                 <span class=c1># 取消对软件包的保持标记（允许升级）</span>
</span></span><span class=line><span class=cl>apt policy &lt;package&gt;                      <span class=c1># 查看指定软件包的版本和安装来源</span>
</span></span><span class=line><span class=cl>sudo apt-add-repository &lt;repository&gt;      <span class=c1># 添加 PPA 或自定义的源</span>
</span></span><span class=line><span class=cl>sudo apt update <span class=o>&amp;&amp;</span> sudo apt upgrade -y    <span class=c1># 一次性更新包索引并升级所有软件包（跳过确认）</span>
</span></span><span class=line><span class=cl>sudo apt dist-upgrade                     <span class=c1># 执行发行版升级（处理复杂依赖变化）</span>
</span></span><span class=line><span class=cl>sudo apt-mark hold &lt;package&gt;              <span class=c1># 阻止软件包升级（标记为 hold 状态）</span>
</span></span><span class=line><span class=cl>sudo apt-mark unhold &lt;package&gt;            <span class=c1># 取消 hold 标记，允许升级</span>
</span></span><span class=line><span class=cl>sudo apt list --upgradable                <span class=c1># 列出可以升级的软件包</span>
</span></span><span class=line><span class=cl>apt-cache search &lt;package&gt;                <span class=c1># 使用 apt-cache 搜索软件包</span>
</span></span><span class=line><span class=cl>sudo apt-get check                        <span class=c1># 检查系统是否有破损的依赖关系</span>
</span></span><span class=line><span class=cl>sudo apt-get changelog &lt;package&gt;          <span class=c1># 查看指定软件包的变更日志</span>
</span></span><span class=line><span class=cl>sudo dpkg-reconfigure &lt;package&gt;           <span class=c1># 重新配置已安装的软件包</span>
</span></span><span class=line><span class=cl>sudo dpkg --configure -a                  <span class=c1># 修复未正确配置的软件包</span></span></span></code></pre></td></tr></table></div></div><div class=code-scroll aria-label=代码块滚动工具栏><button class="code-scroll-left iconfont-logan icon-logan-circle-left-solid" aria-label=向左滚动></button>
<button class="code-scroll-right iconfont-logan icon-logan-circle-right-solid" aria-label=向右滚动></button></div><div class=code-tools aria-label=代码块工具栏><div class=copy-text>Copied!</div><button class="copy-code-button iconfont-logan icon-logan-copy-round3" aria-label=复制></button>
<button class="my-code-fold iconfont-logan icon-logan-circle-chevron-down-solid expand1" aria-label=折叠></button></div></div><h3 id=2网络配置><a href=#2%e7%bd%91%e7%bb%9c%e9%85%8d%e7%bd%ae class=header-anchor></a>2、网络配置</h3><ul><li>静态ip + 自定义dns</li><li>自定义dns时, 不要去修改,/etc/resolv.conf,因为可能重启后失效; 去在 /etc/network/interfaces 配置</li><li>ip addr 查看当前的ip</li><li>vmware中配置了端口转发</li></ul><h4 id=0resolvconf><a href=#0resolvconf class=header-anchor></a>0、resolvconf</h4><ul><li>默认情况下,resolvconf并没有安装, 所以在 /etc/network/interfaces 中配置的 dns-nameservers 并不会自动同步到 /etc/resolv.conf, 并且每次系统重启或者使用命令 systemctl restart networking.service 后, resolv.conf 都会被 dhclient 覆盖;</li><li>dhclient 是常用的 DHCP 客户端，它会根据 DHCP 服务器提供的 DNS 信息自动更新 /etc/resolv.conf, 查看 /etc/dhcp/dhclient.conf 中有request 里面有 domain-name, domain-name-servers, 和 domain-search;是 DHCP 客户端从 DHCP 服务器请求的选项,如果 DHCP 服务器提供了这些选项，dhclient 默认会更新 /etc/resolv.conf</li><li>在不安装额外程序的情况下, 也可以使用命令 sudo chattr +i /etc/resolv.conf ,给这个文件设置只读权限, 这样就不会被覆盖了; sudo chattr -i /etc/resolv.conf 恢复权限</li><li>resolvconf 依赖于 /etc/network/interfaces、DHCP 等服务来收集 DNS 配置信息，并通过这些信息更新 /etc/resolv.conf。resolvconf会将来自多个来源（例如 DHCP 客户端、静态配置、VPN 配置等）的 DNS 信息汇总并合并，最终由 resolvconf 更新 /etc/resolv.conf;</li><li>安装 resolvconf 后, /etc/resolv.conf 被替换为符号链接,指向 /run/resolvconf/resolv.conf; 原来的resolv.conf中的内容被删除,备份在/etc/resolvconf/resolv.conf.d/original中</li><li>安装了 resolvconf 后，会在/etc/dhcp/dhclient-enter-hooks.d/ 目录下创建 <code>resolvconf</code> 脚本, dhclient 会通过这个脚本将获取到的 DNS 信息交给 resolvconf 管理; 这些动态信息(包括在/etc/network/interfaces中配置的)通常被写入 /run/resolvconf/interface/ 目录中</li><li>resolvconf 使用多个配置文件片段来管理 DNS 信息,配置文件路径包括：<ul><li>/etc/resolvconf/resolv.conf.d/head：内容会添加在动态生成的 /etc/resolv.conf 文件的最开头,通常是注释行（例如，文件生成说明）或管理员希望固定放在前面的配置</li><li>/etc/resolvconf/resolv.conf.d/base：基本 DNS 信息,配置一些静态的dns,始终会添加到resolv.conf; resolvconf收集到的动态信息会跟base文件中的配置进行merge;如:base中配置了 <code>search a.b.c</code>,收集到的动态信息是 <code>search x.y.z</code>,最终结果就是:<code>search a.b.c x.y.z</code></li><li>/etc/resolvconf/resolv.conf.d/tail：尾部内容;可以用来加入一些额外的选项，比如 options inet6;如果不需要任何追加内容，可以将该文件留空。</li></ul></li><li>可以直接在 /etc/network/interfaces 中配置 dns-nameservers 和 dns-search, 在resolvconf的帮助下会同步到 resolv.conf</li><li>文档目录: /usr/share/doc/resolvconf/README.gz gunzip README.gz</li><li>resolvconf 和 systemd-resolved 两个软件冲突,安装一个就会卸载另一个; systemd-resolved的功能比resolvconf更多,如mdns和dns缓存等,但我不会用,也没必要用</li></ul><h4 id=a原始配置的解释><a href=#a%e5%8e%9f%e5%a7%8b%e9%85%8d%e7%bd%ae%e7%9a%84%e8%a7%a3%e9%87%8a class=header-anchor></a>a、原始配置的解释</h4><p>1、运行 cat /etc/resolv.conf ; 显示:</p><div class=logan-code-block><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-6-1><a class=lnlinks href=#hl-6-1>1</a>
</span><span class=lnt id=hl-6-2><a class=lnlinks href=#hl-6-2>2</a>
</span><span class=lnt id=hl-6-3><a class=lnlinks href=#hl-6-3>3</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>domain localdomain
</span></span><span class=line><span class=cl>search localdomain
</span></span><span class=line><span class=cl>nameserver 172.16.106.2</span></span></code></pre></td></tr></table></div></div><div class=code-scroll aria-label=代码块滚动工具栏><button class="code-scroll-left iconfont-logan icon-logan-circle-left-solid" aria-label=向左滚动></button>
<button class="code-scroll-right iconfont-logan icon-logan-circle-right-solid" aria-label=向右滚动></button></div><div class=code-tools aria-label=代码块工具栏><div class=copy-text>Copied!</div><button class="copy-code-button iconfont-logan icon-logan-copy-round3" aria-label=复制></button>
<button class="my-code-fold iconfont-logan icon-logan-circle-chevron-down-solid expand1" aria-label=折叠></button></div></div><ul><li><code>一</code>、找到这个 <code>nameserver</code>, 写在后面 <code>/etc/network/interfaces</code> 中的 <code>gateway</code>; nameserver就是使用的dns服务器, 在vmware虚拟机中,这个默认被配置为nat的网关ip,用来转发流量和dns解析; 但是也不是必须与 网关ip相同, 可以配置成多个不同的dns, 写多行 nameserver, 配置的dns中就算没有网关ip, nat的外网访问依然还是保持不变, 所以网关是网关,dns是dns,两个不同的功能和概念;</li><li>虚拟机linux中的网关ip虽然默认没有文件配置(除非配置静态ip),但可以执行命令: <code>ip route | grep default</code> 可以查看到</li><li>在 VMware 创建的 NAT 模式的虚拟机中，虚拟机的网关 IP 并不是直接存储在虚拟机的配置文件(不在linux虚拟机的文件系统中)中，而是通过 VMware 的网络配置文件定义，并由虚拟机通过 DHCP 或静态配置使用,可能会存放在宿主机 <code>/Library/Preferences/VMware Fusion/networking</code> (VNET_8_HOSTONLY_SUBNET)中,这是标识了nat能用的子网段,以 <code>.0</code> 结尾,但是网关ip用的是以 <code>.2</code> 结尾的;</li><li>在 <code>/Library/Preferences/VMware Fusion/vmnet8/nat.conf</code> 中有下面的这个配置,也标识了网关ip;注意这是纯nat模式,和自定义模式还不相同;</li></ul><div class=logan-code-block><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-7-1><a class=lnlinks href=#hl-7-1>1</a>
</span><span class=lnt id=hl-7-2><a class=lnlinks href=#hl-7-2>2</a>
</span><span class=lnt id=hl-7-3><a class=lnlinks href=#hl-7-3>3</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=c1># NAT gateway address</span>
</span></span><span class=line><span class=cl><span class=nv>ip</span> <span class=o>=</span> 172.16.12.2
</span></span><span class=line><span class=cl><span class=nv>netmask</span> <span class=o>=</span> 255.255.255.0</span></span></code></pre></td></tr></table></div></div><div class=code-scroll aria-label=代码块滚动工具栏><button class="code-scroll-left iconfont-logan icon-logan-circle-left-solid" aria-label=向左滚动></button>
<button class="code-scroll-right iconfont-logan icon-logan-circle-right-solid" aria-label=向右滚动></button></div><div class=code-tools aria-label=代码块工具栏><div class=copy-text>Copied!</div><button class="copy-code-button iconfont-logan icon-logan-copy-round3" aria-label=复制></button>
<button class="my-code-fold iconfont-logan icon-logan-circle-chevron-down-solid expand1" aria-label=折叠></button></div></div><ul><li>mac上vmware fusion自定义模式实际上是桥接, 在 <code>/Library/Preferences/VMware Fusion/networking</code> 中的 <code>VNET_2_HOSTONLY_SUBNET</code> 中有显示;在 <code>/Library/Preferences/VMware Fusion/vmnet2/nat.conf</code> 中也有如下表示(<code>vmnet2</code> 也在软件中显示的我的自定网络的名字):</li></ul><div class=logan-code-block><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-8-1><a class=lnlinks href=#hl-8-1>1</a>
</span><span class=lnt id=hl-8-2><a class=lnlinks href=#hl-8-2>2</a>
</span><span class=lnt id=hl-8-3><a class=lnlinks href=#hl-8-3>3</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=c1># NAT gateway address</span>
</span></span><span class=line><span class=cl><span class=nv>ip</span> <span class=o>=</span> 172.16.106.2
</span></span><span class=line><span class=cl><span class=nv>netmask</span> <span class=o>=</span> 255.255.255.0</span></span></code></pre></td></tr></table></div></div><div class=code-scroll aria-label=代码块滚动工具栏><button class="code-scroll-left iconfont-logan icon-logan-circle-left-solid" aria-label=向左滚动></button>
<button class="code-scroll-right iconfont-logan icon-logan-circle-right-solid" aria-label=向右滚动></button></div><div class=code-tools aria-label=代码块工具栏><div class=copy-text>Copied!</div><button class="copy-code-button iconfont-logan icon-logan-copy-round3" aria-label=复制></button>
<button class="my-code-fold iconfont-logan icon-logan-circle-chevron-down-solid expand1" aria-label=折叠></button></div></div><ul><li>nat 模式的网关 ip <code>xxx.xxx.xxx.2</code> 通常以 <code>.2</code> 结尾, 因为约定俗成; <code>.0</code> 是一个网段的网络标识地址，表示整个子网常表示子网本身，不能分配给设备或服务使用; <code>.1 </code>通常用于路由器,在家庭路由器中，192.168.1.1 是常见的默认网关,虽然 VMware 可以选择使用 .1，但它通常会避开这个地址，以避免与一些软件或网络设备的默认配置产生冲突</li><li><code>二</code>、这个文件就是被修改,重启后也会恢复原样; 若要进行配置,需要修改后执行 <code>chattr +i /etc/resolv.conf</code> 变为只读的;恢复: <code>chattr -i /etc/resolv.conf</code></li><li><code>三</code>、<code>domain</code> 和 <code>search</code> 最好保持不变, 就用 localdomain, 更安全, 因为外网中没有localdomain的顶级域名</li><li>localdomain 就是个默认的域名占位符,假如我 <code>ping aaa</code>, 他会尝试去dns中查找 <code>aaa</code> 和 <code>aaa.localdomain</code>; 可以删除localdomain,替换为自己要用的</li><li>search 就是一个搜索域, 用于补全主机名,假如配置成 <code>com</code>, 我执行 <code>ping baidu</code> 就能直接ping成功; 但是不能和本地hosts文件配合使用,如在hosts中配置: <code>1.1.1.1 a.com</code> ; 则我执行 <code>ping a</code>, 是不会成功的, 因为会直接去dns服务器中查找(nat模式虚拟中就是那个网关ip),网络上并没有 a.com 这个地址,所以不会成功,这种只能 <code>ping a.com</code>;</li><li><code>domain</code> 和 <code>search</code> 功能相同,原理也相同; 但是1、search若配置后, 会覆盖domain 的配置; 2、search 支持多个 以空格分开, domain 仅支持一个</li></ul><p>2、运行 cat /etc/network/interfaces ; 显示:</p><div class=logan-code-block><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-9-1><a class=lnlinks href=#hl-9-1> 1</a>
</span><span class=lnt id=hl-9-2><a class=lnlinks href=#hl-9-2> 2</a>
</span><span class=lnt id=hl-9-3><a class=lnlinks href=#hl-9-3> 3</a>
</span><span class=lnt id=hl-9-4><a class=lnlinks href=#hl-9-4> 4</a>
</span><span class=lnt id=hl-9-5><a class=lnlinks href=#hl-9-5> 5</a>
</span><span class=lnt id=hl-9-6><a class=lnlinks href=#hl-9-6> 6</a>
</span><span class=lnt id=hl-9-7><a class=lnlinks href=#hl-9-7> 7</a>
</span><span class=lnt id=hl-9-8><a class=lnlinks href=#hl-9-8> 8</a>
</span><span class=lnt id=hl-9-9><a class=lnlinks href=#hl-9-9> 9</a>
</span><span class=lnt id=hl-9-10><a class=lnlinks href=#hl-9-10>10</a>
</span><span class=lnt id=hl-9-11><a class=lnlinks href=#hl-9-11>11</a>
</span><span class=lnt id=hl-9-12><a class=lnlinks href=#hl-9-12>12</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=c1># This file describes the network interfaces available on your system</span>
</span></span><span class=line><span class=cl><span class=c1># and how to activate them. For more information, see interfaces(5).</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>source</span> /etc/network/interfaces.d/*
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># The loopback network interface</span>
</span></span><span class=line><span class=cl>auto lo
</span></span><span class=line><span class=cl>iface lo inet loopback
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># The primary network interface</span>
</span></span><span class=line><span class=cl>allow-hotplug ens160
</span></span><span class=line><span class=cl>iface ens160 inet dhcp</span></span></code></pre></td></tr></table></div></div><div class=code-scroll aria-label=代码块滚动工具栏><button class="code-scroll-left iconfont-logan icon-logan-circle-left-solid" aria-label=向左滚动></button>
<button class="code-scroll-right iconfont-logan icon-logan-circle-right-solid" aria-label=向右滚动></button></div><div class=code-tools aria-label=代码块工具栏><div class=copy-text>Copied!</div><button class="copy-code-button iconfont-logan icon-logan-copy-round3" aria-label=复制></button>
<button class="my-code-fold iconfont-logan icon-logan-circle-chevron-down-solid expand1" aria-label=折叠></button></div></div><ul><li><code>详情见下面修改静态ip的示例</code></li></ul><h4 id=b静态ipdns配置><a href=#b%e9%9d%99%e6%80%81ipdns%e9%85%8d%e7%bd%ae class=header-anchor></a>b、静态ip+dns配置</h4><ul><li><code>ens160</code> :网络接口名称,必须使用原本默认的, 但是有些老linux使用的是 <code>eth0</code>,所以需要修改前预先查看当前系统使用的 <code>网络接口名称</code>; 在后面修改的配置文件示例作出相应的修改才行; 原来用的哪个,修改后也应该用哪个;可以用 <code>ip link show</code> 或者 <code>ifconfig</code>, 或者直接看 /etc/network/interfaces文件</li><li>如果要配置静态ip,那就必须要配置gateway(网关)ip,否则不能连接外网;局域网使用是可以的</li><li>为什么默认不需要配置?因为默认网络是动态ip,是通过dhcp自动发现的,通过dhcp,linux就知道了该找哪个网关ip;静态ip则不然;</li><li>桥接模式也需要配置网关ip(通常为路由器ip),默认使用动态ip时,也是用dhcp自动发现的;</li><li>若要配置dns,则最好在/etc/network/interfaces中配置,虽然/etc/resolv.conf中也能配置,但是重启就会没了;而/etc/network/interfaces中配置的dns则会自动同步到resolv.conf,重启也不会消失</li><li>lo 的两行是非必须的,是回环地址(127.0.0.1),可以不用显式配置,linux会在开机后自动启用lo,可以用 <code>ping 127.0.0.1</code> 来检测</li><li>也可以设置: dns-search com # 设置DNS搜索域 ,见上面的 resolv.conf配置详解(就是这个resolv.conf里的 search, 会自动同步到resolv.conf)</li></ul><div class=logan-code-block><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-10-1><a class=lnlinks href=#hl-10-1> 1</a>
</span><span class=lnt id=hl-10-2><a class=lnlinks href=#hl-10-2> 2</a>
</span><span class=lnt id=hl-10-3><a class=lnlinks href=#hl-10-3> 3</a>
</span><span class=lnt id=hl-10-4><a class=lnlinks href=#hl-10-4> 4</a>
</span><span class=lnt id=hl-10-5><a class=lnlinks href=#hl-10-5> 5</a>
</span><span class=lnt id=hl-10-6><a class=lnlinks href=#hl-10-6> 6</a>
</span><span class=lnt id=hl-10-7><a class=lnlinks href=#hl-10-7> 7</a>
</span><span class=lnt id=hl-10-8><a class=lnlinks href=#hl-10-8> 8</a>
</span><span class=lnt id=hl-10-9><a class=lnlinks href=#hl-10-9> 9</a>
</span><span class=lnt id=hl-10-10><a class=lnlinks href=#hl-10-10>10</a>
</span><span class=lnt id=hl-10-11><a class=lnlinks href=#hl-10-11>11</a>
</span><span class=lnt id=hl-10-12><a class=lnlinks href=#hl-10-12>12</a>
</span><span class=lnt id=hl-10-13><a class=lnlinks href=#hl-10-13>13</a>
</span><span class=lnt id=hl-10-14><a class=lnlinks href=#hl-10-14>14</a>
</span><span class=lnt id=hl-10-15><a class=lnlinks href=#hl-10-15>15</a>
</span><span class=lnt id=hl-10-16><a class=lnlinks href=#hl-10-16>16</a>
</span><span class=lnt id=hl-10-17><a class=lnlinks href=#hl-10-17>17</a>
</span><span class=lnt id=hl-10-18><a class=lnlinks href=#hl-10-18>18</a>
</span><span class=lnt id=hl-10-19><a class=lnlinks href=#hl-10-19>19</a>
</span><span class=lnt id=hl-10-20><a class=lnlinks href=#hl-10-20>20</a>
</span><span class=lnt id=hl-10-21><a class=lnlinks href=#hl-10-21>21</a>
</span><span class=lnt id=hl-10-22><a class=lnlinks href=#hl-10-22>22</a>
</span><span class=lnt id=hl-10-23><a class=lnlinks href=#hl-10-23>23</a>
</span><span class=lnt id=hl-10-24><a class=lnlinks href=#hl-10-24>24</a>
</span><span class=lnt id=hl-10-25><a class=lnlinks href=#hl-10-25>25</a>
</span><span class=lnt id=hl-10-26><a class=lnlinks href=#hl-10-26>26</a>
</span><span class=lnt id=hl-10-27><a class=lnlinks href=#hl-10-27>27</a>
</span><span class=lnt id=hl-10-28><a class=lnlinks href=#hl-10-28>28</a>
</span><span class=lnt id=hl-10-29><a class=lnlinks href=#hl-10-29>29</a>
</span><span class=lnt id=hl-10-30><a class=lnlinks href=#hl-10-30>30</a>
</span><span class=lnt id=hl-10-31><a class=lnlinks href=#hl-10-31>31</a>
</span><span class=lnt id=hl-10-32><a class=lnlinks href=#hl-10-32>32</a>
</span><span class=lnt id=hl-10-33><a class=lnlinks href=#hl-10-33>33</a>
</span><span class=lnt id=hl-10-34><a class=lnlinks href=#hl-10-34>34</a>
</span><span class=lnt id=hl-10-35><a class=lnlinks href=#hl-10-35>35</a>
</span><span class=lnt id=hl-10-36><a class=lnlinks href=#hl-10-36>36</a>
</span><span class=lnt id=hl-10-37><a class=lnlinks href=#hl-10-37>37</a>
</span><span class=lnt id=hl-10-38><a class=lnlinks href=#hl-10-38>38</a>
</span><span class=lnt id=hl-10-39><a class=lnlinks href=#hl-10-39>39</a>
</span><span class=lnt id=hl-10-40><a class=lnlinks href=#hl-10-40>40</a>
</span><span class=lnt id=hl-10-41><a class=lnlinks href=#hl-10-41>41</a>
</span><span class=lnt id=hl-10-42><a class=lnlinks href=#hl-10-42>42</a>
</span><span class=lnt id=hl-10-43><a class=lnlinks href=#hl-10-43>43</a>
</span><span class=lnt id=hl-10-44><a class=lnlinks href=#hl-10-44>44</a>
</span><span class=lnt id=hl-10-45><a class=lnlinks href=#hl-10-45>45</a>
</span><span class=lnt id=hl-10-46><a class=lnlinks href=#hl-10-46>46</a>
</span><span class=lnt id=hl-10-47><a class=lnlinks href=#hl-10-47>47</a>
</span><span class=lnt id=hl-10-48><a class=lnlinks href=#hl-10-48>48</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>su
</span></span><span class=line><span class=cl><span class=nb>export</span> <span class=nv>PATH</span><span class=o>=</span><span class=nv>$PATH</span>:/usr/sbin
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>cp /etc/network/interfaces /etc/network/interfaces.bak
</span></span><span class=line><span class=cl>cat &gt; /etc/network/interfaces <span class=s>&lt;&lt; EOF
</span></span></span><span class=line><span class=cl><span class=s># This file describes the network interfaces available on your system
</span></span></span><span class=line><span class=cl><span class=s># and how to activate them. For more information, see interfaces(5).
</span></span></span><span class=line><span class=cl><span class=s>
</span></span></span><span class=line><span class=cl><span class=s>source /etc/network/interfaces.d/*
</span></span></span><span class=line><span class=cl><span class=s>
</span></span></span><span class=line><span class=cl><span class=s># The loopback network interface
</span></span></span><span class=line><span class=cl><span class=s>auto lo
</span></span></span><span class=line><span class=cl><span class=s>iface lo inet loopback
</span></span></span><span class=line><span class=cl><span class=s>
</span></span></span><span class=line><span class=cl><span class=s># The primary network interface
</span></span></span><span class=line><span class=cl><span class=s># allow-hotplug ens160
</span></span></span><span class=line><span class=cl><span class=s># iface ens160 inet dhcp
</span></span></span><span class=line><span class=cl><span class=s>auto ens160
</span></span></span><span class=line><span class=cl><span class=s>iface ens160 inet static
</span></span></span><span class=line><span class=cl><span class=s>    address 172.16.106.12
</span></span></span><span class=line><span class=cl><span class=s>    netmask 255.255.255.0
</span></span></span><span class=line><span class=cl><span class=s>    gateway 172.16.106.2
</span></span></span><span class=line><span class=cl><span class=s>    dns-nameservers 223.5.5.5 119.29.29.29 8.8.8.8
</span></span></span><span class=line><span class=cl><span class=s>EOF</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>cat /etc/network/interfaces <span class=c1>#确认一下</span>
</span></span><span class=line><span class=cl>systemctl restart networking.service
</span></span><span class=line><span class=cl>ip addr
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>######### 安装resolvconf</span>
</span></span><span class=line><span class=cl>apt install resolvconf
</span></span><span class=line><span class=cl>reboot
</span></span><span class=line><span class=cl>systemctl status resolvconf.service <span class=c1># 服务状态为 active (exited)，说明它已经成功运行并退出（这类服务是一次性任务，在启动后完成工作便退出）</span>
</span></span><span class=line><span class=cl>cat /etc/resolv.conf
</span></span><span class=line><span class=cl>ls -l /etc/resolv.conf
</span></span><span class=line><span class=cl>systemctl start resolvconf.service
</span></span><span class=line><span class=cl>systemctl stop resolvconf.service
</span></span><span class=line><span class=cl>systemctl <span class=nb>enable</span> resolvconf.service
</span></span><span class=line><span class=cl>systemctl disable resolvconf.service
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>cat /etc/resolv.conf <span class=c1># 查看dns是否被自动更改</span>
</span></span><span class=line><span class=cl>ls -l /etc/resolv.conf <span class=c1># 查看是否为软链接</span>
</span></span><span class=line><span class=cl><span class=c1># 关闭 quanx</span>
</span></span><span class=line><span class=cl>ping www.baidu.com
</span></span><span class=line><span class=cl>wget www.baidu.com
</span></span><span class=line><span class=cl>rm index.html
</span></span><span class=line><span class=cl>dig www.baidu.com <span class=c1># SERVER: 223.5.5.5#53(223.5.5.5) (UDP)</span>
</span></span><span class=line><span class=cl>nslookup -debug www.baidu.com  <span class=c1># Server:223.5.5.5</span></span></span></code></pre></td></tr></table></div></div><div class=code-scroll aria-label=代码块滚动工具栏><button class="code-scroll-left iconfont-logan icon-logan-circle-left-solid" aria-label=向左滚动></button>
<button class="code-scroll-right iconfont-logan icon-logan-circle-right-solid" aria-label=向右滚动></button></div><div class=code-tools aria-label=代码块工具栏><div class=copy-text>Copied!</div><button class="copy-code-button iconfont-logan icon-logan-copy-round3" aria-label=复制></button>
<button class="my-code-fold iconfont-logan icon-logan-circle-chevron-down-solid expand1" aria-label=折叠></button></div></div><h4 id=c配置默认语言><a href=#c%e9%85%8d%e7%bd%ae%e9%bb%98%e8%ae%a4%e8%af%ad%e8%a8%80 class=header-anchor></a>c、配置默认语言</h4><ul><li>尽管在安装时已经选择了默认语言(即安装的第一步,选择安装程序的显示语言,这个设置也会成为安装后系统的默认语言)</li><li>在系统安装完成后,可以通过命令重新配置; 如果安装时选择的英文, 安装后用命令把中文加为第二个语言,但是默认首选还是英文,只是添加了个中文环境信息,可以给其他软件使用;如: <code>tldr -L zh tree</code> ,这个命令,如果不添加中文语言环境的支持,是不会显示中文的</li><li>默认 <code>tty界面(非远程连接、非图形化界面的系统自己的操作界面,那个黑窗口)</code> 无论怎么配置,通常也是不支持中文的,除非安装 <code>fbterm</code> 这个第三方的tty</li></ul><div class=logan-code-block><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-11-1><a class=lnlinks href=#hl-11-1> 1</a>
</span><span class=lnt id=hl-11-2><a class=lnlinks href=#hl-11-2> 2</a>
</span><span class=lnt id=hl-11-3><a class=lnlinks href=#hl-11-3> 3</a>
</span><span class=lnt id=hl-11-4><a class=lnlinks href=#hl-11-4> 4</a>
</span><span class=lnt id=hl-11-5><a class=lnlinks href=#hl-11-5> 5</a>
</span><span class=lnt id=hl-11-6><a class=lnlinks href=#hl-11-6> 6</a>
</span><span class=lnt id=hl-11-7><a class=lnlinks href=#hl-11-7> 7</a>
</span><span class=lnt id=hl-11-8><a class=lnlinks href=#hl-11-8> 8</a>
</span><span class=lnt id=hl-11-9><a class=lnlinks href=#hl-11-9> 9</a>
</span><span class=lnt id=hl-11-10><a class=lnlinks href=#hl-11-10>10</a>
</span><span class=lnt id=hl-11-11><a class=lnlinks href=#hl-11-11>11</a>
</span><span class=lnt id=hl-11-12><a class=lnlinks href=#hl-11-12>12</a>
</span><span class=lnt id=hl-11-13><a class=lnlinks href=#hl-11-13>13</a>
</span><span class=lnt id=hl-11-14><a class=lnlinks href=#hl-11-14>14</a>
</span><span class=lnt id=hl-11-15><a class=lnlinks href=#hl-11-15>15</a>
</span><span class=lnt id=hl-11-16><a class=lnlinks href=#hl-11-16>16</a>
</span><span class=lnt id=hl-11-17><a class=lnlinks href=#hl-11-17>17</a>
</span><span class=lnt id=hl-11-18><a class=lnlinks href=#hl-11-18>18</a>
</span><span class=lnt id=hl-11-19><a class=lnlinks href=#hl-11-19>19</a>
</span><span class=lnt id=hl-11-20><a class=lnlinks href=#hl-11-20>20</a>
</span><span class=lnt id=hl-11-21><a class=lnlinks href=#hl-11-21>21</a>
</span><span class=lnt id=hl-11-22><a class=lnlinks href=#hl-11-22>22</a>
</span><span class=lnt id=hl-11-23><a class=lnlinks href=#hl-11-23>23</a>
</span><span class=lnt id=hl-11-24><a class=lnlinks href=#hl-11-24>24</a>
</span><span class=lnt id=hl-11-25><a class=lnlinks href=#hl-11-25>25</a>
</span><span class=lnt id=hl-11-26><a class=lnlinks href=#hl-11-26>26</a>
</span><span class=lnt id=hl-11-27><a class=lnlinks href=#hl-11-27>27</a>
</span><span class=lnt id=hl-11-28><a class=lnlinks href=#hl-11-28>28</a>
</span><span class=lnt id=hl-11-29><a class=lnlinks href=#hl-11-29>29</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>su
</span></span><span class=line><span class=cl><span class=nb>export</span> <span class=nv>PATH</span><span class=o>=</span><span class=nv>$PATH</span>:/usr/sbin
</span></span><span class=line><span class=cl><span class=c1># 鼠标滚轮可以快速滚动</span>
</span></span><span class=line><span class=cl>dpkg-reconfigure locales
</span></span><span class=line><span class=cl><span class=c1># 选中 en_US.UTF-8 和 zh_CN.UTF-8</span>
</span></span><span class=line><span class=cl><span class=c1># 用空格选中(多选),上下箭头移动, tab键移至 [ok] 回车确认; 提示选择 en_US.UTF-8 为首选默认语言,选择后回车确定</span>
</span></span><span class=line><span class=cl><span class=c1># 重新登录或重启</span>
</span></span><span class=line><span class=cl>locale     <span class=c1># 查看目前系统所使用的语言环境</span>
</span></span><span class=line><span class=cl>locale -a     <span class=c1># 查看系统已安装的所有语言</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 环境变量有:   (默认都是 &#34;en_US.UTF-8&#34; ; 若修改默认的语言为中文则变为:   &#34;zn_CN.UTF-8&#34;  )</span>
</span></span><span class=line><span class=cl>LANG         <span class=c1># 系统的主要语言和地区设置，影响所有未单独设置的 LC_* 变量。</span>
</span></span><span class=line><span class=cl>LANGUAGE     <span class=c1># 定义语言优先顺序，主要用于翻译系统消息 (LC_MESSAGES)。</span>
</span></span><span class=line><span class=cl>LC_ALL       <span class=c1># 强制覆盖所有 LC_* 变量的值，优先级最高，通常用于调试。</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>LC_CTYPE     <span class=c1># 定义字符分类和编码规则，影响字符输入和显示 (如 UTF-8)。</span>
</span></span><span class=line><span class=cl>LC_NUMERIC   <span class=c1># 控制数值格式，例如小数点符号、分组符号等。</span>
</span></span><span class=line><span class=cl>LC_TIME      <span class=c1># 定义日期和时间格式 (如美式日期 vs 欧式日期)。</span>
</span></span><span class=line><span class=cl>LC_COLLATE   <span class=c1># 控制字符串比较和排序规则，影响文件名排序等。</span>
</span></span><span class=line><span class=cl>LC_MONETARY  <span class=c1># 控制货币格式，例如货币符号、千分位分隔符等。</span>
</span></span><span class=line><span class=cl>LC_MESSAGES  <span class=c1># 定义系统消息的语言 (如错误提示、确认信息等)。</span>
</span></span><span class=line><span class=cl>LC_PAPER     <span class=c1># 控制默认纸张尺寸 (如 Letter vs A4)。</span>
</span></span><span class=line><span class=cl>LC_NAME      <span class=c1># 定义人名的显示格式 (如姓氏在前或名字在前)。</span>
</span></span><span class=line><span class=cl>LC_ADDRESS   <span class=c1># 控制地址格式和显示规则。</span>
</span></span><span class=line><span class=cl>LC_TELEPHONE <span class=c1># 定义电话号码的格式 (如是否显示国家代码)。</span>
</span></span><span class=line><span class=cl>LC_MEASUREMENT <span class=c1># 控制度量单位 (如公制 vs 英制)。</span>
</span></span><span class=line><span class=cl>LC_IDENTIFICATION <span class=c1># 描述语言环境的特定信息，通常不直接影响用户体验。</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 不需要自己配置环境变量,直接使用系统默认的体验最佳</span></span></span></code></pre></td></tr></table></div></div><div class=code-scroll aria-label=代码块滚动工具栏><button class="code-scroll-left iconfont-logan icon-logan-circle-left-solid" aria-label=向左滚动></button>
<button class="code-scroll-right iconfont-logan icon-logan-circle-right-solid" aria-label=向右滚动></button></div><div class=code-tools aria-label=代码块工具栏><div class=copy-text>Copied!</div><button class="copy-code-button iconfont-logan icon-logan-copy-round3" aria-label=复制></button>
<button class="my-code-fold iconfont-logan icon-logan-circle-chevron-down-solid expand1" aria-label=折叠></button></div></div><h4 id=d-重新配置键盘布局><a href=#d-%e9%87%8d%e6%96%b0%e9%85%8d%e7%bd%ae%e9%94%ae%e7%9b%98%e5%b8%83%e5%b1%80 class=header-anchor></a>d 、重新配置键盘布局</h4><ul><li>装好系统后,默认不用修改</li><li>键盘布局就是,在 tty 界面,或者linux自己的图形化界面的键盘映射;其目的是让操作系统正确识别和映射键盘上的按键到字符或功能;</li><li>按键 Shift+2 输出 <code>@</code>（在美式键盘中）还是 <code>"</code> (在英式键盘中)某些键盘布局会增加对语言特定符号的支持，比如法语的 é 或德语的 ß</li><li>某些布局支持 AltGr（右 Alt 键）的特殊功能，用于输入更多字符</li><li>但是远程连接的话就没这个说法了,用的是我本地的电脑自己的键盘映射,传给linux的就是实际的字符信息了;</li><li>最佳选择: <code>美式键盘（US Layout）：标准 QWERTY 布局，符号按键位置国际通用</code>;</li><li>中国市场的键盘以美式 QWERTY 布局为主,硬件上没有区别,中文输入完全依赖系统输入法</li><li>默认 <code>tty界面(非远程连接、非图形化界面的系统自己的操作界面,那个黑窗口)</code> 无论怎么配置,通常也是不支持中文的,除非安装 <code>fbterm</code> 这个第三方的tty</li></ul><div class=logan-code-block><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-12-1><a class=lnlinks href=#hl-12-1>1</a>
</span><span class=lnt id=hl-12-2><a class=lnlinks href=#hl-12-2>2</a>
</span><span class=lnt id=hl-12-3><a class=lnlinks href=#hl-12-3>3</a>
</span><span class=lnt id=hl-12-4><a class=lnlinks href=#hl-12-4>4</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>su
</span></span><span class=line><span class=cl><span class=nb>export</span> <span class=nv>PATH</span><span class=o>=</span><span class=nv>$PATH</span>:/usr/sbin
</span></span><span class=line><span class=cl>dpkg-reconfigure keyboard-configuration
</span></span><span class=line><span class=cl>service keyboard-setup restart</span></span></code></pre></td></tr></table></div></div><div class=code-scroll aria-label=代码块滚动工具栏><button class="code-scroll-left iconfont-logan icon-logan-circle-left-solid" aria-label=向左滚动></button>
<button class="code-scroll-right iconfont-logan icon-logan-circle-right-solid" aria-label=向右滚动></button></div><div class=code-tools aria-label=代码块工具栏><div class=copy-text>Copied!</div><button class="copy-code-button iconfont-logan icon-logan-copy-round3" aria-label=复制></button>
<button class="my-code-fold iconfont-logan icon-logan-circle-chevron-down-solid expand1" aria-label=折叠></button></div></div><h4 id=e安装-sudo><a href=#e%e5%ae%89%e8%a3%85-sudo class=header-anchor></a>e、安装 sudo</h4><div class=logan-code-block><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-13-1><a class=lnlinks href=#hl-13-1> 1</a>
</span><span class=lnt id=hl-13-2><a class=lnlinks href=#hl-13-2> 2</a>
</span><span class=lnt id=hl-13-3><a class=lnlinks href=#hl-13-3> 3</a>
</span><span class=lnt id=hl-13-4><a class=lnlinks href=#hl-13-4> 4</a>
</span><span class=lnt id=hl-13-5><a class=lnlinks href=#hl-13-5> 5</a>
</span><span class=lnt id=hl-13-6><a class=lnlinks href=#hl-13-6> 6</a>
</span><span class=lnt id=hl-13-7><a class=lnlinks href=#hl-13-7> 7</a>
</span><span class=lnt id=hl-13-8><a class=lnlinks href=#hl-13-8> 8</a>
</span><span class=lnt id=hl-13-9><a class=lnlinks href=#hl-13-9> 9</a>
</span><span class=lnt id=hl-13-10><a class=lnlinks href=#hl-13-10>10</a>
</span><span class=lnt id=hl-13-11><a class=lnlinks href=#hl-13-11>11</a>
</span><span class=lnt id=hl-13-12><a class=lnlinks href=#hl-13-12>12</a>
</span><span class=lnt id=hl-13-13><a class=lnlinks href=#hl-13-13>13</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=c1># sudo命令需要用户需要输入自己的密码进行身份验证，而不是 root 密码。这是 sudo 的一大优点，可以避免暴露 root 密码</span>
</span></span><span class=line><span class=cl>su
</span></span><span class=line><span class=cl><span class=nb>export</span> <span class=nv>PATH</span><span class=o>=</span><span class=nv>$PATH</span>:/usr/sbin
</span></span><span class=line><span class=cl>apt update
</span></span><span class=line><span class=cl>apt list sudo
</span></span><span class=line><span class=cl>ls /usr/sbin/sudo
</span></span><span class=line><span class=cl>apt install sudo
</span></span><span class=line><span class=cl>/usr/sbin/usermod -aG sudo <span class=k>$(</span>whoami<span class=k>)</span> <span class=c1>#将helq用户加入sudo的用户组; </span>
</span></span><span class=line><span class=cl><span class=c1># -a (append)：表示将用户添加到新的组时，保留其现有的组。如果不加 -a，用户将会退出其他组，仅加入指定的组</span>
</span></span><span class=line><span class=cl><span class=c1># -G(group)：后面跟一组组名，用逗号分隔，表示要添加用户的目标组</span>
</span></span><span class=line><span class=cl>groups helq <span class=c1>#确认用户已被添加到 sudo 组;输出中应该包含 sudo</span>
</span></span><span class=line><span class=cl><span class=c1># 重新登录使更改生效</span>
</span></span><span class=line><span class=cl>sudo <span class=nb>echo</span> <span class=s2>&#34;aaa&#34;</span> <span class=c1>#测试</span></span></span></code></pre></td></tr></table></div></div><div class=code-scroll aria-label=代码块滚动工具栏><button class="code-scroll-left iconfont-logan icon-logan-circle-left-solid" aria-label=向左滚动></button>
<button class="code-scroll-right iconfont-logan icon-logan-circle-right-solid" aria-label=向右滚动></button></div><div class=code-tools aria-label=代码块工具栏><div class=copy-text>Copied!</div><button class="copy-code-button iconfont-logan icon-logan-copy-round3" aria-label=复制></button>
<button class="my-code-fold iconfont-logan icon-logan-circle-chevron-down-solid expand1" aria-label=折叠></button></div></div><h4 id=f前置软件安装><a href=#f%e5%89%8d%e7%bd%ae%e8%bd%af%e4%bb%b6%e5%ae%89%e8%a3%85 class=header-anchor></a>f、前置软件安装</h4><div class=logan-code-block><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-14-1><a class=lnlinks href=#hl-14-1> 1</a>
</span><span class=lnt id=hl-14-2><a class=lnlinks href=#hl-14-2> 2</a>
</span><span class=lnt id=hl-14-3><a class=lnlinks href=#hl-14-3> 3</a>
</span><span class=lnt id=hl-14-4><a class=lnlinks href=#hl-14-4> 4</a>
</span><span class=lnt id=hl-14-5><a class=lnlinks href=#hl-14-5> 5</a>
</span><span class=lnt id=hl-14-6><a class=lnlinks href=#hl-14-6> 6</a>
</span><span class=lnt id=hl-14-7><a class=lnlinks href=#hl-14-7> 7</a>
</span><span class=lnt id=hl-14-8><a class=lnlinks href=#hl-14-8> 8</a>
</span><span class=lnt id=hl-14-9><a class=lnlinks href=#hl-14-9> 9</a>
</span><span class=lnt id=hl-14-10><a class=lnlinks href=#hl-14-10>10</a>
</span><span class=lnt id=hl-14-11><a class=lnlinks href=#hl-14-11>11</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>su
</span></span><span class=line><span class=cl><span class=nb>export</span> <span class=nv>PATH</span><span class=o>=</span><span class=nv>$PATH</span>:/usr/sbin
</span></span><span class=line><span class=cl>apt update <span class=o>&amp;&amp;</span> apt-get update
</span></span><span class=line><span class=cl>apt install -y net-tools build-essential openssh-server curl unzip zip tree cmake jq
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 安装zsh</span>
</span></span><span class=line><span class=cl>apt install zsh
</span></span><span class=line><span class=cl>zsh --version
</span></span><span class=line><span class=cl>sudo chsh -s <span class=k>$(</span>which zsh<span class=k>)</span> <span class=c1># 设置 zsh 为 root用户的 默认 shell</span>
</span></span><span class=line><span class=cl>reboot <span class=c1># 重启</span>
</span></span><span class=line><span class=cl>chsh -s <span class=k>$(</span>which zsh<span class=k>)</span> <span class=c1># 重新为普通用户设置</span></span></span></code></pre></td></tr></table></div></div><div class=code-scroll aria-label=代码块滚动工具栏><button class="code-scroll-left iconfont-logan icon-logan-circle-left-solid" aria-label=向左滚动></button>
<button class="code-scroll-right iconfont-logan icon-logan-circle-right-solid" aria-label=向右滚动></button></div><div class=code-tools aria-label=代码块工具栏><div class=copy-text>Copied!</div><button class="copy-code-button iconfont-logan icon-logan-copy-round3" aria-label=复制></button>
<button class="my-code-fold iconfont-logan icon-logan-circle-chevron-down-solid expand1" aria-label=折叠></button></div></div><h4 id=f允许root直接登录><a href=#f%e5%85%81%e8%ae%b8root%e7%9b%b4%e6%8e%a5%e7%99%bb%e5%bd%95 class=header-anchor></a>f、允许root直接登录</h4><p>默认情况下,是不允许 root直接登录的即: <code>ssh -p 22 root@172.16.106.12</code> 会失败</p><div class=logan-code-block><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-15-1><a class=lnlinks href=#hl-15-1>1</a>
</span><span class=lnt id=hl-15-2><a class=lnlinks href=#hl-15-2>2</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;PermitRootLogin yes&#34;</span> <span class=p>|</span> sudo tee -a /etc/ssh/sshd_config &gt;/dev/null <span class=c1># 解决方式, 重启启动虚拟机就可以了</span>
</span></span><span class=line><span class=cl>reboot <span class=c1># 重启</span></span></span></code></pre></td></tr></table></div></div><div class=code-scroll aria-label=代码块滚动工具栏><button class="code-scroll-left iconfont-logan icon-logan-circle-left-solid" aria-label=向左滚动></button>
<button class="code-scroll-right iconfont-logan icon-logan-circle-right-solid" aria-label=向右滚动></button></div><div class=code-tools aria-label=代码块工具栏><div class=copy-text>Copied!</div><button class="copy-code-button iconfont-logan icon-logan-copy-round3" aria-label=复制></button>
<button class="my-code-fold iconfont-logan icon-logan-circle-chevron-down-solid expand1" aria-label=折叠></button></div></div><h4 id=g-虚拟机克隆的情况><a href=#g-%e8%99%9a%e6%8b%9f%e6%9c%ba%e5%85%8b%e9%9a%86%e7%9a%84%e6%83%85%e5%86%b5 class=header-anchor></a>g 、虚拟机克隆的情况</h4><div class=logan-code-block><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-16-1><a class=lnlinks href=#hl-16-1> 1</a>
</span><span class=lnt id=hl-16-2><a class=lnlinks href=#hl-16-2> 2</a>
</span><span class=lnt id=hl-16-3><a class=lnlinks href=#hl-16-3> 3</a>
</span><span class=lnt id=hl-16-4><a class=lnlinks href=#hl-16-4> 4</a>
</span><span class=lnt id=hl-16-5><a class=lnlinks href=#hl-16-5> 5</a>
</span><span class=lnt id=hl-16-6><a class=lnlinks href=#hl-16-6> 6</a>
</span><span class=lnt id=hl-16-7><a class=lnlinks href=#hl-16-7> 7</a>
</span><span class=lnt id=hl-16-8><a class=lnlinks href=#hl-16-8> 8</a>
</span><span class=lnt id=hl-16-9><a class=lnlinks href=#hl-16-9> 9</a>
</span><span class=lnt id=hl-16-10><a class=lnlinks href=#hl-16-10>10</a>
</span><span class=lnt id=hl-16-11><a class=lnlinks href=#hl-16-11>11</a>
</span><span class=lnt id=hl-16-12><a class=lnlinks href=#hl-16-12>12</a>
</span><span class=lnt id=hl-16-13><a class=lnlinks href=#hl-16-13>13</a>
</span><span class=lnt id=hl-16-14><a class=lnlinks href=#hl-16-14>14</a>
</span><span class=lnt id=hl-16-15><a class=lnlinks href=#hl-16-15>15</a>
</span><span class=lnt id=hl-16-16><a class=lnlinks href=#hl-16-16>16</a>
</span><span class=lnt id=hl-16-17><a class=lnlinks href=#hl-16-17>17</a>
</span><span class=lnt id=hl-16-18><a class=lnlinks href=#hl-16-18>18</a>
</span><span class=lnt id=hl-16-19><a class=lnlinks href=#hl-16-19>19</a>
</span><span class=lnt id=hl-16-20><a class=lnlinks href=#hl-16-20>20</a>
</span><span class=lnt id=hl-16-21><a class=lnlinks href=#hl-16-21>21</a>
</span><span class=lnt id=hl-16-22><a class=lnlinks href=#hl-16-22>22</a>
</span><span class=lnt id=hl-16-23><a class=lnlinks href=#hl-16-23>23</a>
</span><span class=lnt id=hl-16-24><a class=lnlinks href=#hl-16-24>24</a>
</span><span class=lnt id=hl-16-25><a class=lnlinks href=#hl-16-25>25</a>
</span><span class=lnt id=hl-16-26><a class=lnlinks href=#hl-16-26>26</a>
</span><span class=lnt id=hl-16-27><a class=lnlinks href=#hl-16-27>27</a>
</span><span class=lnt id=hl-16-28><a class=lnlinks href=#hl-16-28>28</a>
</span><span class=lnt id=hl-16-29><a class=lnlinks href=#hl-16-29>29</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=c1># 执行下面这个命令,重新配置静态ip dns 和 hostname</span>
</span></span><span class=line><span class=cl>su -c <span class=s2>&#34;wget -q -O- --header=&#39;Cache-Control: no-cache&#39; \&#34;https://raw.githubusercontent.com/loganoxo/Config/master/linux/install/pre.sh?</span><span class=k>$(</span>date +%s<span class=k>)</span><span class=s2>\&#34; | bash -s -- \&#34;run\&#34; \&#34;</span><span class=k>$(</span>whoami<span class=k>)</span><span class=s2>\&#34; \&#34;clone\&#34; &#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>################# 重新生成 ssh host key ##############################</span>
</span></span><span class=line><span class=cl><span class=c1># 因为 A、B 和 C 虚拟机的 SSH 主机密钥是克隆时复制过来的，三台虚拟机的密钥相同，所以 SSH 客户端会认为它们是同一台主机。  </span>
</span></span><span class=line><span class=cl><span class=c1># ssh连接这三台机器时,本地~/.ssh/known_hosts 文件中这三台机器的指纹完全相同;  </span>
</span></span><span class=line><span class=cl><span class=c1># 当你尝试通过 SSH 连接到主机时，SSH 客户端会检查该主机的指纹是否与之前记录的匹配。如果三台虚拟机的指纹相同，当你切换连接到另一个虚拟机时，SSH 客户端会认为主机身份可能被篡改，提示警告  </span>
</span></span><span class=line><span class=cl><span class=c1># 主机指纹的目的是确保客户端连接到正确的服务器。如果三台虚拟机的指纹相同，客户端无法区分它们。这可能会带来以下问题：  </span>
</span></span><span class=line><span class=cl><span class=c1>#   •  中间人攻击更容易成功，因为客户端无法验证主机的唯一性。  </span>
</span></span><span class=line><span class=cl><span class=c1>#   •  如果某台虚拟机被攻破，攻击者可能利用相同的指纹冒充其他虚拟机  </span>
</span></span><span class=line><span class=cl><span class=c1># 管理混乱: 在使用工具（如 Ansible、SSH 配置文件）管理多台主机时，相同的指纹可能导致配置错误或意外连接到错误的主机  </span>
</span></span><span class=line><span class=cl><span class=c1># 尽量为每台虚拟机生成唯一的 SSH 主机密钥，确保指纹唯一性，以避免潜在问题并提高系统安全性。 </span>
</span></span><span class=line><span class=cl><span class=c1># 在 克隆出来的虚拟机中执行:</span>
</span></span><span class=line><span class=cl>sudo rm -f /etc/ssh/ssh_host_*
</span></span><span class=line><span class=cl>sudo ssh-keygen -t rsa -f /etc/ssh/ssh_host_rsa_key -N <span class=s2>&#34;&#34;</span>
</span></span><span class=line><span class=cl>sudo ssh-keygen -t ecdsa -f /etc/ssh/ssh_host_ecdsa_key -N <span class=s2>&#34;&#34;</span>
</span></span><span class=line><span class=cl>sudo ssh-keygen -t ed25519 -f /etc/ssh/ssh_host_ed25519_key -N <span class=s2>&#34;&#34;</span>
</span></span><span class=line><span class=cl>sudo systemctl restart ssh
</span></span><span class=line><span class=cl>sudo reboot
</span></span><span class=line><span class=cl><span class=c1># ssh-keygen: 用于生成 SSH 密钥的工具; -t rsa: 指定生成密钥的类型为 RSA。RSA 是一种常用的公钥算法  </span>
</span></span><span class=line><span class=cl><span class=c1># -f /etc/ssh/ssh_host_rsa_key : 指定生成的密钥文件的路径和文件名; 公钥会自动生成在相同路径，文件名为 /etc/ssh/ssh_host_rsa_key.pub ; 私钥存储在同目录 /etc/ssh/ssh_host_rsa_key# -N &#34;&#34;   : 双引号不能去掉; 设置密钥的密码为空;空密码适用于 SSH 主机密钥，因为它们需要在没有人工干预的情况下由 SSH 服务自动使用</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>############## 客户端中需要把之前在 ~/.ssh/known_hosts 中生成的 ip+指纹 删除</span>
</span></span><span class=line><span class=cl>ssh-keygen -R &lt;VM Ip&gt;
</span></span><span class=line><span class=cl>ssh-keygen -R <span class=s2>&#34;172.16.106.110&#34;</span>
</span></span><span class=line><span class=cl>ssh-keygen -R <span class=s2>&#34;172.16.106.120&#34;</span>
</span></span><span class=line><span class=cl>ssh-keygen -R <span class=s2>&#34;172.16.106.130&#34;</span>
</span></span><span class=line><span class=cl>cat ~/.ssh/known_hosts
</span></span><span class=line><span class=cl><span class=c1># 重新用 SSH 连接; 会重新提示接受新的指纹</span></span></span></code></pre></td></tr></table></div></div><div class=code-scroll aria-label=代码块滚动工具栏><button class="code-scroll-left iconfont-logan icon-logan-circle-left-solid" aria-label=向左滚动></button>
<button class="code-scroll-right iconfont-logan icon-logan-circle-right-solid" aria-label=向右滚动></button></div><div class=code-tools aria-label=代码块工具栏><div class=copy-text>Copied!</div><button class="copy-code-button iconfont-logan icon-logan-copy-round3" aria-label=复制></button>
<button class="my-code-fold iconfont-logan icon-logan-circle-chevron-down-solid expand1" aria-label=折叠></button></div></div><h1 id=三以下配置可以用脚本执行><a href=#%e4%b8%89%e4%bb%a5%e4%b8%8b%e9%85%8d%e7%bd%ae%e5%8f%af%e4%bb%a5%e7%94%a8%e8%84%9a%e6%9c%ac%e6%89%a7%e8%a1%8c class=header-anchor></a>三、以下配置可以用脚本执行</h1><h3 id=1安装shell插件><a href=#1%e5%ae%89%e8%a3%85shell%e6%8f%92%e4%bb%b6 class=header-anchor></a>1、安装shell插件</h3><div class=logan-code-block><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-17-1><a class=lnlinks href=#hl-17-1> 1</a>
</span><span class=lnt id=hl-17-2><a class=lnlinks href=#hl-17-2> 2</a>
</span><span class=lnt id=hl-17-3><a class=lnlinks href=#hl-17-3> 3</a>
</span><span class=lnt id=hl-17-4><a class=lnlinks href=#hl-17-4> 4</a>
</span><span class=lnt id=hl-17-5><a class=lnlinks href=#hl-17-5> 5</a>
</span><span class=lnt id=hl-17-6><a class=lnlinks href=#hl-17-6> 6</a>
</span><span class=lnt id=hl-17-7><a class=lnlinks href=#hl-17-7> 7</a>
</span><span class=lnt id=hl-17-8><a class=lnlinks href=#hl-17-8> 8</a>
</span><span class=lnt id=hl-17-9><a class=lnlinks href=#hl-17-9> 9</a>
</span><span class=lnt id=hl-17-10><a class=lnlinks href=#hl-17-10>10</a>
</span><span class=lnt id=hl-17-11><a class=lnlinks href=#hl-17-11>11</a>
</span><span class=lnt id=hl-17-12><a class=lnlinks href=#hl-17-12>12</a>
</span><span class=lnt id=hl-17-13><a class=lnlinks href=#hl-17-13>13</a>
</span><span class=lnt id=hl-17-14><a class=lnlinks href=#hl-17-14>14</a>
</span><span class=lnt id=hl-17-15><a class=lnlinks href=#hl-17-15>15</a>
</span><span class=lnt id=hl-17-16><a class=lnlinks href=#hl-17-16>16</a>
</span><span class=lnt id=hl-17-17><a class=lnlinks href=#hl-17-17>17</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>su helq
</span></span><span class=line><span class=cl><span class=nb>export</span> <span class=nv>PATH</span><span class=o>=</span><span class=nv>$PATH</span>:/usr/sbin
</span></span><span class=line><span class=cl>sudo apt update
</span></span><span class=line><span class=cl><span class=c1># 安装 git</span>
</span></span><span class=line><span class=cl>sudo apt install git  
</span></span><span class=line><span class=cl>git --version
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 安装 ohmyzsh</span>
</span></span><span class=line><span class=cl>sh -c <span class=s2>&#34;</span><span class=k>$(</span>curl -fsSL https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh<span class=k>)</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl>git clone https://github.com/zsh-users/zsh-autosuggestions <span class=si>${</span><span class=nv>ZSH_CUSTOM</span><span class=k>:-</span><span class=p>~/.oh-my-zsh/custom</span><span class=si>}</span>/plugins/zsh-autosuggestions  
</span></span><span class=line><span class=cl>git clone https://github.com/zsh-users/zsh-syntax-highlighting.git <span class=si>${</span><span class=nv>ZSH_CUSTOM</span><span class=k>:-</span><span class=p>~/.oh-my-zsh/custom</span><span class=si>}</span>/plugins/zsh-syntax-highlighting
</span></span><span class=line><span class=cl>rm ~/.zshrc.pre-oh-my-zsh
</span></span><span class=line><span class=cl><span class=c1># 安装 ohmybash</span>
</span></span><span class=line><span class=cl>bash -c <span class=s2>&#34;</span><span class=k>$(</span>curl -fsSL https://raw.githubusercontent.com/ohmybash/oh-my-bash/master/tools/install.sh<span class=k>)</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl>rm ~/.bashrc.omb-backup-*
</span></span><span class=line><span class=cl><span class=c1># 安装 starship</span>
</span></span><span class=line><span class=cl>curl -sS https://starship.rs/install.sh <span class=p>|</span> sh</span></span></code></pre></td></tr></table></div></div><div class=code-scroll aria-label=代码块滚动工具栏><button class="code-scroll-left iconfont-logan icon-logan-circle-left-solid" aria-label=向左滚动></button>
<button class="code-scroll-right iconfont-logan icon-logan-circle-right-solid" aria-label=向右滚动></button></div><div class=code-tools aria-label=代码块工具栏><div class=copy-text>Copied!</div><button class="copy-code-button iconfont-logan icon-logan-copy-round3" aria-label=复制></button>
<button class="my-code-fold iconfont-logan icon-logan-circle-chevron-down-solid expand1" aria-label=折叠></button></div></div><h3 id=2环境搭建><a href=#2%e7%8e%af%e5%a2%83%e6%90%ad%e5%bb%ba class=header-anchor></a>2、环境搭建</h3><div class=logan-code-block><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-18-1><a class=lnlinks href=#hl-18-1> 1</a>
</span><span class=lnt id=hl-18-2><a class=lnlinks href=#hl-18-2> 2</a>
</span><span class=lnt id=hl-18-3><a class=lnlinks href=#hl-18-3> 3</a>
</span><span class=lnt id=hl-18-4><a class=lnlinks href=#hl-18-4> 4</a>
</span><span class=lnt id=hl-18-5><a class=lnlinks href=#hl-18-5> 5</a>
</span><span class=lnt id=hl-18-6><a class=lnlinks href=#hl-18-6> 6</a>
</span><span class=lnt id=hl-18-7><a class=lnlinks href=#hl-18-7> 7</a>
</span><span class=lnt id=hl-18-8><a class=lnlinks href=#hl-18-8> 8</a>
</span><span class=lnt id=hl-18-9><a class=lnlinks href=#hl-18-9> 9</a>
</span><span class=lnt id=hl-18-10><a class=lnlinks href=#hl-18-10>10</a>
</span><span class=lnt id=hl-18-11><a class=lnlinks href=#hl-18-11>11</a>
</span><span class=lnt id=hl-18-12><a class=lnlinks href=#hl-18-12>12</a>
</span><span class=lnt id=hl-18-13><a class=lnlinks href=#hl-18-13>13</a>
</span><span class=lnt id=hl-18-14><a class=lnlinks href=#hl-18-14>14</a>
</span><span class=lnt id=hl-18-15><a class=lnlinks href=#hl-18-15>15</a>
</span><span class=lnt id=hl-18-16><a class=lnlinks href=#hl-18-16>16</a>
</span><span class=lnt id=hl-18-17><a class=lnlinks href=#hl-18-17>17</a>
</span><span class=lnt id=hl-18-18><a class=lnlinks href=#hl-18-18>18</a>
</span><span class=lnt id=hl-18-19><a class=lnlinks href=#hl-18-19>19</a>
</span><span class=lnt id=hl-18-20><a class=lnlinks href=#hl-18-20>20</a>
</span><span class=lnt id=hl-18-21><a class=lnlinks href=#hl-18-21>21</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>su helq
</span></span><span class=line><span class=cl><span class=nb>export</span> <span class=nv>PATH</span><span class=o>=</span><span class=nv>$PATH</span>:/usr/sbin/                                <span class=c1># 临时解决debian系统的默认PATH没有sbin的问题</span>
</span></span><span class=line><span class=cl><span class=c1># git</span>
</span></span><span class=line><span class=cl>sudo apt install git
</span></span><span class=line><span class=cl>git --version
</span></span><span class=line><span class=cl><span class=c1># ssh-github 私钥</span>
</span></span><span class=line><span class=cl><span class=c1>### 可选-上传 ~/.ssh/ 下的github私钥 到 虚拟机</span>
</span></span><span class=line><span class=cl>ssh -T git@github.com
</span></span><span class=line><span class=cl><span class=c1># 若有权限太宽泛的问题</span>
</span></span><span class=line><span class=cl>chmod <span class=m>600</span> /home/helq/.ssh/loganoxo-GitHub
</span></span><span class=line><span class=cl>ssh -T git@github.com
</span></span><span class=line><span class=cl><span class=c1># eval &#34;$(ssh-agent -s)&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>cd</span> ~
</span></span><span class=line><span class=cl>mkdir -p ~/.aria2 ~/.config ~/.ssh ~/.shell_bak ~/software ~/Data ~/.local/bin ~/.config/navi ~/.zoxide ~/.undodir ~/.vim ~/Temp ~/share
</span></span><span class=line><span class=cl>git clone https://github.com/loganoxo/Config.git ~/Data/Config
</span></span><span class=line><span class=cl>mv ~/.bashrc ~/.shell_bak/ <span class=o>&amp;&amp;</span> mv ~/.profile ~/.shell_bak/ <span class=o>&amp;&amp;</span> mv ~/.zshrc ~/.shell_bak/
</span></span><span class=line><span class=cl>bash ~/Data/Config/my-ln.sh
</span></span><span class=line><span class=cl>sudo bash ~/Data/Config/linux/for_root/create_root_files.sh <span class=s2>&#34;</span><span class=nv>$HOME</span><span class=s2>&#34;</span> <span class=s2>&#34;</span><span class=nv>$HOME</span><span class=s2>/Data/Config/linux/for_root/template.sh&#34;</span>
</span></span><span class=line><span class=cl>sudo ln -sf ~/Data/Config/vim/settings.vim /root/.vimrc
</span></span><span class=line><span class=cl><span class=nb>source</span> <span class=s2>&#34;</span><span class=nv>$HOME</span><span class=s2>/.zshrc&#34;</span></span></span></code></pre></td></tr></table></div></div><div class=code-scroll aria-label=代码块滚动工具栏><button class="code-scroll-left iconfont-logan icon-logan-circle-left-solid" aria-label=向左滚动></button>
<button class="code-scroll-right iconfont-logan icon-logan-circle-right-solid" aria-label=向右滚动></button></div><div class=code-tools aria-label=代码块工具栏><div class=copy-text>Copied!</div><button class="copy-code-button iconfont-logan icon-logan-copy-round3" aria-label=复制></button>
<button class="my-code-fold iconfont-logan icon-logan-circle-chevron-down-solid expand1" aria-label=折叠></button></div></div><h3 id=3安装必备工具><a href=#3%e5%ae%89%e8%a3%85%e5%bf%85%e5%a4%87%e5%b7%a5%e5%85%b7 class=header-anchor></a>3、安装必备工具</h3><ul><li>debian等linux系统,若是arm架构的,则不推荐装 homebrew(linuxbrew),有很多包没有通用二进制文件,只能在本地编译,很慢又容易出依赖的问题,不友好</li></ul><div class=logan-code-block><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-19-1><a class=lnlinks href=#hl-19-1> 1</a>
</span><span class=lnt id=hl-19-2><a class=lnlinks href=#hl-19-2> 2</a>
</span><span class=lnt id=hl-19-3><a class=lnlinks href=#hl-19-3> 3</a>
</span><span class=lnt id=hl-19-4><a class=lnlinks href=#hl-19-4> 4</a>
</span><span class=lnt id=hl-19-5><a class=lnlinks href=#hl-19-5> 5</a>
</span><span class=lnt id=hl-19-6><a class=lnlinks href=#hl-19-6> 6</a>
</span><span class=lnt id=hl-19-7><a class=lnlinks href=#hl-19-7> 7</a>
</span><span class=lnt id=hl-19-8><a class=lnlinks href=#hl-19-8> 8</a>
</span><span class=lnt id=hl-19-9><a class=lnlinks href=#hl-19-9> 9</a>
</span><span class=lnt id=hl-19-10><a class=lnlinks href=#hl-19-10>10</a>
</span><span class=lnt id=hl-19-11><a class=lnlinks href=#hl-19-11>11</a>
</span><span class=lnt id=hl-19-12><a class=lnlinks href=#hl-19-12>12</a>
</span><span class=lnt id=hl-19-13><a class=lnlinks href=#hl-19-13>13</a>
</span><span class=lnt id=hl-19-14><a class=lnlinks href=#hl-19-14>14</a>
</span><span class=lnt id=hl-19-15><a class=lnlinks href=#hl-19-15>15</a>
</span><span class=lnt id=hl-19-16><a class=lnlinks href=#hl-19-16>16</a>
</span><span class=lnt id=hl-19-17><a class=lnlinks href=#hl-19-17>17</a>
</span><span class=lnt id=hl-19-18><a class=lnlinks href=#hl-19-18>18</a>
</span><span class=lnt id=hl-19-19><a class=lnlinks href=#hl-19-19>19</a>
</span><span class=lnt id=hl-19-20><a class=lnlinks href=#hl-19-20>20</a>
</span><span class=lnt id=hl-19-21><a class=lnlinks href=#hl-19-21>21</a>
</span><span class=lnt id=hl-19-22><a class=lnlinks href=#hl-19-22>22</a>
</span><span class=lnt id=hl-19-23><a class=lnlinks href=#hl-19-23>23</a>
</span><span class=lnt id=hl-19-24><a class=lnlinks href=#hl-19-24>24</a>
</span><span class=lnt id=hl-19-25><a class=lnlinks href=#hl-19-25>25</a>
</span><span class=lnt id=hl-19-26><a class=lnlinks href=#hl-19-26>26</a>
</span><span class=lnt id=hl-19-27><a class=lnlinks href=#hl-19-27>27</a>
</span><span class=lnt id=hl-19-28><a class=lnlinks href=#hl-19-28>28</a>
</span><span class=lnt id=hl-19-29><a class=lnlinks href=#hl-19-29>29</a>
</span><span class=lnt id=hl-19-30><a class=lnlinks href=#hl-19-30>30</a>
</span><span class=lnt id=hl-19-31><a class=lnlinks href=#hl-19-31>31</a>
</span><span class=lnt id=hl-19-32><a class=lnlinks href=#hl-19-32>32</a>
</span><span class=lnt id=hl-19-33><a class=lnlinks href=#hl-19-33>33</a>
</span><span class=lnt id=hl-19-34><a class=lnlinks href=#hl-19-34>34</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=c1># 安装防火墙</span>
</span></span><span class=line><span class=cl>sudo apt install ufw -y
</span></span><span class=line><span class=cl>sudo ufw status <span class=c1>#inactive，说明 UFW 未启用</span>
</span></span><span class=line><span class=cl><span class=c1># 默认情况下，UFW 会阻止所有传入的网络流量，除非明确允许。例如，如果没有添加允许 SSH 的规则，远程登录将会被拒绝;</span>
</span></span><span class=line><span class=cl><span class=c1># 默认情况下，UFW 会允许所有传出的网络流量，比如从本机访问互联网的请求</span>
</span></span><span class=line><span class=cl><span class=c1># UFW 的 allow 命令默认允许的是传入流量; ufw allow ssh 等效于 ufw allow in ssh ;  传出的用法如: ufw allow out 53 </span>
</span></span><span class=line><span class=cl>sudo ufw disable <span class=c1>#禁用</span>
</span></span><span class=line><span class=cl>sudo ufw default deny incoming <span class=o>&amp;&amp;</span> sudo ufw default allow outgoing
</span></span><span class=line><span class=cl><span class=c1># enable之前先开放 ssh 端口, 否则远程连接会断开; 允许SSH（端口 22） HTTP（端口 80） HTTPS（端口 443）</span>
</span></span><span class=line><span class=cl>sudo ufw allow ssh <span class=o>&amp;&amp;</span> sudo ufw allow http <span class=o>&amp;&amp;</span> sudo ufw allow https <span class=o>&amp;&amp;</span> sudo ufw allow <span class=m>80</span>
</span></span><span class=line><span class=cl>sudo ufw allow 6000:6007/tcp <span class=o>&amp;&amp;</span> sudo ufw allow 6000:6007/udp <span class=c1>#允许使用端口 6000-6007 的 连接</span>
</span></span><span class=line><span class=cl>sudo ufw limit ssh <span class=c1># 限制ssh登录尝试的连接次数,防止暴力破解密码;每个ip每30秒最多尝试6次</span>
</span></span><span class=line><span class=cl>sudo ufw <span class=nb>enable</span> <span class=c1>#启用</span>
</span></span><span class=line><span class=cl>sudo ufw status verbose <span class=c1>#查看所有端口开放情况</span>
</span></span><span class=line><span class=cl>sudo ufw reset <span class=c1>#清空所有规则并恢复默认配置</span>
</span></span><span class=line><span class=cl>sudo ufw delete allow ssh <span class=c1>#删除某个规则</span>
</span></span><span class=line><span class=cl><span class=c1>#根据规则编号删除</span>
</span></span><span class=line><span class=cl>sudo ufw status numbered
</span></span><span class=line><span class=cl>sudo ufw delete &lt;编号&gt;
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 安装 nginx</span>
</span></span><span class=line><span class=cl>sudo apt install nginx -y
</span></span><span class=line><span class=cl>sudo systemctl list-unit-files --state<span class=o>=</span>enabled <span class=c1>#查看所有自启动的软件</span>
</span></span><span class=line><span class=cl>sudo systemctl disable nginx.service <span class=c1>#禁止nginx开机自启</span>
</span></span><span class=line><span class=cl>sudo systemctl status nginx
</span></span><span class=line><span class=cl>sudo systemctl stop nginx
</span></span><span class=line><span class=cl>sudo systemctl start nginx
</span></span><span class=line><span class=cl>sudo systemctl status nginx
</span></span><span class=line><span class=cl>curl http://127.0.0.1:80 <span class=c1>#测试</span>
</span></span><span class=line><span class=cl><span class=c1># 在本地宿主机访问 http://172.16.106.12 ; http://127.0.0.1:12382/</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 安装 go</span>
</span></span><span class=line><span class=cl>sudo apt install golang-go
</span></span><span class=line><span class=cl>go version</span></span></code></pre></td></tr></table></div></div><div class=code-scroll aria-label=代码块滚动工具栏><button class="code-scroll-left iconfont-logan icon-logan-circle-left-solid" aria-label=向左滚动></button>
<button class="code-scroll-right iconfont-logan icon-logan-circle-right-solid" aria-label=向右滚动></button></div><div class=code-tools aria-label=代码块工具栏><div class=copy-text>Copied!</div><button class="copy-code-button iconfont-logan icon-logan-copy-round3" aria-label=复制></button>
<button class="my-code-fold iconfont-logan icon-logan-circle-chevron-down-solid expand1" aria-label=折叠></button></div></div><h3 id=4命令行工具><a href=#4%e5%91%bd%e4%bb%a4%e8%a1%8c%e5%b7%a5%e5%85%b7 class=header-anchor></a>4、命令行工具</h3><div class=logan-code-block><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-20-1><a class=lnlinks href=#hl-20-1>  1</a>
</span><span class=lnt id=hl-20-2><a class=lnlinks href=#hl-20-2>  2</a>
</span><span class=lnt id=hl-20-3><a class=lnlinks href=#hl-20-3>  3</a>
</span><span class=lnt id=hl-20-4><a class=lnlinks href=#hl-20-4>  4</a>
</span><span class=lnt id=hl-20-5><a class=lnlinks href=#hl-20-5>  5</a>
</span><span class=lnt id=hl-20-6><a class=lnlinks href=#hl-20-6>  6</a>
</span><span class=lnt id=hl-20-7><a class=lnlinks href=#hl-20-7>  7</a>
</span><span class=lnt id=hl-20-8><a class=lnlinks href=#hl-20-8>  8</a>
</span><span class=lnt id=hl-20-9><a class=lnlinks href=#hl-20-9>  9</a>
</span><span class=lnt id=hl-20-10><a class=lnlinks href=#hl-20-10> 10</a>
</span><span class=lnt id=hl-20-11><a class=lnlinks href=#hl-20-11> 11</a>
</span><span class=lnt id=hl-20-12><a class=lnlinks href=#hl-20-12> 12</a>
</span><span class=lnt id=hl-20-13><a class=lnlinks href=#hl-20-13> 13</a>
</span><span class=lnt id=hl-20-14><a class=lnlinks href=#hl-20-14> 14</a>
</span><span class=lnt id=hl-20-15><a class=lnlinks href=#hl-20-15> 15</a>
</span><span class=lnt id=hl-20-16><a class=lnlinks href=#hl-20-16> 16</a>
</span><span class=lnt id=hl-20-17><a class=lnlinks href=#hl-20-17> 17</a>
</span><span class=lnt id=hl-20-18><a class=lnlinks href=#hl-20-18> 18</a>
</span><span class=lnt id=hl-20-19><a class=lnlinks href=#hl-20-19> 19</a>
</span><span class=lnt id=hl-20-20><a class=lnlinks href=#hl-20-20> 20</a>
</span><span class=lnt id=hl-20-21><a class=lnlinks href=#hl-20-21> 21</a>
</span><span class=lnt id=hl-20-22><a class=lnlinks href=#hl-20-22> 22</a>
</span><span class=lnt id=hl-20-23><a class=lnlinks href=#hl-20-23> 23</a>
</span><span class=lnt id=hl-20-24><a class=lnlinks href=#hl-20-24> 24</a>
</span><span class=lnt id=hl-20-25><a class=lnlinks href=#hl-20-25> 25</a>
</span><span class=lnt id=hl-20-26><a class=lnlinks href=#hl-20-26> 26</a>
</span><span class=lnt id=hl-20-27><a class=lnlinks href=#hl-20-27> 27</a>
</span><span class=lnt id=hl-20-28><a class=lnlinks href=#hl-20-28> 28</a>
</span><span class=lnt id=hl-20-29><a class=lnlinks href=#hl-20-29> 29</a>
</span><span class=lnt id=hl-20-30><a class=lnlinks href=#hl-20-30> 30</a>
</span><span class=lnt id=hl-20-31><a class=lnlinks href=#hl-20-31> 31</a>
</span><span class=lnt id=hl-20-32><a class=lnlinks href=#hl-20-32> 32</a>
</span><span class=lnt id=hl-20-33><a class=lnlinks href=#hl-20-33> 33</a>
</span><span class=lnt id=hl-20-34><a class=lnlinks href=#hl-20-34> 34</a>
</span><span class=lnt id=hl-20-35><a class=lnlinks href=#hl-20-35> 35</a>
</span><span class=lnt id=hl-20-36><a class=lnlinks href=#hl-20-36> 36</a>
</span><span class=lnt id=hl-20-37><a class=lnlinks href=#hl-20-37> 37</a>
</span><span class=lnt id=hl-20-38><a class=lnlinks href=#hl-20-38> 38</a>
</span><span class=lnt id=hl-20-39><a class=lnlinks href=#hl-20-39> 39</a>
</span><span class=lnt id=hl-20-40><a class=lnlinks href=#hl-20-40> 40</a>
</span><span class=lnt id=hl-20-41><a class=lnlinks href=#hl-20-41> 41</a>
</span><span class=lnt id=hl-20-42><a class=lnlinks href=#hl-20-42> 42</a>
</span><span class=lnt id=hl-20-43><a class=lnlinks href=#hl-20-43> 43</a>
</span><span class=lnt id=hl-20-44><a class=lnlinks href=#hl-20-44> 44</a>
</span><span class=lnt id=hl-20-45><a class=lnlinks href=#hl-20-45> 45</a>
</span><span class=lnt id=hl-20-46><a class=lnlinks href=#hl-20-46> 46</a>
</span><span class=lnt id=hl-20-47><a class=lnlinks href=#hl-20-47> 47</a>
</span><span class=lnt id=hl-20-48><a class=lnlinks href=#hl-20-48> 48</a>
</span><span class=lnt id=hl-20-49><a class=lnlinks href=#hl-20-49> 49</a>
</span><span class=lnt id=hl-20-50><a class=lnlinks href=#hl-20-50> 50</a>
</span><span class=lnt id=hl-20-51><a class=lnlinks href=#hl-20-51> 51</a>
</span><span class=lnt id=hl-20-52><a class=lnlinks href=#hl-20-52> 52</a>
</span><span class=lnt id=hl-20-53><a class=lnlinks href=#hl-20-53> 53</a>
</span><span class=lnt id=hl-20-54><a class=lnlinks href=#hl-20-54> 54</a>
</span><span class=lnt id=hl-20-55><a class=lnlinks href=#hl-20-55> 55</a>
</span><span class=lnt id=hl-20-56><a class=lnlinks href=#hl-20-56> 56</a>
</span><span class=lnt id=hl-20-57><a class=lnlinks href=#hl-20-57> 57</a>
</span><span class=lnt id=hl-20-58><a class=lnlinks href=#hl-20-58> 58</a>
</span><span class=lnt id=hl-20-59><a class=lnlinks href=#hl-20-59> 59</a>
</span><span class=lnt id=hl-20-60><a class=lnlinks href=#hl-20-60> 60</a>
</span><span class=lnt id=hl-20-61><a class=lnlinks href=#hl-20-61> 61</a>
</span><span class=lnt id=hl-20-62><a class=lnlinks href=#hl-20-62> 62</a>
</span><span class=lnt id=hl-20-63><a class=lnlinks href=#hl-20-63> 63</a>
</span><span class=lnt id=hl-20-64><a class=lnlinks href=#hl-20-64> 64</a>
</span><span class=lnt id=hl-20-65><a class=lnlinks href=#hl-20-65> 65</a>
</span><span class=lnt id=hl-20-66><a class=lnlinks href=#hl-20-66> 66</a>
</span><span class=lnt id=hl-20-67><a class=lnlinks href=#hl-20-67> 67</a>
</span><span class=lnt id=hl-20-68><a class=lnlinks href=#hl-20-68> 68</a>
</span><span class=lnt id=hl-20-69><a class=lnlinks href=#hl-20-69> 69</a>
</span><span class=lnt id=hl-20-70><a class=lnlinks href=#hl-20-70> 70</a>
</span><span class=lnt id=hl-20-71><a class=lnlinks href=#hl-20-71> 71</a>
</span><span class=lnt id=hl-20-72><a class=lnlinks href=#hl-20-72> 72</a>
</span><span class=lnt id=hl-20-73><a class=lnlinks href=#hl-20-73> 73</a>
</span><span class=lnt id=hl-20-74><a class=lnlinks href=#hl-20-74> 74</a>
</span><span class=lnt id=hl-20-75><a class=lnlinks href=#hl-20-75> 75</a>
</span><span class=lnt id=hl-20-76><a class=lnlinks href=#hl-20-76> 76</a>
</span><span class=lnt id=hl-20-77><a class=lnlinks href=#hl-20-77> 77</a>
</span><span class=lnt id=hl-20-78><a class=lnlinks href=#hl-20-78> 78</a>
</span><span class=lnt id=hl-20-79><a class=lnlinks href=#hl-20-79> 79</a>
</span><span class=lnt id=hl-20-80><a class=lnlinks href=#hl-20-80> 80</a>
</span><span class=lnt id=hl-20-81><a class=lnlinks href=#hl-20-81> 81</a>
</span><span class=lnt id=hl-20-82><a class=lnlinks href=#hl-20-82> 82</a>
</span><span class=lnt id=hl-20-83><a class=lnlinks href=#hl-20-83> 83</a>
</span><span class=lnt id=hl-20-84><a class=lnlinks href=#hl-20-84> 84</a>
</span><span class=lnt id=hl-20-85><a class=lnlinks href=#hl-20-85> 85</a>
</span><span class=lnt id=hl-20-86><a class=lnlinks href=#hl-20-86> 86</a>
</span><span class=lnt id=hl-20-87><a class=lnlinks href=#hl-20-87> 87</a>
</span><span class=lnt id=hl-20-88><a class=lnlinks href=#hl-20-88> 88</a>
</span><span class=lnt id=hl-20-89><a class=lnlinks href=#hl-20-89> 89</a>
</span><span class=lnt id=hl-20-90><a class=lnlinks href=#hl-20-90> 90</a>
</span><span class=lnt id=hl-20-91><a class=lnlinks href=#hl-20-91> 91</a>
</span><span class=lnt id=hl-20-92><a class=lnlinks href=#hl-20-92> 92</a>
</span><span class=lnt id=hl-20-93><a class=lnlinks href=#hl-20-93> 93</a>
</span><span class=lnt id=hl-20-94><a class=lnlinks href=#hl-20-94> 94</a>
</span><span class=lnt id=hl-20-95><a class=lnlinks href=#hl-20-95> 95</a>
</span><span class=lnt id=hl-20-96><a class=lnlinks href=#hl-20-96> 96</a>
</span><span class=lnt id=hl-20-97><a class=lnlinks href=#hl-20-97> 97</a>
</span><span class=lnt id=hl-20-98><a class=lnlinks href=#hl-20-98> 98</a>
</span><span class=lnt id=hl-20-99><a class=lnlinks href=#hl-20-99> 99</a>
</span><span class=lnt id=hl-20-100><a class=lnlinks href=#hl-20-100>100</a>
</span><span class=lnt id=hl-20-101><a class=lnlinks href=#hl-20-101>101</a>
</span><span class=lnt id=hl-20-102><a class=lnlinks href=#hl-20-102>102</a>
</span><span class=lnt id=hl-20-103><a class=lnlinks href=#hl-20-103>103</a>
</span><span class=lnt id=hl-20-104><a class=lnlinks href=#hl-20-104>104</a>
</span><span class=lnt id=hl-20-105><a class=lnlinks href=#hl-20-105>105</a>
</span><span class=lnt id=hl-20-106><a class=lnlinks href=#hl-20-106>106</a>
</span><span class=lnt id=hl-20-107><a class=lnlinks href=#hl-20-107>107</a>
</span><span class=lnt id=hl-20-108><a class=lnlinks href=#hl-20-108>108</a>
</span><span class=lnt id=hl-20-109><a class=lnlinks href=#hl-20-109>109</a>
</span><span class=lnt id=hl-20-110><a class=lnlinks href=#hl-20-110>110</a>
</span><span class=lnt id=hl-20-111><a class=lnlinks href=#hl-20-111>111</a>
</span><span class=lnt id=hl-20-112><a class=lnlinks href=#hl-20-112>112</a>
</span><span class=lnt id=hl-20-113><a class=lnlinks href=#hl-20-113>113</a>
</span><span class=lnt id=hl-20-114><a class=lnlinks href=#hl-20-114>114</a>
</span><span class=lnt id=hl-20-115><a class=lnlinks href=#hl-20-115>115</a>
</span><span class=lnt id=hl-20-116><a class=lnlinks href=#hl-20-116>116</a>
</span><span class=lnt id=hl-20-117><a class=lnlinks href=#hl-20-117>117</a>
</span><span class=lnt id=hl-20-118><a class=lnlinks href=#hl-20-118>118</a>
</span><span class=lnt id=hl-20-119><a class=lnlinks href=#hl-20-119>119</a>
</span><span class=lnt id=hl-20-120><a class=lnlinks href=#hl-20-120>120</a>
</span><span class=lnt id=hl-20-121><a class=lnlinks href=#hl-20-121>121</a>
</span><span class=lnt id=hl-20-122><a class=lnlinks href=#hl-20-122>122</a>
</span><span class=lnt id=hl-20-123><a class=lnlinks href=#hl-20-123>123</a>
</span><span class=lnt id=hl-20-124><a class=lnlinks href=#hl-20-124>124</a>
</span><span class=lnt id=hl-20-125><a class=lnlinks href=#hl-20-125>125</a>
</span><span class=lnt id=hl-20-126><a class=lnlinks href=#hl-20-126>126</a>
</span><span class=lnt id=hl-20-127><a class=lnlinks href=#hl-20-127>127</a>
</span><span class=lnt id=hl-20-128><a class=lnlinks href=#hl-20-128>128</a>
</span><span class=lnt id=hl-20-129><a class=lnlinks href=#hl-20-129>129</a>
</span><span class=lnt id=hl-20-130><a class=lnlinks href=#hl-20-130>130</a>
</span><span class=lnt id=hl-20-131><a class=lnlinks href=#hl-20-131>131</a>
</span><span class=lnt id=hl-20-132><a class=lnlinks href=#hl-20-132>132</a>
</span><span class=lnt id=hl-20-133><a class=lnlinks href=#hl-20-133>133</a>
</span><span class=lnt id=hl-20-134><a class=lnlinks href=#hl-20-134>134</a>
</span><span class=lnt id=hl-20-135><a class=lnlinks href=#hl-20-135>135</a>
</span><span class=lnt id=hl-20-136><a class=lnlinks href=#hl-20-136>136</a>
</span><span class=lnt id=hl-20-137><a class=lnlinks href=#hl-20-137>137</a>
</span><span class=lnt id=hl-20-138><a class=lnlinks href=#hl-20-138>138</a>
</span><span class=lnt id=hl-20-139><a class=lnlinks href=#hl-20-139>139</a>
</span><span class=lnt id=hl-20-140><a class=lnlinks href=#hl-20-140>140</a>
</span><span class=lnt id=hl-20-141><a class=lnlinks href=#hl-20-141>141</a>
</span><span class=lnt id=hl-20-142><a class=lnlinks href=#hl-20-142>142</a>
</span><span class=lnt id=hl-20-143><a class=lnlinks href=#hl-20-143>143</a>
</span><span class=lnt id=hl-20-144><a class=lnlinks href=#hl-20-144>144</a>
</span><span class=lnt id=hl-20-145><a class=lnlinks href=#hl-20-145>145</a>
</span><span class=lnt id=hl-20-146><a class=lnlinks href=#hl-20-146>146</a>
</span><span class=lnt id=hl-20-147><a class=lnlinks href=#hl-20-147>147</a>
</span><span class=lnt id=hl-20-148><a class=lnlinks href=#hl-20-148>148</a>
</span><span class=lnt id=hl-20-149><a class=lnlinks href=#hl-20-149>149</a>
</span><span class=lnt id=hl-20-150><a class=lnlinks href=#hl-20-150>150</a>
</span><span class=lnt id=hl-20-151><a class=lnlinks href=#hl-20-151>151</a>
</span><span class=lnt id=hl-20-152><a class=lnlinks href=#hl-20-152>152</a>
</span><span class=lnt id=hl-20-153><a class=lnlinks href=#hl-20-153>153</a>
</span><span class=lnt id=hl-20-154><a class=lnlinks href=#hl-20-154>154</a>
</span><span class=lnt id=hl-20-155><a class=lnlinks href=#hl-20-155>155</a>
</span><span class=lnt id=hl-20-156><a class=lnlinks href=#hl-20-156>156</a>
</span><span class=lnt id=hl-20-157><a class=lnlinks href=#hl-20-157>157</a>
</span><span class=lnt id=hl-20-158><a class=lnlinks href=#hl-20-158>158</a>
</span><span class=lnt id=hl-20-159><a class=lnlinks href=#hl-20-159>159</a>
</span><span class=lnt id=hl-20-160><a class=lnlinks href=#hl-20-160>160</a>
</span><span class=lnt id=hl-20-161><a class=lnlinks href=#hl-20-161>161</a>
</span><span class=lnt id=hl-20-162><a class=lnlinks href=#hl-20-162>162</a>
</span><span class=lnt id=hl-20-163><a class=lnlinks href=#hl-20-163>163</a>
</span><span class=lnt id=hl-20-164><a class=lnlinks href=#hl-20-164>164</a>
</span><span class=lnt id=hl-20-165><a class=lnlinks href=#hl-20-165>165</a>
</span><span class=lnt id=hl-20-166><a class=lnlinks href=#hl-20-166>166</a>
</span><span class=lnt id=hl-20-167><a class=lnlinks href=#hl-20-167>167</a>
</span><span class=lnt id=hl-20-168><a class=lnlinks href=#hl-20-168>168</a>
</span><span class=lnt id=hl-20-169><a class=lnlinks href=#hl-20-169>169</a>
</span><span class=lnt id=hl-20-170><a class=lnlinks href=#hl-20-170>170</a>
</span><span class=lnt id=hl-20-171><a class=lnlinks href=#hl-20-171>171</a>
</span><span class=lnt id=hl-20-172><a class=lnlinks href=#hl-20-172>172</a>
</span><span class=lnt id=hl-20-173><a class=lnlinks href=#hl-20-173>173</a>
</span><span class=lnt id=hl-20-174><a class=lnlinks href=#hl-20-174>174</a>
</span><span class=lnt id=hl-20-175><a class=lnlinks href=#hl-20-175>175</a>
</span><span class=lnt id=hl-20-176><a class=lnlinks href=#hl-20-176>176</a>
</span><span class=lnt id=hl-20-177><a class=lnlinks href=#hl-20-177>177</a>
</span><span class=lnt id=hl-20-178><a class=lnlinks href=#hl-20-178>178</a>
</span><span class=lnt id=hl-20-179><a class=lnlinks href=#hl-20-179>179</a>
</span><span class=lnt id=hl-20-180><a class=lnlinks href=#hl-20-180>180</a>
</span><span class=lnt id=hl-20-181><a class=lnlinks href=#hl-20-181>181</a>
</span><span class=lnt id=hl-20-182><a class=lnlinks href=#hl-20-182>182</a>
</span><span class=lnt id=hl-20-183><a class=lnlinks href=#hl-20-183>183</a>
</span><span class=lnt id=hl-20-184><a class=lnlinks href=#hl-20-184>184</a>
</span><span class=lnt id=hl-20-185><a class=lnlinks href=#hl-20-185>185</a>
</span><span class=lnt id=hl-20-186><a class=lnlinks href=#hl-20-186>186</a>
</span><span class=lnt id=hl-20-187><a class=lnlinks href=#hl-20-187>187</a>
</span><span class=lnt id=hl-20-188><a class=lnlinks href=#hl-20-188>188</a>
</span><span class=lnt id=hl-20-189><a class=lnlinks href=#hl-20-189>189</a>
</span><span class=lnt id=hl-20-190><a class=lnlinks href=#hl-20-190>190</a>
</span><span class=lnt id=hl-20-191><a class=lnlinks href=#hl-20-191>191</a>
</span><span class=lnt id=hl-20-192><a class=lnlinks href=#hl-20-192>192</a>
</span><span class=lnt id=hl-20-193><a class=lnlinks href=#hl-20-193>193</a>
</span><span class=lnt id=hl-20-194><a class=lnlinks href=#hl-20-194>194</a>
</span><span class=lnt id=hl-20-195><a class=lnlinks href=#hl-20-195>195</a>
</span><span class=lnt id=hl-20-196><a class=lnlinks href=#hl-20-196>196</a>
</span><span class=lnt id=hl-20-197><a class=lnlinks href=#hl-20-197>197</a>
</span><span class=lnt id=hl-20-198><a class=lnlinks href=#hl-20-198>198</a>
</span><span class=lnt id=hl-20-199><a class=lnlinks href=#hl-20-199>199</a>
</span><span class=lnt id=hl-20-200><a class=lnlinks href=#hl-20-200>200</a>
</span><span class=lnt id=hl-20-201><a class=lnlinks href=#hl-20-201>201</a>
</span><span class=lnt id=hl-20-202><a class=lnlinks href=#hl-20-202>202</a>
</span><span class=lnt id=hl-20-203><a class=lnlinks href=#hl-20-203>203</a>
</span><span class=lnt id=hl-20-204><a class=lnlinks href=#hl-20-204>204</a>
</span><span class=lnt id=hl-20-205><a class=lnlinks href=#hl-20-205>205</a>
</span><span class=lnt id=hl-20-206><a class=lnlinks href=#hl-20-206>206</a>
</span><span class=lnt id=hl-20-207><a class=lnlinks href=#hl-20-207>207</a>
</span><span class=lnt id=hl-20-208><a class=lnlinks href=#hl-20-208>208</a>
</span><span class=lnt id=hl-20-209><a class=lnlinks href=#hl-20-209>209</a>
</span><span class=lnt id=hl-20-210><a class=lnlinks href=#hl-20-210>210</a>
</span><span class=lnt id=hl-20-211><a class=lnlinks href=#hl-20-211>211</a>
</span><span class=lnt id=hl-20-212><a class=lnlinks href=#hl-20-212>212</a>
</span><span class=lnt id=hl-20-213><a class=lnlinks href=#hl-20-213>213</a>
</span><span class=lnt id=hl-20-214><a class=lnlinks href=#hl-20-214>214</a>
</span><span class=lnt id=hl-20-215><a class=lnlinks href=#hl-20-215>215</a>
</span><span class=lnt id=hl-20-216><a class=lnlinks href=#hl-20-216>216</a>
</span><span class=lnt id=hl-20-217><a class=lnlinks href=#hl-20-217>217</a>
</span><span class=lnt id=hl-20-218><a class=lnlinks href=#hl-20-218>218</a>
</span><span class=lnt id=hl-20-219><a class=lnlinks href=#hl-20-219>219</a>
</span><span class=lnt id=hl-20-220><a class=lnlinks href=#hl-20-220>220</a>
</span><span class=lnt id=hl-20-221><a class=lnlinks href=#hl-20-221>221</a>
</span><span class=lnt id=hl-20-222><a class=lnlinks href=#hl-20-222>222</a>
</span><span class=lnt id=hl-20-223><a class=lnlinks href=#hl-20-223>223</a>
</span><span class=lnt id=hl-20-224><a class=lnlinks href=#hl-20-224>224</a>
</span><span class=lnt id=hl-20-225><a class=lnlinks href=#hl-20-225>225</a>
</span><span class=lnt id=hl-20-226><a class=lnlinks href=#hl-20-226>226</a>
</span><span class=lnt id=hl-20-227><a class=lnlinks href=#hl-20-227>227</a>
</span><span class=lnt id=hl-20-228><a class=lnlinks href=#hl-20-228>228</a>
</span><span class=lnt id=hl-20-229><a class=lnlinks href=#hl-20-229>229</a>
</span><span class=lnt id=hl-20-230><a class=lnlinks href=#hl-20-230>230</a>
</span><span class=lnt id=hl-20-231><a class=lnlinks href=#hl-20-231>231</a>
</span><span class=lnt id=hl-20-232><a class=lnlinks href=#hl-20-232>232</a>
</span><span class=lnt id=hl-20-233><a class=lnlinks href=#hl-20-233>233</a>
</span><span class=lnt id=hl-20-234><a class=lnlinks href=#hl-20-234>234</a>
</span><span class=lnt id=hl-20-235><a class=lnlinks href=#hl-20-235>235</a>
</span><span class=lnt id=hl-20-236><a class=lnlinks href=#hl-20-236>236</a>
</span><span class=lnt id=hl-20-237><a class=lnlinks href=#hl-20-237>237</a>
</span><span class=lnt id=hl-20-238><a class=lnlinks href=#hl-20-238>238</a>
</span><span class=lnt id=hl-20-239><a class=lnlinks href=#hl-20-239>239</a>
</span><span class=lnt id=hl-20-240><a class=lnlinks href=#hl-20-240>240</a>
</span><span class=lnt id=hl-20-241><a class=lnlinks href=#hl-20-241>241</a>
</span><span class=lnt id=hl-20-242><a class=lnlinks href=#hl-20-242>242</a>
</span><span class=lnt id=hl-20-243><a class=lnlinks href=#hl-20-243>243</a>
</span><span class=lnt id=hl-20-244><a class=lnlinks href=#hl-20-244>244</a>
</span><span class=lnt id=hl-20-245><a class=lnlinks href=#hl-20-245>245</a>
</span><span class=lnt id=hl-20-246><a class=lnlinks href=#hl-20-246>246</a>
</span><span class=lnt id=hl-20-247><a class=lnlinks href=#hl-20-247>247</a>
</span><span class=lnt id=hl-20-248><a class=lnlinks href=#hl-20-248>248</a>
</span><span class=lnt id=hl-20-249><a class=lnlinks href=#hl-20-249>249</a>
</span><span class=lnt id=hl-20-250><a class=lnlinks href=#hl-20-250>250</a>
</span><span class=lnt id=hl-20-251><a class=lnlinks href=#hl-20-251>251</a>
</span><span class=lnt id=hl-20-252><a class=lnlinks href=#hl-20-252>252</a>
</span><span class=lnt id=hl-20-253><a class=lnlinks href=#hl-20-253>253</a>
</span><span class=lnt id=hl-20-254><a class=lnlinks href=#hl-20-254>254</a>
</span><span class=lnt id=hl-20-255><a class=lnlinks href=#hl-20-255>255</a>
</span><span class=lnt id=hl-20-256><a class=lnlinks href=#hl-20-256>256</a>
</span><span class=lnt id=hl-20-257><a class=lnlinks href=#hl-20-257>257</a>
</span><span class=lnt id=hl-20-258><a class=lnlinks href=#hl-20-258>258</a>
</span><span class=lnt id=hl-20-259><a class=lnlinks href=#hl-20-259>259</a>
</span><span class=lnt id=hl-20-260><a class=lnlinks href=#hl-20-260>260</a>
</span><span class=lnt id=hl-20-261><a class=lnlinks href=#hl-20-261>261</a>
</span><span class=lnt id=hl-20-262><a class=lnlinks href=#hl-20-262>262</a>
</span><span class=lnt id=hl-20-263><a class=lnlinks href=#hl-20-263>263</a>
</span><span class=lnt id=hl-20-264><a class=lnlinks href=#hl-20-264>264</a>
</span><span class=lnt id=hl-20-265><a class=lnlinks href=#hl-20-265>265</a>
</span><span class=lnt id=hl-20-266><a class=lnlinks href=#hl-20-266>266</a>
</span><span class=lnt id=hl-20-267><a class=lnlinks href=#hl-20-267>267</a>
</span><span class=lnt id=hl-20-268><a class=lnlinks href=#hl-20-268>268</a>
</span><span class=lnt id=hl-20-269><a class=lnlinks href=#hl-20-269>269</a>
</span><span class=lnt id=hl-20-270><a class=lnlinks href=#hl-20-270>270</a>
</span><span class=lnt id=hl-20-271><a class=lnlinks href=#hl-20-271>271</a>
</span><span class=lnt id=hl-20-272><a class=lnlinks href=#hl-20-272>272</a>
</span><span class=lnt id=hl-20-273><a class=lnlinks href=#hl-20-273>273</a>
</span><span class=lnt id=hl-20-274><a class=lnlinks href=#hl-20-274>274</a>
</span><span class=lnt id=hl-20-275><a class=lnlinks href=#hl-20-275>275</a>
</span><span class=lnt id=hl-20-276><a class=lnlinks href=#hl-20-276>276</a>
</span><span class=lnt id=hl-20-277><a class=lnlinks href=#hl-20-277>277</a>
</span><span class=lnt id=hl-20-278><a class=lnlinks href=#hl-20-278>278</a>
</span><span class=lnt id=hl-20-279><a class=lnlinks href=#hl-20-279>279</a>
</span><span class=lnt id=hl-20-280><a class=lnlinks href=#hl-20-280>280</a>
</span><span class=lnt id=hl-20-281><a class=lnlinks href=#hl-20-281>281</a>
</span><span class=lnt id=hl-20-282><a class=lnlinks href=#hl-20-282>282</a>
</span><span class=lnt id=hl-20-283><a class=lnlinks href=#hl-20-283>283</a>
</span><span class=lnt id=hl-20-284><a class=lnlinks href=#hl-20-284>284</a>
</span><span class=lnt id=hl-20-285><a class=lnlinks href=#hl-20-285>285</a>
</span><span class=lnt id=hl-20-286><a class=lnlinks href=#hl-20-286>286</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>su helq
</span></span><span class=line><span class=cl><span class=c1># 安装 bat</span>
</span></span><span class=line><span class=cl>sudo apt install bat <span class=c1>#这样安装的bat会因为避免名字冲突而让他的命令变为 batcat, 所以需要符号链接</span>
</span></span><span class=line><span class=cl><span class=c1># 切换到普通用户执行:</span>
</span></span><span class=line><span class=cl>mkdir -p ~/.local/bin
</span></span><span class=line><span class=cl>ln -s /usr/bin/batcat ~/.local/bin/bat
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 安装fzf</span>
</span></span><span class=line><span class=cl><span class=c1># sudo apt install fzf #版本太低了</span>
</span></span><span class=line><span class=cl>mkdir -p ~/software  
</span></span><span class=line><span class=cl>git clone https://github.com/junegunn/fzf.git ~/software/fzf  
</span></span><span class=line><span class=cl>wget -P <span class=s2>&#34;</span><span class=nv>$HOME</span><span class=s2>/software/fzf/&#34;</span> https://github.com/junegunn/fzf/releases/download/v0.56.3/fzf-0.56.3-linux_arm64.tar.gz  
</span></span><span class=line><span class=cl>tar -xzf ~/software/fzf/fzf-0.56.3-linux_arm64.tar.gz -C ~/software/fzf  
</span></span><span class=line><span class=cl>ln -sf ~/software/fzf/fzf ~/.local/bin/fzf
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 安装fd</span>
</span></span><span class=line><span class=cl>sudo apt install fd-find
</span></span><span class=line><span class=cl>ln -s <span class=k>$(</span>which fdfind<span class=k>)</span> ~/.local/bin/fd
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 安装zoxide</span>
</span></span><span class=line><span class=cl>mkdir -p ~/.zoxide
</span></span><span class=line><span class=cl>curl -sSfL https://raw.githubusercontent.com/ajeetdsouza/zoxide/main/install.sh <span class=p>|</span> sh
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 安装vim</span>
</span></span><span class=line><span class=cl>mkdir -p ~/.undodir ~/.vim
</span></span><span class=line><span class=cl>sudo apt install vim
</span></span><span class=line><span class=cl>curl -fLo ~/.vim/autoload/plug.vim --create-dirs <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim
</span></span><span class=line><span class=cl><span class=c1># 测试 :PlugStatus :PlugInstall  :PlugClean</span>
</span></span><span class=line><span class=cl>vim -c <span class=s1>&#39;:PlugStatus&#39;</span> -c <span class=s1>&#39;:PlugInstall&#39;</span> -c <span class=s1>&#39;:PlugClean&#39;</span> -c <span class=s1>&#39;:qa!&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 安装sdkman</span>
</span></span><span class=line><span class=cl>curl -s <span class=s2>&#34;https://get.sdkman.io?rcupdate=false&#34;</span> <span class=p>|</span> bash <span class=c1>#不修改zshrc 和 bashrc</span>
</span></span><span class=line><span class=cl>sdk version
</span></span><span class=line><span class=cl>sdk list java
</span></span><span class=line><span class=cl>sdk install java 8.0.432.fx-zulu
</span></span><span class=line><span class=cl>java -XshowSettings:properties -version <span class=c1>#查看安装的jdk详细版本信息</span>
</span></span><span class=line><span class=cl>sdk install java 11.0.25.fx-zulu
</span></span><span class=line><span class=cl>sdk install java 17.0.13.fx-zulu
</span></span><span class=line><span class=cl>sdk install java 17.0.13-zulu
</span></span><span class=line><span class=cl>sdk install java 17.0.12-oracle <span class=c1>#设为默认</span>
</span></span><span class=line><span class=cl>sdk install java 17.0.13-tem
</span></span><span class=line><span class=cl>sdk default java 17.0.12-oracle
</span></span><span class=line><span class=cl>java -version
</span></span><span class=line><span class=cl>sdk list maven
</span></span><span class=line><span class=cl>sdk install maven 3.9.9
</span></span><span class=line><span class=cl>sdk default maven 3.9.9
</span></span><span class=line><span class=cl><span class=c1># 重启虚拟机</span>
</span></span><span class=line><span class=cl>mvn -version
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 安装fnm</span>
</span></span><span class=line><span class=cl>curl -fsSL https://fnm.vercel.app/install <span class=p>|</span> bash -s -- --skip-shell <span class=c1>#不修改zshrc 和 bashrc</span>
</span></span><span class=line><span class=cl>ln -s ~/.local/share/fnm/fnm ~/.local/bin/fnm
</span></span><span class=line><span class=cl><span class=c1># eval &#34;$(fnm completions --shell zsh)&#34; #命令补全,没啥用,就只是补全命令,不会补全当前存在的node版本</span>
</span></span><span class=line><span class=cl>fnm -V                             <span class=c1>#查看fnm的版本</span>
</span></span><span class=line><span class=cl>fnm ls                             <span class=c1>#查看本地已安装的nodejs的版本</span>
</span></span><span class=line><span class=cl>fnm current                        <span class=c1>#打印当前使用的node版本</span>
</span></span><span class=line><span class=cl>fnm ls-remote                      <span class=c1>#通过网络查看所有已发布的nodejs版本</span>
</span></span><span class=line><span class=cl>fnm ls-remote --lts                <span class=c1>#通过网络查看所有已发布的长期支持的nodejs版本</span>
</span></span><span class=line><span class=cl>fnm ls-remote --sort &lt;SORT&gt;        <span class=c1>#默认asc升序,desc为倒序</span>
</span></span><span class=line><span class=cl>fnm install --lts                  <span class=c1>#安装最新的LTS版本,会自动加别名 default, lts-latest</span>
</span></span><span class=line><span class=cl>fnm install --latest               <span class=c1>#安装最新的版本,会自动加别名 latest</span>
</span></span><span class=line><span class=cl><span class=c1># fnm install v18.3.0              #安装指定的版本</span>
</span></span><span class=line><span class=cl><span class=c1># fnm install 17                   #部分版本匹配,从你的部分输入中猜测最新的可用版本,它将安装版本为v17.9.1 的节点</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># fnm use &lt;alias/version&gt;          #在当前shell中临时使用某个版本的node</span>
</span></span><span class=line><span class=cl>fnm use <span class=m>22</span>
</span></span><span class=line><span class=cl>fnm use lts-latest
</span></span><span class=line><span class=cl>fnm use default
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># fnm default &lt;alias/version&gt;      #将某个版本设为默认版本;即新shell中默认使用的node版本</span>
</span></span><span class=line><span class=cl>fnm default lts-latest
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># fnm uninstall &lt;alias/version&gt;    #卸载某个版本</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># fnm 给某node版本起别名,用于让其他命令在使用时,将版本号用别名替换;</span>
</span></span><span class=line><span class=cl><span class=c1># fnm alias [OPTIONS] &lt;alias/version&gt; &lt;NAME&gt;  设置别名; 别名唯一;</span>
</span></span><span class=line><span class=cl><span class=c1># 若此次设置的别名 aaa 与其他版本的别名重复,则会自动取消之前的别名,给这个命令里的版本17设置别名 aaa</span>
</span></span><span class=line><span class=cl><span class=c1># fnm alias 17 aaa </span>
</span></span><span class=line><span class=cl>fnm <span class=nb>alias</span> lts-latest lts
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># fnm unalias [OPTIONS] &lt;alias_name&gt;  取消别名</span>
</span></span><span class=line><span class=cl><span class=c1># fnm unalias lts</span>
</span></span><span class=line><span class=cl>which -a npm
</span></span><span class=line><span class=cl>npm -g install nrm pm2 prettier yarn yrm
</span></span><span class=line><span class=cl>npm list -g
</span></span><span class=line><span class=cl>nrm ls
</span></span><span class=line><span class=cl>nrm use taobao
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 安装rust</span>
</span></span><span class=line><span class=cl>curl --proto <span class=s1>&#39;=https&#39;</span> --tlsv1.2 -sSf https://sh.rustup.rs <span class=p>|</span> sh
</span></span><span class=line><span class=cl>rustc --version
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 安装navi</span>
</span></span><span class=line><span class=cl>tt
</span></span><span class=line><span class=cl><span class=c1># 方法一,用cargo</span>
</span></span><span class=line><span class=cl>cargo install --locked navi
</span></span><span class=line><span class=cl><span class=c1># 方法二,自己编译,有问题</span>
</span></span><span class=line><span class=cl>git clone https://github.com/denisidoro/navi <span class=o>&amp;&amp;</span> <span class=nb>cd</span> navi
</span></span><span class=line><span class=cl>make <span class=nv>BIN_DIR</span><span class=o>=</span>/home/helq/.local/bin install
</span></span><span class=line><span class=cl><span class=c1># 方法三,用脚本,有问题,在debian上执行不了</span>
</span></span><span class=line><span class=cl><span class=nv>BIN_DIR</span><span class=o>=</span>/home/helq/.local/bin bash &lt;<span class=o>(</span>curl -sL https://raw.githubusercontent.com/denisidoro/navi/master/scripts/install<span class=o>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># tldr</span>
</span></span><span class=line><span class=cl>cargo install tealdeer
</span></span><span class=line><span class=cl>tldr --update
</span></span><span class=line><span class=cl>tldr bat
</span></span><span class=line><span class=cl>tldr -L zh tree
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># glow</span>
</span></span><span class=line><span class=cl>mkdir -p ~/software  
</span></span><span class=line><span class=cl>wget -P <span class=s2>&#34;</span><span class=nv>$HOME</span><span class=s2>/software&#34;</span> https://github.com/charmbracelet/glow/releases/download/v2.0.0/glow_2.0.0_Linux_arm64.tar.gz  
</span></span><span class=line><span class=cl>tar xvzf ~/software/glow_2.0.0_Linux_arm64.tar.gz -C <span class=s2>&#34;</span><span class=nv>$HOME</span><span class=s2>/software/&#34;</span>  
</span></span><span class=line><span class=cl>mv ~/software/glow_2.0.0_Linux_arm64 ~/software/glow  
</span></span><span class=line><span class=cl>ln -s ~/software/glow/glow ~/.local/bin/glow
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># the_silver_searcher</span>
</span></span><span class=line><span class=cl>sudo apt install silversearcher-ag
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># trash-cli https://github.com/andreafrancia/trash-cli</span>
</span></span><span class=line><span class=cl>sudo apt install python3 python3-pip python3-venv
</span></span><span class=line><span class=cl>sudo apt install trash-cli <span class=c1># 版本很低</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>sudo mkdir --parent /.Trash
</span></span><span class=line><span class=cl>sudo chmod a+rw /.Trash
</span></span><span class=line><span class=cl>sudo chmod +t /.Trash   
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># +t 设置粘滞位 (sticky bit) 权限;只有文件或子目录的所有者，或目录本身的所有者（通常是管理员），才能删除或重命名该目录内的内容;</span>
</span></span><span class=line><span class=cl><span class=c1># 其他用户即使有写权限，也无法删除非自己拥有的文件</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#   trash-cli https://github.com/andreafrancia/trash-cli</span>
</span></span><span class=line><span class=cl><span class=c1>#   trash-put   &lt;file/directory&gt;                # trash files and directories.</span>
</span></span><span class=line><span class=cl><span class=c1>#   trash-empty                                 # 从垃圾箱中删除所有文件</span>
</span></span><span class=line><span class=cl><span class=c1>#   trash-empty &lt;days&gt;                          # 仅删除已删除时间超过 &lt;days&gt; 的文件</span>
</span></span><span class=line><span class=cl><span class=c1>#   trash-list | grep &lt;path&gt;                    # list trashed files.</span>
</span></span><span class=line><span class=cl><span class=c1>#   trash-restore                               # 选择文件进行恢复, 若要覆盖同名文件则 加 --overwrite</span>
</span></span><span class=line><span class=cl><span class=c1>#   trash-rm \*.o                               # 从垃圾箱中删除与模式匹配的文件</span>
</span></span><span class=line><span class=cl><span class=c1>#   从 home 分区回收的文件将被移动到此处 ~/.local/share/Trash/</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># uv 包含了 pipx 的功能  https://docs.astral.sh/uv/</span>
</span></span><span class=line><span class=cl><span class=c1># 默认是managed: 最先找uv管理的python,其次找系统python(若此时在conda的某个环境中,conda该环境的python也会被找到),最后才下载;only-managed:只找uv管理的python,没有则下载;</span>
</span></span><span class=line><span class=cl><span class=c1># # 安装选项:https://docs.astral.sh/uv/configuration/installer/#disabling-shell-modifications</span>
</span></span><span class=line><span class=cl>curl -LsSf https://astral.sh/uv/install.sh <span class=p>|</span> sh <span class=c1># 默认在 ~/.local/share/uv/</span>
</span></span><span class=line><span class=cl><span class=c1># brew install uv</span>
</span></span><span class=line><span class=cl><span class=nb>export</span> <span class=nv>UV_PYTHON_PREFERENCE</span><span class=o>=</span><span class=s2>&#34;only-managed&#34;</span>
</span></span><span class=line><span class=cl>uv python list
</span></span><span class=line><span class=cl>uv python install <span class=c1># 默认在 ~/.local/share/uv/python/</span>
</span></span><span class=line><span class=cl>uv python install 3.12
</span></span><span class=line><span class=cl>uv python uninstall 3.12
</span></span><span class=line><span class=cl>uv tool list
</span></span><span class=line><span class=cl>uv tool install ruff <span class=c1># 安装命令行工具,默认在 ~/.local/bin/  ~/.local/share/uv/tools/</span>
</span></span><span class=line><span class=cl>uv tool install ruff -p 3.12 <span class=c1># 指定安装的命令行工具的虚拟环境中的python版本</span>
</span></span><span class=line><span class=cl>ruff --version
</span></span><span class=line><span class=cl>ruff check a.py <span class=c1># 这个命令的功能: 检查python代码是否有问题</span>
</span></span><span class=line><span class=cl>uv tool uninstall ruff
</span></span><span class=line><span class=cl><span class=c1># 命令补全: https://docs.astral.sh/uv/getting-started/installation/#upgrading-uv</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 安装miniconda (超过200人公司使用收费) 免费替代: https://github.com/conda-forge/miniforge</span>
</span></span><span class=line><span class=cl><span class=c1># https://docs.anaconda.com/miniconda/install/</span>
</span></span><span class=line><span class=cl><span class=c1># https://docs.conda.io/projects/conda/en/stable/user-guide/index.html</span>
</span></span><span class=line><span class=cl><span class=c1># miniconda3 </span>
</span></span><span class=line><span class=cl><span class=c1># 寻找适合的版本 https://repo.anaconda.com/miniconda/   带py的指base环境的python版本</span>
</span></span><span class=line><span class=cl><span class=c1>########## mac  也可以用  brew install miniconda</span>
</span></span><span class=line><span class=cl><span class=nb>cd</span> ~/Temp
</span></span><span class=line><span class=cl>curl https://repo.anaconda.com/miniconda/Miniconda3-latest-MacOSX-arm64.sh -o ~/Temp/miniconda.sh
</span></span><span class=line><span class=cl>shasum -a <span class=m>256</span> ~/Temp/miniconda.sh <span class=c1># 验证文件的 sha256 的值</span>
</span></span><span class=line><span class=cl>bash ~/Temp/miniconda.sh <span class=c1># 安装路径与mac同步为 ~/.miniconda3</span>
</span></span><span class=line><span class=cl>rm ~/Temp/miniconda.sh
</span></span><span class=line><span class=cl>conda init bash zsh
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>####### linux</span>
</span></span><span class=line><span class=cl><span class=c1>### 静默安装</span>
</span></span><span class=line><span class=cl>mkdir -p ~/Temp
</span></span><span class=line><span class=cl>wget https://repo.anaconda.com/miniconda/Miniconda3-latest-Linux-aarch64.sh -O ~/Temp/miniconda.sh
</span></span><span class=line><span class=cl>bash ~/Temp/miniconda.sh -b -u -p ~/.miniconda3 <span class=c1># -b:不对 shell 脚本进行 PATH 修改,以非交互模式（静默模式）运行安装; -u:如果指定的安装路径（通过 -p）已有 Miniconda 安装，它会更新而不是报错或覆盖安装; -p: 指定安装路径</span>
</span></span><span class=line><span class=cl>rm ~/Temp/miniconda.sh
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>### 按照提示安装</span>
</span></span><span class=line><span class=cl>mkdir -p ~/Temp
</span></span><span class=line><span class=cl>wget https://repo.anaconda.com/miniconda/Miniconda3-latest-Linux-aarch64.sh -O ~/Temp/miniconda.sh
</span></span><span class=line><span class=cl>bash ~/Temp/miniconda.sh <span class=c1># 安装路径与mac同步为 ~/.miniconda3</span>
</span></span><span class=line><span class=cl>rm ~/Temp/miniconda.sh
</span></span><span class=line><span class=cl><span class=c1># 也可以用apt安装 https://docs.conda.io/projects/conda/en/stable/user-guide/install/rpm-debian.html</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 静默安装后,可选择shell环境,会修改 .zshrc .bashrc</span>
</span></span><span class=line><span class=cl>conda init zsh
</span></span><span class=line><span class=cl>conda init bash
</span></span><span class=line><span class=cl>conda init --all <span class=c1># 在所有可用 shell 上初始化 conda</span>
</span></span><span class=line><span class=cl>conda --version
</span></span><span class=line><span class=cl>conda list
</span></span><span class=line><span class=cl>conda info
</span></span><span class=line><span class=cl><span class=c1># base环境 推荐 只能用于安装 anaconda、conda 和 conda 相关的软件包，例如`anaconda-client`或`conda-build`</span>
</span></span><span class=line><span class=cl><span class=c1># 配置文件 : ~/.condarc</span>
</span></span><span class=line><span class=cl>conda config --set auto_activate_base <span class=nb>false</span> <span class=c1># 设置开启新shell的时候不自动进入conda的base环境</span>
</span></span><span class=line><span class=cl>conda config --set changeps1 False <span class=c1># 抑制 conda 自己的提示修饰符</span>
</span></span><span class=line><span class=cl><span class=c1># conda config --add channels conda-forge 会加在第一个</span>
</span></span><span class=line><span class=cl>conda config --append channels conda-forge
</span></span><span class=line><span class=cl>conda config --remove channels conda-forge
</span></span><span class=line><span class=cl>conda -V
</span></span><span class=line><span class=cl>conda create -n env_test <span class=nv>python</span><span class=o>=</span>3.9 <span class=c1># -n 是创建的环境的名字</span>
</span></span><span class=line><span class=cl>conda activate env_test
</span></span><span class=line><span class=cl>python3 -V
</span></span><span class=line><span class=cl>conda activate <span class=c1># 默认是base环境</span>
</span></span><span class=line><span class=cl>python3 -V
</span></span><span class=line><span class=cl>conda deactivate
</span></span><span class=line><span class=cl>conda update conda <span class=c1># 更新自己</span>
</span></span><span class=line><span class=cl><span class=c1># 安装包或者命令行工具</span>
</span></span><span class=line><span class=cl>conda install trash-cli <span class=c1># 官方的 channel 没有很多的开源包</span>
</span></span><span class=line><span class=cl>conda install -c conda-forge trash-cli <span class=c1># 指定 conda-forge 的channel</span>
</span></span><span class=line><span class=cl><span class=c1># install的命令行工具的执行文件放在当前环境的bin目录下,如 /home/helq/miniconda3/envs/env_test/bin/trash-put; 同时也会被pip管理</span>
</span></span><span class=line><span class=cl><span class=c1># install 也可以安装python库文件,可以在 Python 脚本或交互式环境中直接导入并使用 import numpy as np</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 卸载conda</span>
</span></span><span class=line><span class=cl>rm -rf ~/conda
</span></span><span class=line><span class=cl>rm -rf ~/.condarc ~/.conda ~/.continuum
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 导出某个非base环境到yaml文件; 仅将 Anaconda 或 Miniconda 文件复制到新目录或另一台计算机不会重新创建环境。您必须将环境作为一个整体导出</span>
</span></span><span class=line><span class=cl>conda activate env_test
</span></span><span class=line><span class=cl>conda <span class=nb>export</span> -f env_test.yml --no-builds  或者 conda env <span class=nb>export</span> -f env_test.yml --no-builds
</span></span><span class=line><span class=cl><span class=c1># --override-channels 不导出.condarc里的channel; </span>
</span></span><span class=line><span class=cl><span class=c1># --no-builds 不导出构建编号,当跨平台迁移的时候必加,因为同一个版本的包在不同平台上的构建编号肯定不同;如: mac导出到linux上的时候</span>
</span></span><span class=line><span class=cl><span class=c1># 导入</span>
</span></span><span class=line><span class=cl>conda env create -f env_test.yml
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># docker</span>
</span></span><span class=line><span class=cl><span class=c1># https://docs.docker.com/engine/install/debian/#install-using-the-repository</span>
</span></span><span class=line><span class=cl>sudo apt update
</span></span><span class=line><span class=cl><span class=k>for</span> pkg in docker.io docker-doc docker-compose podman-docker containerd runc<span class=p>;</span> <span class=k>do</span> sudo apt-get remove <span class=nv>$pkg</span><span class=p>;</span> <span class=k>done</span>  <span class=c1>#卸载冲突的包</span>
</span></span><span class=line><span class=cl>sudo apt autoremove
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Set up Docker&#39;s `apt` repository</span>
</span></span><span class=line><span class=cl><span class=c1># Add Docker&#39;s official GPG key:</span>
</span></span><span class=line><span class=cl>sudo apt-get update <span class=o>&amp;&amp;</span> sudo apt-get install ca-certificates curl
</span></span><span class=line><span class=cl>sudo install -m <span class=m>0755</span> -d /etc/apt/keyrings
</span></span><span class=line><span class=cl>sudo curl -fsSL https://download.docker.com/linux/debian/gpg -o /etc/apt/keyrings/docker.asc
</span></span><span class=line><span class=cl>sudo chmod a+r /etc/apt/keyrings/docker.asc
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Add the repository to Apt sources:</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  <span class=s2>&#34;deb [arch=</span><span class=k>$(</span>dpkg --print-architecture<span class=k>)</span><span class=s2> signed-by=/etc/apt/keyrings/docker.asc] https://download.docker.com/linux/debian \
</span></span></span><span class=line><span class=cl><span class=s2>  </span><span class=k>$(</span>. /etc/os-release <span class=o>&amp;&amp;</span> <span class=nb>echo</span> <span class=s2>&#34;</span><span class=nv>$VERSION_CODENAME</span><span class=s2>&#34;</span><span class=k>)</span><span class=s2> stable&#34;</span> <span class=p>|</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  sudo tee /etc/apt/sources.list.d/docker.list &gt; /dev/null
</span></span><span class=line><span class=cl>sudo apt-get update
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Install the Docker packages</span>
</span></span><span class=line><span class=cl>sudo apt-get install docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin
</span></span><span class=line><span class=cl><span class=c1># Verify</span>
</span></span><span class=line><span class=cl>sudo docker run hello-world
</span></span><span class=line><span class=cl>sudo docker images
</span></span><span class=line><span class=cl>sudo docker container ls -a
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 以非 root 用户身份管理 Docker; </span>
</span></span><span class=line><span class=cl><span class=c1># 创建一个名为`docker`的 Unix 组并向其中添加用户。当 Docker 守护进程启动时，它会创建一个可供`docker`组成员访问的 Unix 套接字</span>
</span></span><span class=line><span class=cl>sudo groupadd docker              <span class=c1># 创建`docker`组</span>
</span></span><span class=line><span class=cl>sudo usermod -aG docker <span class=nv>$USER</span>     <span class=c1># 将您的用户添加到`docker`组</span>
</span></span><span class=line><span class=cl>sudo reboot                       <span class=c1># 注销并重新登录，以便重新评估您的组成员身份</span>
</span></span><span class=line><span class=cl>docker run hello-world            <span class=c1># 验证您是否可以在没有`sudo`情况下运行`docker`命令</span>
</span></span><span class=line><span class=cl><span class=c1># 如果在分配用户组之前 用sudo权限 执行过 docker CLI 中的如 docker login 这类命令, 会创建 ~/.docker 目录;</span>
</span></span><span class=line><span class=cl><span class=c1># 在上述的情况下, 分配用户组后, 用普通用户直接执行 docker 命令, 有可能会报错, 因为 ~/.docker 的权限是 root 用户的; 报错信息可能为:</span>
</span></span><span class=line><span class=cl><span class=c1># WARNING: Error loading config file: /home/user/.docker/config.json -stat /home/user/.docker/config.json: permission denied</span>
</span></span><span class=line><span class=cl><span class=c1># 解决方式一: 删除`~/.docker/`目录（它会自动重新创建，但所有自定义设置都会丢失）</span>
</span></span><span class=line><span class=cl><span class=c1># 方式二:</span>
</span></span><span class=line><span class=cl>sudo chown <span class=s2>&#34;</span><span class=nv>$USER</span><span class=s2>&#34;</span>:<span class=s2>&#34;</span><span class=nv>$USER</span><span class=s2>&#34;</span> /home/<span class=s2>&#34;</span><span class=nv>$USER</span><span class=s2>&#34;</span>/.docker -R  <span class=c1># 将这个文件夹的 拥有者 和 所属组 设为当前用户;-R：递归修改，即包括子目录和文件</span>
</span></span><span class=line><span class=cl>sudo chmod g+rwx <span class=s2>&#34;</span><span class=nv>$HOME</span><span class=s2>/.docker&#34;</span> -R <span class=c1># 为 .docker 目录及其内容增加组权限，使所属组的成员可以读取（read）、写入（write）、执行（execute）文件。</span>
</span></span><span class=line><span class=cl><span class=c1># 在 Debian 和 Ubuntu 上，Docker 服务(守护进程)(不是指的容器) 默认在启动时启动</span>
</span></span><span class=line><span class=cl>sudo systemctl status docker.service <span class=c1># 这是 Docker 的主服务，负责管理 Docker 守护进程（dockerd），提供核心功能，包括容器管理、镜像拉取和存储等</span>
</span></span><span class=line><span class=cl>sudo systemctl status containerd.service <span class=c1># 这是 containerd 容器运行时服务，是一个独立的守护进程，用于管理容器的生命周期</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>sudo systemctl <span class=nb>enable</span> docker.service
</span></span><span class=line><span class=cl>sudo systemctl <span class=nb>enable</span> containerd.service
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 禁止开机启动;但是当使用docker命令时,这两个服务会自动启动</span>
</span></span><span class=line><span class=cl>sudo systemctl disable docker.service
</span></span><span class=line><span class=cl>sudo systemctl disable containerd.service
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 其他安装</span>
</span></span><span class=line><span class=cl>sudo apt install shellcheck shfmt tmux universal-ctags</span></span></code></pre></td></tr></table></div></div><div class=code-scroll aria-label=代码块滚动工具栏><button class="code-scroll-left iconfont-logan icon-logan-circle-left-solid" aria-label=向左滚动></button>
<button class="code-scroll-right iconfont-logan icon-logan-circle-right-solid" aria-label=向右滚动></button></div><div class=code-tools aria-label=代码块工具栏><div class=copy-text>Copied!</div><button class="copy-code-button iconfont-logan icon-logan-copy-round3" aria-label=复制></button>
<button class="my-code-fold iconfont-logan icon-logan-circle-chevron-down-solid expand1" aria-label=折叠></button></div></div><h3 id=5文件上传下载服务><a href=#5%e6%96%87%e4%bb%b6%e4%b8%8a%e4%bc%a0%e4%b8%8b%e8%bd%bd%e6%9c%8d%e5%8a%a1 class=header-anchor></a>5、文件上传下载服务</h3><h4 id=adufs><a href=#adufs class=header-anchor></a>a、dufs</h4><div class=logan-code-block><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-21-1><a class=lnlinks href=#hl-21-1> 1</a>
</span><span class=lnt id=hl-21-2><a class=lnlinks href=#hl-21-2> 2</a>
</span><span class=lnt id=hl-21-3><a class=lnlinks href=#hl-21-3> 3</a>
</span><span class=lnt id=hl-21-4><a class=lnlinks href=#hl-21-4> 4</a>
</span><span class=lnt id=hl-21-5><a class=lnlinks href=#hl-21-5> 5</a>
</span><span class=lnt id=hl-21-6><a class=lnlinks href=#hl-21-6> 6</a>
</span><span class=lnt id=hl-21-7><a class=lnlinks href=#hl-21-7> 7</a>
</span><span class=lnt id=hl-21-8><a class=lnlinks href=#hl-21-8> 8</a>
</span><span class=lnt id=hl-21-9><a class=lnlinks href=#hl-21-9> 9</a>
</span><span class=lnt id=hl-21-10><a class=lnlinks href=#hl-21-10>10</a>
</span><span class=lnt id=hl-21-11><a class=lnlinks href=#hl-21-11>11</a>
</span><span class=lnt id=hl-21-12><a class=lnlinks href=#hl-21-12>12</a>
</span><span class=lnt id=hl-21-13><a class=lnlinks href=#hl-21-13>13</a>
</span><span class=lnt id=hl-21-14><a class=lnlinks href=#hl-21-14>14</a>
</span><span class=lnt id=hl-21-15><a class=lnlinks href=#hl-21-15>15</a>
</span><span class=lnt id=hl-21-16><a class=lnlinks href=#hl-21-16>16</a>
</span><span class=lnt id=hl-21-17><a class=lnlinks href=#hl-21-17>17</a>
</span><span class=lnt id=hl-21-18><a class=lnlinks href=#hl-21-18>18</a>
</span><span class=lnt id=hl-21-19><a class=lnlinks href=#hl-21-19>19</a>
</span><span class=lnt id=hl-21-20><a class=lnlinks href=#hl-21-20>20</a>
</span><span class=lnt id=hl-21-21><a class=lnlinks href=#hl-21-21>21</a>
</span><span class=lnt id=hl-21-22><a class=lnlinks href=#hl-21-22>22</a>
</span><span class=lnt id=hl-21-23><a class=lnlinks href=#hl-21-23>23</a>
</span><span class=lnt id=hl-21-24><a class=lnlinks href=#hl-21-24>24</a>
</span><span class=lnt id=hl-21-25><a class=lnlinks href=#hl-21-25>25</a>
</span><span class=lnt id=hl-21-26><a class=lnlinks href=#hl-21-26>26</a>
</span><span class=lnt id=hl-21-27><a class=lnlinks href=#hl-21-27>27</a>
</span><span class=lnt id=hl-21-28><a class=lnlinks href=#hl-21-28>28</a>
</span><span class=lnt id=hl-21-29><a class=lnlinks href=#hl-21-29>29</a>
</span><span class=lnt id=hl-21-30><a class=lnlinks href=#hl-21-30>30</a>
</span><span class=lnt id=hl-21-31><a class=lnlinks href=#hl-21-31>31</a>
</span><span class=lnt id=hl-21-32><a class=lnlinks href=#hl-21-32>32</a>
</span><span class=lnt id=hl-21-33><a class=lnlinks href=#hl-21-33>33</a>
</span><span class=lnt id=hl-21-34><a class=lnlinks href=#hl-21-34>34</a>
</span><span class=lnt id=hl-21-35><a class=lnlinks href=#hl-21-35>35</a>
</span><span class=lnt id=hl-21-36><a class=lnlinks href=#hl-21-36>36</a>
</span><span class=lnt id=hl-21-37><a class=lnlinks href=#hl-21-37>37</a>
</span><span class=lnt id=hl-21-38><a class=lnlinks href=#hl-21-38>38</a>
</span><span class=lnt id=hl-21-39><a class=lnlinks href=#hl-21-39>39</a>
</span><span class=lnt id=hl-21-40><a class=lnlinks href=#hl-21-40>40</a>
</span><span class=lnt id=hl-21-41><a class=lnlinks href=#hl-21-41>41</a>
</span><span class=lnt id=hl-21-42><a class=lnlinks href=#hl-21-42>42</a>
</span><span class=lnt id=hl-21-43><a class=lnlinks href=#hl-21-43>43</a>
</span><span class=lnt id=hl-21-44><a class=lnlinks href=#hl-21-44>44</a>
</span><span class=lnt id=hl-21-45><a class=lnlinks href=#hl-21-45>45</a>
</span><span class=lnt id=hl-21-46><a class=lnlinks href=#hl-21-46>46</a>
</span><span class=lnt id=hl-21-47><a class=lnlinks href=#hl-21-47>47</a>
</span><span class=lnt id=hl-21-48><a class=lnlinks href=#hl-21-48>48</a>
</span><span class=lnt id=hl-21-49><a class=lnlinks href=#hl-21-49>49</a>
</span><span class=lnt id=hl-21-50><a class=lnlinks href=#hl-21-50>50</a>
</span><span class=lnt id=hl-21-51><a class=lnlinks href=#hl-21-51>51</a>
</span><span class=lnt id=hl-21-52><a class=lnlinks href=#hl-21-52>52</a>
</span><span class=lnt id=hl-21-53><a class=lnlinks href=#hl-21-53>53</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=c1># https://github.com/sigoden/dufs</span>
</span></span><span class=line><span class=cl><span class=c1># 安装  或者用docker直接使用就不用安装了</span>
</span></span><span class=line><span class=cl>cargo install dufs
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 使用1、用docker直接启动容器挂载当前目录</span>
</span></span><span class=line><span class=cl>docker run -v <span class=sb>`</span><span class=nb>pwd</span><span class=sb>`</span>:/data -p 5000:5000 --rm sigoden/dufs /data -A   <span class=c1># -A 是dufs的选项</span>
</span></span><span class=line><span class=cl><span class=c1># 默认情况下，容器即使停止后，仍然会保留在本地（可以用 docker ps -a 查看）。这些“停止的容器”会占用存储空间，并且需要手动清理</span>
</span></span><span class=line><span class=cl><span class=c1># --rm 容器停止时自动删除容器及其临时文件（例如挂载的匿名卷）;避免积累过多无用的停止容器，减少磁盘空间浪费。</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 使用2、用本地dufs命令</span>
</span></span><span class=line><span class=cl>mkdir -p ~/share/dufs <span class=o>&amp;&amp;</span> <span class=nb>cd</span> ~/share/dufs
</span></span><span class=line><span class=cl>sudo ufw allow <span class=m>5000</span>
</span></span><span class=line><span class=cl>dufs                                <span class=c1># 以只读模式提供当前目录,只允许查看和下载;默认在前台执行</span>
</span></span><span class=line><span class=cl>nohup dufs &gt; output.log 2&gt;<span class=p>&amp;</span><span class=m>1</span> <span class=p>&amp;</span>      <span class=c1># 后台启动</span>
</span></span><span class=line><span class=cl><span class=nb>jobs</span> -l                             <span class=c1># 查看后台启动程序; kill PID</span>
</span></span><span class=line><span class=cl>dufs -A                             <span class=c1># 允许所有操作，如上传/删除/搜索/创建/编辑</span>
</span></span><span class=line><span class=cl>dufs --allow-upload                 <span class=c1># 只允许查看和下载和上传操作</span>
</span></span><span class=line><span class=cl><span class=c1># --allow-archive 允许文件夹打包下载; --allow-search 允许搜索</span>
</span></span><span class=line><span class=cl>dufs ~/share/dufs                   <span class=c1># 指定某个目录</span>
</span></span><span class=line><span class=cl>dufs linux-distro.iso               <span class=c1># 指定单个文件</span>
</span></span><span class=line><span class=cl>dufs -a admin:123@/:rw              <span class=c1># 指定用户名admin/密码123</span>
</span></span><span class=line><span class=cl>dufs -b 127.0.0.1 -p <span class=m>80</span>             <span class=c1># 监听特定ip和端口</span>
</span></span><span class=line><span class=cl>dufs --hidden .git,.DS_Store,tmp    <span class=c1># 隐藏目录列表中的路径</span>
</span></span><span class=line><span class=cl>dufs --hidden <span class=s1>&#39;.*&#39;</span>                          <span class=c1># hidden dotfiles</span>
</span></span><span class=line><span class=cl>dufs --hidden <span class=s1>&#39;*/&#39;</span>                          <span class=c1># hidden all folders</span>
</span></span><span class=line><span class=cl>dufs --hidden <span class=s1>&#39;*.log,*.lock&#39;</span>                <span class=c1># hidden by exts</span>
</span></span><span class=line><span class=cl>dufs --hidden <span class=s1>&#39;*.log&#39;</span> --hidden <span class=s1>&#39;*.lock&#39;</span>
</span></span><span class=line><span class=cl>dufs --render-index                 <span class=c1># 使用index.html 提供静态网站</span>
</span></span><span class=line><span class=cl>dufs --render-spa                   <span class=c1># 提供像 React/Vue 这样的单页应用程序</span>
</span></span><span class=line><span class=cl><span class=c1># 可以记录日志,见github</span>
</span></span><span class=line><span class=cl><span class=c1># 可以将这些选项放在配置文件,见github</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 命令行客户端访问</span>
</span></span><span class=line><span class=cl>curl -T path-to-file http://127.0.0.1:5000/new-path/path-to-file      <span class=c1># 上传文件</span>
</span></span><span class=line><span class=cl>curl http://127.0.0.1:5000/path-to-file                               <span class=c1># download the file</span>
</span></span><span class=line><span class=cl>curl http://127.0.0.1:5000/path-to-file?hash                          <span class=c1># retrieve the sha256 hash of the file</span>
</span></span><span class=line><span class=cl>curl -C- -o file http://127.0.0.1:5000/file                           <span class=c1># 可断点下载</span>
</span></span><span class=line><span class=cl>curl -o path-to-folder.zip http://127.0.0.1:5000/path-to-folder?zip   <span class=c1># 将文件夹下载为 zip 文件</span>
</span></span><span class=line><span class=cl>curl -X DELETE http://127.0.0.1:5000/path-to-file-or-folder           <span class=c1># 删除文件/文件夹</span>
</span></span><span class=line><span class=cl>curl -X MKCOL http://127.0.0.1:5000/path-to-folder                    <span class=c1># 创建目录</span>
</span></span><span class=line><span class=cl>curl -X MOVE http://127.0.0.1:5000/path -H <span class=s2>&#34;Destination: http://127.0.0.1:5000/new-path&#34;</span> <span class=c1># 将文件/文件夹移动到新路径</span>
</span></span><span class=line><span class=cl><span class=c1># 列出/搜索目录内容</span>
</span></span><span class=line><span class=cl>curl http://127.0.0.1:5000?q<span class=o>=</span>Dockerfile           <span class=c1># search for files, similar to `find -name Dockerfile`</span>
</span></span><span class=line><span class=cl>curl http://127.0.0.1:5000?simple                 <span class=c1># output names only, similar to `ls -1`</span>
</span></span><span class=line><span class=cl>curl http://127.0.0.1:5000?json                   <span class=c1># output paths in json format</span>
</span></span><span class=line><span class=cl><span class=c1># 需要账户密码</span>
</span></span><span class=line><span class=cl>curl http://127.0.0.1:5000/file --user user:pass                 <span class=c1># basic auth</span>
</span></span><span class=line><span class=cl>curl http://127.0.0.1:5000/file --user user:pass --digest        <span class=c1># digest auth</span>
</span></span><span class=line><span class=cl>curl http://127.0.0.1:5000/__dufs__/health <span class=c1># 健康检查</span>
</span></span><span class=line><span class=cl><span class=c1># 可断点上传</span>
</span></span><span class=line><span class=cl><span class=nv>upload_offset</span><span class=o>=</span><span class=k>$(</span>curl -I -s http://127.0.0.1:5000/file <span class=p>|</span> tr -d <span class=s1>&#39;\r&#39;</span> <span class=p>|</span> sed -n <span class=s1>&#39;s/content-length: //p&#39;</span><span class=k>)</span>
</span></span><span class=line><span class=cl>dd <span class=nv>skip</span><span class=o>=</span><span class=nv>$upload_offset</span> <span class=k>if</span><span class=o>=</span>file <span class=nv>status</span><span class=o>=</span>none <span class=nv>ibs</span><span class=o>=</span><span class=m>1</span> <span class=p>|</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  curl -X PATCH -H <span class=s2>&#34;X-Update-Range: append&#34;</span> --data-binary @- http://127.0.0.1:5000/file</span></span></code></pre></td></tr></table></div></div><div class=code-scroll aria-label=代码块滚动工具栏><button class="code-scroll-left iconfont-logan icon-logan-circle-left-solid" aria-label=向左滚动></button>
<button class="code-scroll-right iconfont-logan icon-logan-circle-right-solid" aria-label=向右滚动></button></div><div class=code-tools aria-label=代码块工具栏><div class=copy-text>Copied!</div><button class="copy-code-button iconfont-logan icon-logan-copy-round3" aria-label=复制></button>
<button class="my-code-fold iconfont-logan icon-logan-circle-chevron-down-solid expand1" aria-label=折叠></button></div></div><h4 id=bfilebrowser><a href=#bfilebrowser class=header-anchor></a>b、filebrowser</h4><div class=logan-code-block><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-22-1><a class=lnlinks href=#hl-22-1> 1</a>
</span><span class=lnt id=hl-22-2><a class=lnlinks href=#hl-22-2> 2</a>
</span><span class=lnt id=hl-22-3><a class=lnlinks href=#hl-22-3> 3</a>
</span><span class=lnt id=hl-22-4><a class=lnlinks href=#hl-22-4> 4</a>
</span><span class=lnt id=hl-22-5><a class=lnlinks href=#hl-22-5> 5</a>
</span><span class=lnt id=hl-22-6><a class=lnlinks href=#hl-22-6> 6</a>
</span><span class=lnt id=hl-22-7><a class=lnlinks href=#hl-22-7> 7</a>
</span><span class=lnt id=hl-22-8><a class=lnlinks href=#hl-22-8> 8</a>
</span><span class=lnt id=hl-22-9><a class=lnlinks href=#hl-22-9> 9</a>
</span><span class=lnt id=hl-22-10><a class=lnlinks href=#hl-22-10>10</a>
</span><span class=lnt id=hl-22-11><a class=lnlinks href=#hl-22-11>11</a>
</span><span class=lnt id=hl-22-12><a class=lnlinks href=#hl-22-12>12</a>
</span><span class=lnt id=hl-22-13><a class=lnlinks href=#hl-22-13>13</a>
</span><span class=lnt id=hl-22-14><a class=lnlinks href=#hl-22-14>14</a>
</span><span class=lnt id=hl-22-15><a class=lnlinks href=#hl-22-15>15</a>
</span><span class=lnt id=hl-22-16><a class=lnlinks href=#hl-22-16>16</a>
</span><span class=lnt id=hl-22-17><a class=lnlinks href=#hl-22-17>17</a>
</span><span class=lnt id=hl-22-18><a class=lnlinks href=#hl-22-18>18</a>
</span><span class=lnt id=hl-22-19><a class=lnlinks href=#hl-22-19>19</a>
</span><span class=lnt id=hl-22-20><a class=lnlinks href=#hl-22-20>20</a>
</span><span class=lnt id=hl-22-21><a class=lnlinks href=#hl-22-21>21</a>
</span><span class=lnt id=hl-22-22><a class=lnlinks href=#hl-22-22>22</a>
</span><span class=lnt id=hl-22-23><a class=lnlinks href=#hl-22-23>23</a>
</span><span class=lnt id=hl-22-24><a class=lnlinks href=#hl-22-24>24</a>
</span><span class=lnt id=hl-22-25><a class=lnlinks href=#hl-22-25>25</a>
</span><span class=lnt id=hl-22-26><a class=lnlinks href=#hl-22-26>26</a>
</span><span class=lnt id=hl-22-27><a class=lnlinks href=#hl-22-27>27</a>
</span><span class=lnt id=hl-22-28><a class=lnlinks href=#hl-22-28>28</a>
</span><span class=lnt id=hl-22-29><a class=lnlinks href=#hl-22-29>29</a>
</span><span class=lnt id=hl-22-30><a class=lnlinks href=#hl-22-30>30</a>
</span><span class=lnt id=hl-22-31><a class=lnlinks href=#hl-22-31>31</a>
</span><span class=lnt id=hl-22-32><a class=lnlinks href=#hl-22-32>32</a>
</span><span class=lnt id=hl-22-33><a class=lnlinks href=#hl-22-33>33</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=c1>############################ docker模式</span>
</span></span><span class=line><span class=cl>mkdir -p ~/share/filebrowser
</span></span><span class=line><span class=cl>mkdir -p ~/share/filebrowser/files  
</span></span><span class=line><span class=cl>touch ~/share/filebrowser/filebrowser.db  
</span></span><span class=line><span class=cl>touch ~/share/filebrowser/filebrowser.json
</span></span><span class=line><span class=cl>cat &gt; ~/share/filebrowser/filebrowser.json <span class=s>&lt;&lt; EOF
</span></span></span><span class=line><span class=cl><span class=s>{
</span></span></span><span class=line><span class=cl><span class=s>  &#34;port&#34;: 80,
</span></span></span><span class=line><span class=cl><span class=s>  &#34;baseURL&#34;: &#34;&#34;,
</span></span></span><span class=line><span class=cl><span class=s>  &#34;address&#34;: &#34;&#34;,
</span></span></span><span class=line><span class=cl><span class=s>  &#34;log&#34;: &#34;stdout&#34;,
</span></span></span><span class=line><span class=cl><span class=s>  &#34;database&#34;: &#34;/database/filebrowser.db&#34;,
</span></span></span><span class=line><span class=cl><span class=s>  &#34;root&#34;: &#34;/srv&#34;
</span></span></span><span class=line><span class=cl><span class=s>}
</span></span></span><span class=line><span class=cl><span class=s>EOF</span>
</span></span><span class=line><span class=cl>sudo ufw allow <span class=m>12786</span>
</span></span><span class=line><span class=cl>docker run -d <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    -v ~/share/filebrowser/files:/srv <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    -v ~/share/filebrowser/filebrowser.db:/database/filebrowser.db <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    -v ~/share/filebrowser/filebrowser.json:/.filebrowser.json <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    -u <span class=k>$(</span>id -u<span class=k>)</span>:<span class=k>$(</span>id -g<span class=k>)</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    -p 12786:80 <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    filebrowser/filebrowser
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 默认情况下，镜像里已经有一个包含一些默认值的配置文件，因此您只需挂载根目录和数据库即可; 默认配置文件:</span>
</span></span><span class=line><span class=cl><span class=c1># https://github.com/filebrowser/filebrowser/blob/master/docker/root/defaults/settings.json</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>######################## 命令行模式</span>
</span></span><span class=line><span class=cl>curl -fsSL https://raw.githubusercontent.com/filebrowser/get/master/get.sh <span class=p>|</span> bash
</span></span><span class=line><span class=cl>nohup filebrowser -r ~/share/filebrowser -a 0.0.0.0 &gt; output.log 2&gt;<span class=p>&amp;</span><span class=m>1</span> <span class=p>&amp;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Username: `admin` Password: `admin`</span></span></span></code></pre></td></tr></table></div></div><div class=code-scroll aria-label=代码块滚动工具栏><button class="code-scroll-left iconfont-logan icon-logan-circle-left-solid" aria-label=向左滚动></button>
<button class="code-scroll-right iconfont-logan icon-logan-circle-right-solid" aria-label=向右滚动></button></div><div class=code-tools aria-label=代码块工具栏><div class=copy-text>Copied!</div><button class="copy-code-button iconfont-logan icon-logan-copy-round3" aria-label=复制></button>
<button class="my-code-fold iconfont-logan icon-logan-circle-chevron-down-solid expand1" aria-label=折叠></button></div></div><h4 id=c开启-sftp-服务><a href=#c%e5%bc%80%e5%90%af-sftp-%e6%9c%8d%e5%8a%a1 class=header-anchor></a>c、开启 sftp 服务</h4><div class=logan-code-block><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-23-1><a class=lnlinks href=#hl-23-1> 1</a>
</span><span class=lnt id=hl-23-2><a class=lnlinks href=#hl-23-2> 2</a>
</span><span class=lnt id=hl-23-3><a class=lnlinks href=#hl-23-3> 3</a>
</span><span class=lnt id=hl-23-4><a class=lnlinks href=#hl-23-4> 4</a>
</span><span class=lnt id=hl-23-5><a class=lnlinks href=#hl-23-5> 5</a>
</span><span class=lnt id=hl-23-6><a class=lnlinks href=#hl-23-6> 6</a>
</span><span class=lnt id=hl-23-7><a class=lnlinks href=#hl-23-7> 7</a>
</span><span class=lnt id=hl-23-8><a class=lnlinks href=#hl-23-8> 8</a>
</span><span class=lnt id=hl-23-9><a class=lnlinks href=#hl-23-9> 9</a>
</span><span class=lnt id=hl-23-10><a class=lnlinks href=#hl-23-10>10</a>
</span><span class=lnt id=hl-23-11><a class=lnlinks href=#hl-23-11>11</a>
</span><span class=lnt id=hl-23-12><a class=lnlinks href=#hl-23-12>12</a>
</span><span class=lnt id=hl-23-13><a class=lnlinks href=#hl-23-13>13</a>
</span><span class=lnt id=hl-23-14><a class=lnlinks href=#hl-23-14>14</a>
</span><span class=lnt id=hl-23-15><a class=lnlinks href=#hl-23-15>15</a>
</span><span class=lnt id=hl-23-16><a class=lnlinks href=#hl-23-16>16</a>
</span><span class=lnt id=hl-23-17><a class=lnlinks href=#hl-23-17>17</a>
</span><span class=lnt id=hl-23-18><a class=lnlinks href=#hl-23-18>18</a>
</span><span class=lnt id=hl-23-19><a class=lnlinks href=#hl-23-19>19</a>
</span><span class=lnt id=hl-23-20><a class=lnlinks href=#hl-23-20>20</a>
</span><span class=lnt id=hl-23-21><a class=lnlinks href=#hl-23-21>21</a>
</span><span class=lnt id=hl-23-22><a class=lnlinks href=#hl-23-22>22</a>
</span><span class=lnt id=hl-23-23><a class=lnlinks href=#hl-23-23>23</a>
</span><span class=lnt id=hl-23-24><a class=lnlinks href=#hl-23-24>24</a>
</span><span class=lnt id=hl-23-25><a class=lnlinks href=#hl-23-25>25</a>
</span><span class=lnt id=hl-23-26><a class=lnlinks href=#hl-23-26>26</a>
</span><span class=lnt id=hl-23-27><a class=lnlinks href=#hl-23-27>27</a>
</span><span class=lnt id=hl-23-28><a class=lnlinks href=#hl-23-28>28</a>
</span><span class=lnt id=hl-23-29><a class=lnlinks href=#hl-23-29>29</a>
</span><span class=lnt id=hl-23-30><a class=lnlinks href=#hl-23-30>30</a>
</span><span class=lnt id=hl-23-31><a class=lnlinks href=#hl-23-31>31</a>
</span><span class=lnt id=hl-23-32><a class=lnlinks href=#hl-23-32>32</a>
</span><span class=lnt id=hl-23-33><a class=lnlinks href=#hl-23-33>33</a>
</span><span class=lnt id=hl-23-34><a class=lnlinks href=#hl-23-34>34</a>
</span><span class=lnt id=hl-23-35><a class=lnlinks href=#hl-23-35>35</a>
</span><span class=lnt id=hl-23-36><a class=lnlinks href=#hl-23-36>36</a>
</span><span class=lnt id=hl-23-37><a class=lnlinks href=#hl-23-37>37</a>
</span><span class=lnt id=hl-23-38><a class=lnlinks href=#hl-23-38>38</a>
</span><span class=lnt id=hl-23-39><a class=lnlinks href=#hl-23-39>39</a>
</span><span class=lnt id=hl-23-40><a class=lnlinks href=#hl-23-40>40</a>
</span><span class=lnt id=hl-23-41><a class=lnlinks href=#hl-23-41>41</a>
</span><span class=lnt id=hl-23-42><a class=lnlinks href=#hl-23-42>42</a>
</span><span class=lnt id=hl-23-43><a class=lnlinks href=#hl-23-43>43</a>
</span><span class=lnt id=hl-23-44><a class=lnlinks href=#hl-23-44>44</a>
</span><span class=lnt id=hl-23-45><a class=lnlinks href=#hl-23-45>45</a>
</span><span class=lnt id=hl-23-46><a class=lnlinks href=#hl-23-46>46</a>
</span><span class=lnt id=hl-23-47><a class=lnlinks href=#hl-23-47>47</a>
</span><span class=lnt id=hl-23-48><a class=lnlinks href=#hl-23-48>48</a>
</span><span class=lnt id=hl-23-49><a class=lnlinks href=#hl-23-49>49</a>
</span><span class=lnt id=hl-23-50><a class=lnlinks href=#hl-23-50>50</a>
</span><span class=lnt id=hl-23-51><a class=lnlinks href=#hl-23-51>51</a>
</span><span class=lnt id=hl-23-52><a class=lnlinks href=#hl-23-52>52</a>
</span><span class=lnt id=hl-23-53><a class=lnlinks href=#hl-23-53>53</a>
</span><span class=lnt id=hl-23-54><a class=lnlinks href=#hl-23-54>54</a>
</span><span class=lnt id=hl-23-55><a class=lnlinks href=#hl-23-55>55</a>
</span><span class=lnt id=hl-23-56><a class=lnlinks href=#hl-23-56>56</a>
</span><span class=lnt id=hl-23-57><a class=lnlinks href=#hl-23-57>57</a>
</span><span class=lnt id=hl-23-58><a class=lnlinks href=#hl-23-58>58</a>
</span><span class=lnt id=hl-23-59><a class=lnlinks href=#hl-23-59>59</a>
</span><span class=lnt id=hl-23-60><a class=lnlinks href=#hl-23-60>60</a>
</span><span class=lnt id=hl-23-61><a class=lnlinks href=#hl-23-61>61</a>
</span><span class=lnt id=hl-23-62><a class=lnlinks href=#hl-23-62>62</a>
</span><span class=lnt id=hl-23-63><a class=lnlinks href=#hl-23-63>63</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=c1># 确保系统已安装 OpenSSH 服务器 默认应该都存在并启动了sftp服务的</span>
</span></span><span class=line><span class=cl>sudo apt update
</span></span><span class=line><span class=cl>sudo apt install openssh-server
</span></span><span class=line><span class=cl><span class=c1># 检查 SSH 服务状态</span>
</span></span><span class=line><span class=cl>sudo systemctl status ssh
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 查看 /etc/ssh/sshd_config 这个文件内是否存在:</span>
</span></span><span class=line><span class=cl><span class=c1># override default of no subsystems</span>
</span></span><span class=line><span class=cl>Subsystem	sftp	/usr/lib/openssh/sftp-server
</span></span><span class=line><span class=cl><span class=c1># 若存在则自动为所有创建的用户打开sftp服务,root能访问和修改所有文件; 普通用户能查看所有文件,但是只能修改自己有权限的文件</span>
</span></span><span class=line><span class=cl><span class=c1># 所以为了安全性,可以添加一个只能sftp连接不能ssh登录shell的用户,并限制这个用户 使用 SFTP 能使用的目录;主要目的是为了不暴露普通用户密码给别人</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># ChrootDirectory 指定的目录及其父目录必须满足以下条件:1、由 root 拥有;2、不可被其他用户写入（即权限中不能有 write 权限分配给非 root 用户）;这意味着普通用户的主目录（比如 /home/sftpuser），无法直接作为 ChrootDirectory，因为主目录通常是由该用户自己拥有的，而不是 root</span>
</span></span><span class=line><span class=cl><span class=c1># 解决办法:1、创建一个由 root 拥有的顶层目录（例如 /var/sftp），保证它不可写;2、在顶层目录下创建一个子目录（例如 /var/sftp/sftpuser），将该子目录的所有权赋予用户（例如 sftpuser），以允许用户上传文件</span>
</span></span><span class=line><span class=cl>sudo useradd -s /sbin/nologin sftpuser     <span class=c1># 创建一个新用户，该用户仅被授予对服务器的文件传输访问权限; 不能登录shell,没有home目录</span>
</span></span><span class=line><span class=cl>                                           <span class=c1># -m 会创建home目录; -d &lt;path&gt; 自定义home目录</span>
</span></span><span class=line><span class=cl>sudo passwd sftpuser                       <span class=c1># 添加密码    123456                 </span>
</span></span><span class=line><span class=cl>sudo mkdir -p /var/sftp/sftpuser
</span></span><span class=line><span class=cl>sudo chown root:root /var/sftp
</span></span><span class=line><span class=cl>sudo chmod <span class=m>755</span> /var/sftp          <span class=c1># root用户为7所有权限; 同组用户和不同组的用户为5只允许读和执行; 4:读 2:写 1:执行</span>
</span></span><span class=line><span class=cl>sudo chown sftpuser:sftpuser /var/sftp/sftpuser    <span class=c1># 将目录的所有权更改为您刚刚创建的用户</span>
</span></span><span class=line><span class=cl>sudo chmod <span class=m>775</span> /var/sftp/sftpuser          <span class=c1># 同组用户可以读和写(目录必须有执行权限才能cd进入);其他用户只读</span>
</span></span><span class=line><span class=cl>sudo usermod -aG sftpuser <span class=k>$(</span>whoami<span class=k>)</span>  <span class=c1># 把当前用户加入 sftpuser 用户组,让当前用户可以操作`分享目录`,就让当前用户可以将自己的文件复制到这个`分享目录中`了</span>
</span></span><span class=line><span class=cl>getent group sftpuser   <span class=c1># 查看用户组中有哪些用户</span>
</span></span><span class=line><span class=cl><span class=c1># 权限组生效要重新登录</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>## 修改 SSH 服务器配置以禁止sftpuser用户的终端访问，但允许文件传输访问</span>
</span></span><span class=line><span class=cl>sudo vim /etc/ssh/sshd_config <span class=c1># 滚动到文件的最底部并添加以下配置片段; </span>
</span></span><span class=line><span class=cl><span class=c1># 或者检查 /etc/ssh/sshd_config 中是否存在 Include /etc/ssh/sshd_config.d/*.conf 字样; 可如下方加一个新文件被引入</span>
</span></span><span class=line><span class=cl><span class=c1>################################</span>
</span></span><span class=line><span class=cl>sudo touch /etc/ssh/sshd_config.d/sftp.conf
</span></span><span class=line><span class=cl>su
</span></span><span class=line><span class=cl>cat &gt; /etc/ssh/sshd_config.d/sftp.conf <span class=s>&lt;&lt; EOF
</span></span></span><span class=line><span class=cl><span class=s>Match User sftpuser
</span></span></span><span class=line><span class=cl><span class=s>    ForceCommand internal-sftp
</span></span></span><span class=line><span class=cl><span class=s>    PasswordAuthentication yes
</span></span></span><span class=line><span class=cl><span class=s>    ChrootDirectory /var/sftp
</span></span></span><span class=line><span class=cl><span class=s>    PermitTunnel no
</span></span></span><span class=line><span class=cl><span class=s>    AllowAgentForwarding no
</span></span></span><span class=line><span class=cl><span class=s>    AllowTcpForwarding no
</span></span></span><span class=line><span class=cl><span class=s>    X11Forwarding no
</span></span></span><span class=line><span class=cl><span class=s>EOF</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>################################</span>
</span></span><span class=line><span class=cl>su helq
</span></span><span class=line><span class=cl>sudo sshd -t <span class=c1># 测试</span>
</span></span><span class=line><span class=cl>sudo systemctl restart sshd     <span class=c1># 重启或重新加载 SSH 服务</span>
</span></span><span class=line><span class=cl><span class=c1># 到 其他机器上 : </span>
</span></span><span class=line><span class=cl><span class=c1># 验证ssh是否关闭</span>
</span></span><span class=line><span class=cl>ssh sftpuser@your_server_ip     <span class=c1># 会收到 This service allows sftp connections only.表示连接失败,无法再使用 SSH 访问 shell</span>
</span></span><span class=line><span class=cl><span class=c1># 验证sftp是否开启</span>
</span></span><span class=line><span class=cl>sftp sftpuser@your_server_ip    <span class=c1># 此命令将生成带有交互式提示的成功登录消息;可以在提示符中使用`ls`列出目录内容</span>
</span></span><span class=line><span class=cl><span class=c1>############## 或者可以通过 sftp客户端界面(Cyberduck或FileZilla等) 连接访问</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Match User sftpuser            告诉 SSH 服务器仅将以下命令应用于指定的用户</span>
</span></span><span class=line><span class=cl><span class=c1># ForceCommand internal-sftp     强制 SSH 服务器在登录时运行 SFTP 服务器，确保其只能上传/下载文件,禁止 shell 登录访问。</span>
</span></span><span class=line><span class=cl><span class=c1># PasswordAuthentication yes     允许该用户进行密码验证;不然可能需要用户使用基于密钥的验证</span>
</span></span><span class=line><span class=cl><span class=c1># ChrootDirectory /var/sftp/     确保不允许用户访问/var/sftp目录之外的任何内容,/var/sftp 必须由 root 拥有，且不可被其他用户写入,在 /var/sftp 内，可以创建用户有写权限的子目录，如 /var/sftp/sftpuser</span>
</span></span><span class=line><span class=cl><span class=c1># PermitTunnel                   禁止 SSH 隧道功能,提高安全性，防止用户滥用隧道功能绕过网络限制</span>
</span></span><span class=line><span class=cl><span class=c1># AllowAgentForwarding           禁止 SSH 代理转发功能,端口转发、隧道和 X11 转发,进一步限制用户的功能，防止代理滥用</span>
</span></span><span class=line><span class=cl><span class=c1># AllowTcpForwarding             禁止 TCP 转发功能,防止用户通过 SSH 隧道代理访问内部网络或外部服务器</span>
</span></span><span class=line><span class=cl><span class=c1># X11Forwarding                  禁止 X11 图形界面转发,减少不必要的功能支持，提高安全性</span>
</span></span><span class=line><span class=cl><span class=c1># 这组命令从Match User开始，也可以为不同的用户复制和重复。确保相应地修改Match User行中的用户名</span></span></span></code></pre></td></tr></table></div></div><div class=code-scroll aria-label=代码块滚动工具栏><button class="code-scroll-left iconfont-logan icon-logan-circle-left-solid" aria-label=向左滚动></button>
<button class="code-scroll-right iconfont-logan icon-logan-circle-right-solid" aria-label=向右滚动></button></div><div class=code-tools aria-label=代码块工具栏><div class=copy-text>Copied!</div><button class="copy-code-button iconfont-logan icon-logan-copy-round3" aria-label=复制></button>
<button class="my-code-fold iconfont-logan icon-logan-circle-chevron-down-solid expand1" aria-label=折叠></button></div></div><h4 id=d-开启-ftp-服务><a href=#d-%e5%bc%80%e5%90%af-ftp-%e6%9c%8d%e5%8a%a1 class=header-anchor></a>d 、开启 ftp 服务</h4><div class=logan-code-block><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-24-1><a class=lnlinks href=#hl-24-1>  1</a>
</span><span class=lnt id=hl-24-2><a class=lnlinks href=#hl-24-2>  2</a>
</span><span class=lnt id=hl-24-3><a class=lnlinks href=#hl-24-3>  3</a>
</span><span class=lnt id=hl-24-4><a class=lnlinks href=#hl-24-4>  4</a>
</span><span class=lnt id=hl-24-5><a class=lnlinks href=#hl-24-5>  5</a>
</span><span class=lnt id=hl-24-6><a class=lnlinks href=#hl-24-6>  6</a>
</span><span class=lnt id=hl-24-7><a class=lnlinks href=#hl-24-7>  7</a>
</span><span class=lnt id=hl-24-8><a class=lnlinks href=#hl-24-8>  8</a>
</span><span class=lnt id=hl-24-9><a class=lnlinks href=#hl-24-9>  9</a>
</span><span class=lnt id=hl-24-10><a class=lnlinks href=#hl-24-10> 10</a>
</span><span class=lnt id=hl-24-11><a class=lnlinks href=#hl-24-11> 11</a>
</span><span class=lnt id=hl-24-12><a class=lnlinks href=#hl-24-12> 12</a>
</span><span class=lnt id=hl-24-13><a class=lnlinks href=#hl-24-13> 13</a>
</span><span class=lnt id=hl-24-14><a class=lnlinks href=#hl-24-14> 14</a>
</span><span class=lnt id=hl-24-15><a class=lnlinks href=#hl-24-15> 15</a>
</span><span class=lnt id=hl-24-16><a class=lnlinks href=#hl-24-16> 16</a>
</span><span class=lnt id=hl-24-17><a class=lnlinks href=#hl-24-17> 17</a>
</span><span class=lnt id=hl-24-18><a class=lnlinks href=#hl-24-18> 18</a>
</span><span class=lnt id=hl-24-19><a class=lnlinks href=#hl-24-19> 19</a>
</span><span class=lnt id=hl-24-20><a class=lnlinks href=#hl-24-20> 20</a>
</span><span class=lnt id=hl-24-21><a class=lnlinks href=#hl-24-21> 21</a>
</span><span class=lnt id=hl-24-22><a class=lnlinks href=#hl-24-22> 22</a>
</span><span class=lnt id=hl-24-23><a class=lnlinks href=#hl-24-23> 23</a>
</span><span class=lnt id=hl-24-24><a class=lnlinks href=#hl-24-24> 24</a>
</span><span class=lnt id=hl-24-25><a class=lnlinks href=#hl-24-25> 25</a>
</span><span class=lnt id=hl-24-26><a class=lnlinks href=#hl-24-26> 26</a>
</span><span class=lnt id=hl-24-27><a class=lnlinks href=#hl-24-27> 27</a>
</span><span class=lnt id=hl-24-28><a class=lnlinks href=#hl-24-28> 28</a>
</span><span class=lnt id=hl-24-29><a class=lnlinks href=#hl-24-29> 29</a>
</span><span class=lnt id=hl-24-30><a class=lnlinks href=#hl-24-30> 30</a>
</span><span class=lnt id=hl-24-31><a class=lnlinks href=#hl-24-31> 31</a>
</span><span class=lnt id=hl-24-32><a class=lnlinks href=#hl-24-32> 32</a>
</span><span class=lnt id=hl-24-33><a class=lnlinks href=#hl-24-33> 33</a>
</span><span class=lnt id=hl-24-34><a class=lnlinks href=#hl-24-34> 34</a>
</span><span class=lnt id=hl-24-35><a class=lnlinks href=#hl-24-35> 35</a>
</span><span class=lnt id=hl-24-36><a class=lnlinks href=#hl-24-36> 36</a>
</span><span class=lnt id=hl-24-37><a class=lnlinks href=#hl-24-37> 37</a>
</span><span class=lnt id=hl-24-38><a class=lnlinks href=#hl-24-38> 38</a>
</span><span class=lnt id=hl-24-39><a class=lnlinks href=#hl-24-39> 39</a>
</span><span class=lnt id=hl-24-40><a class=lnlinks href=#hl-24-40> 40</a>
</span><span class=lnt id=hl-24-41><a class=lnlinks href=#hl-24-41> 41</a>
</span><span class=lnt id=hl-24-42><a class=lnlinks href=#hl-24-42> 42</a>
</span><span class=lnt id=hl-24-43><a class=lnlinks href=#hl-24-43> 43</a>
</span><span class=lnt id=hl-24-44><a class=lnlinks href=#hl-24-44> 44</a>
</span><span class=lnt id=hl-24-45><a class=lnlinks href=#hl-24-45> 45</a>
</span><span class=lnt id=hl-24-46><a class=lnlinks href=#hl-24-46> 46</a>
</span><span class=lnt id=hl-24-47><a class=lnlinks href=#hl-24-47> 47</a>
</span><span class=lnt id=hl-24-48><a class=lnlinks href=#hl-24-48> 48</a>
</span><span class=lnt id=hl-24-49><a class=lnlinks href=#hl-24-49> 49</a>
</span><span class=lnt id=hl-24-50><a class=lnlinks href=#hl-24-50> 50</a>
</span><span class=lnt id=hl-24-51><a class=lnlinks href=#hl-24-51> 51</a>
</span><span class=lnt id=hl-24-52><a class=lnlinks href=#hl-24-52> 52</a>
</span><span class=lnt id=hl-24-53><a class=lnlinks href=#hl-24-53> 53</a>
</span><span class=lnt id=hl-24-54><a class=lnlinks href=#hl-24-54> 54</a>
</span><span class=lnt id=hl-24-55><a class=lnlinks href=#hl-24-55> 55</a>
</span><span class=lnt id=hl-24-56><a class=lnlinks href=#hl-24-56> 56</a>
</span><span class=lnt id=hl-24-57><a class=lnlinks href=#hl-24-57> 57</a>
</span><span class=lnt id=hl-24-58><a class=lnlinks href=#hl-24-58> 58</a>
</span><span class=lnt id=hl-24-59><a class=lnlinks href=#hl-24-59> 59</a>
</span><span class=lnt id=hl-24-60><a class=lnlinks href=#hl-24-60> 60</a>
</span><span class=lnt id=hl-24-61><a class=lnlinks href=#hl-24-61> 61</a>
</span><span class=lnt id=hl-24-62><a class=lnlinks href=#hl-24-62> 62</a>
</span><span class=lnt id=hl-24-63><a class=lnlinks href=#hl-24-63> 63</a>
</span><span class=lnt id=hl-24-64><a class=lnlinks href=#hl-24-64> 64</a>
</span><span class=lnt id=hl-24-65><a class=lnlinks href=#hl-24-65> 65</a>
</span><span class=lnt id=hl-24-66><a class=lnlinks href=#hl-24-66> 66</a>
</span><span class=lnt id=hl-24-67><a class=lnlinks href=#hl-24-67> 67</a>
</span><span class=lnt id=hl-24-68><a class=lnlinks href=#hl-24-68> 68</a>
</span><span class=lnt id=hl-24-69><a class=lnlinks href=#hl-24-69> 69</a>
</span><span class=lnt id=hl-24-70><a class=lnlinks href=#hl-24-70> 70</a>
</span><span class=lnt id=hl-24-71><a class=lnlinks href=#hl-24-71> 71</a>
</span><span class=lnt id=hl-24-72><a class=lnlinks href=#hl-24-72> 72</a>
</span><span class=lnt id=hl-24-73><a class=lnlinks href=#hl-24-73> 73</a>
</span><span class=lnt id=hl-24-74><a class=lnlinks href=#hl-24-74> 74</a>
</span><span class=lnt id=hl-24-75><a class=lnlinks href=#hl-24-75> 75</a>
</span><span class=lnt id=hl-24-76><a class=lnlinks href=#hl-24-76> 76</a>
</span><span class=lnt id=hl-24-77><a class=lnlinks href=#hl-24-77> 77</a>
</span><span class=lnt id=hl-24-78><a class=lnlinks href=#hl-24-78> 78</a>
</span><span class=lnt id=hl-24-79><a class=lnlinks href=#hl-24-79> 79</a>
</span><span class=lnt id=hl-24-80><a class=lnlinks href=#hl-24-80> 80</a>
</span><span class=lnt id=hl-24-81><a class=lnlinks href=#hl-24-81> 81</a>
</span><span class=lnt id=hl-24-82><a class=lnlinks href=#hl-24-82> 82</a>
</span><span class=lnt id=hl-24-83><a class=lnlinks href=#hl-24-83> 83</a>
</span><span class=lnt id=hl-24-84><a class=lnlinks href=#hl-24-84> 84</a>
</span><span class=lnt id=hl-24-85><a class=lnlinks href=#hl-24-85> 85</a>
</span><span class=lnt id=hl-24-86><a class=lnlinks href=#hl-24-86> 86</a>
</span><span class=lnt id=hl-24-87><a class=lnlinks href=#hl-24-87> 87</a>
</span><span class=lnt id=hl-24-88><a class=lnlinks href=#hl-24-88> 88</a>
</span><span class=lnt id=hl-24-89><a class=lnlinks href=#hl-24-89> 89</a>
</span><span class=lnt id=hl-24-90><a class=lnlinks href=#hl-24-90> 90</a>
</span><span class=lnt id=hl-24-91><a class=lnlinks href=#hl-24-91> 91</a>
</span><span class=lnt id=hl-24-92><a class=lnlinks href=#hl-24-92> 92</a>
</span><span class=lnt id=hl-24-93><a class=lnlinks href=#hl-24-93> 93</a>
</span><span class=lnt id=hl-24-94><a class=lnlinks href=#hl-24-94> 94</a>
</span><span class=lnt id=hl-24-95><a class=lnlinks href=#hl-24-95> 95</a>
</span><span class=lnt id=hl-24-96><a class=lnlinks href=#hl-24-96> 96</a>
</span><span class=lnt id=hl-24-97><a class=lnlinks href=#hl-24-97> 97</a>
</span><span class=lnt id=hl-24-98><a class=lnlinks href=#hl-24-98> 98</a>
</span><span class=lnt id=hl-24-99><a class=lnlinks href=#hl-24-99> 99</a>
</span><span class=lnt id=hl-24-100><a class=lnlinks href=#hl-24-100>100</a>
</span><span class=lnt id=hl-24-101><a class=lnlinks href=#hl-24-101>101</a>
</span><span class=lnt id=hl-24-102><a class=lnlinks href=#hl-24-102>102</a>
</span><span class=lnt id=hl-24-103><a class=lnlinks href=#hl-24-103>103</a>
</span><span class=lnt id=hl-24-104><a class=lnlinks href=#hl-24-104>104</a>
</span><span class=lnt id=hl-24-105><a class=lnlinks href=#hl-24-105>105</a>
</span><span class=lnt id=hl-24-106><a class=lnlinks href=#hl-24-106>106</a>
</span><span class=lnt id=hl-24-107><a class=lnlinks href=#hl-24-107>107</a>
</span><span class=lnt id=hl-24-108><a class=lnlinks href=#hl-24-108>108</a>
</span><span class=lnt id=hl-24-109><a class=lnlinks href=#hl-24-109>109</a>
</span><span class=lnt id=hl-24-110><a class=lnlinks href=#hl-24-110>110</a>
</span><span class=lnt id=hl-24-111><a class=lnlinks href=#hl-24-111>111</a>
</span><span class=lnt id=hl-24-112><a class=lnlinks href=#hl-24-112>112</a>
</span><span class=lnt id=hl-24-113><a class=lnlinks href=#hl-24-113>113</a>
</span><span class=lnt id=hl-24-114><a class=lnlinks href=#hl-24-114>114</a>
</span><span class=lnt id=hl-24-115><a class=lnlinks href=#hl-24-115>115</a>
</span><span class=lnt id=hl-24-116><a class=lnlinks href=#hl-24-116>116</a>
</span><span class=lnt id=hl-24-117><a class=lnlinks href=#hl-24-117>117</a>
</span><span class=lnt id=hl-24-118><a class=lnlinks href=#hl-24-118>118</a>
</span><span class=lnt id=hl-24-119><a class=lnlinks href=#hl-24-119>119</a>
</span><span class=lnt id=hl-24-120><a class=lnlinks href=#hl-24-120>120</a>
</span><span class=lnt id=hl-24-121><a class=lnlinks href=#hl-24-121>121</a>
</span><span class=lnt id=hl-24-122><a class=lnlinks href=#hl-24-122>122</a>
</span><span class=lnt id=hl-24-123><a class=lnlinks href=#hl-24-123>123</a>
</span><span class=lnt id=hl-24-124><a class=lnlinks href=#hl-24-124>124</a>
</span><span class=lnt id=hl-24-125><a class=lnlinks href=#hl-24-125>125</a>
</span><span class=lnt id=hl-24-126><a class=lnlinks href=#hl-24-126>126</a>
</span><span class=lnt id=hl-24-127><a class=lnlinks href=#hl-24-127>127</a>
</span><span class=lnt id=hl-24-128><a class=lnlinks href=#hl-24-128>128</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>sudo apt update <span class=o>&amp;&amp;</span> sudo apt install vsftpd         <span class=c1># 默认应该都是没有安装的</span>
</span></span><span class=line><span class=cl><span class=c1># 开放端口;为 FTP 打开端口`20`和`21`;在启用 TLS 时打开端口`990`; pasv_max_port pasv_min_port 限制可用于被动 FTP 的端口范围40000到50000</span>
</span></span><span class=line><span class=cl>sudo ufw status
</span></span><span class=line><span class=cl>sudo ufw allow from any to any port 20,21,990,40000:50000 proto tcp
</span></span><span class=line><span class=cl>sudo ufw status
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 创建只用于 ftp 的用户;不允许登录shell</span>
</span></span><span class=line><span class=cl><span class=c1># chroot_local_user=YES时, ftp要求用户要有home目录,并且home目录不可写</span>
</span></span><span class=line><span class=cl>sudo useradd -s /sbin/nologin -d /var/ftp ftpuser      <span class=c1># -m 会创建home目录; -d &lt;path&gt; 自定义home目录</span>
</span></span><span class=line><span class=cl>sudo sh -c <span class=s1>&#39;echo &#34;/sbin/nologin&#34; &gt;&gt; /etc/shells&#39;</span>       <span class=c1># ftp会检查登录的用户的shell是否正常; 这里让 /sbin/nologin 变为有效的登录 shell</span>
</span></span><span class=line><span class=cl>sudo mkdir -p /var/ftp/ftpuser
</span></span><span class=line><span class=cl>sudo chmod <span class=m>555</span> /var/ftp                          <span class=c1># 让home目录不可写; 4:读 2:写 1:执行</span>
</span></span><span class=line><span class=cl>sudo chown nobody:nogroup /var/ftp               <span class=c1># 限制权限，确保进程或服务无法访问不必要的系统资源</span>
</span></span><span class=line><span class=cl>sudo passwd ftpuser                              <span class=c1># 添加密码    123456          </span>
</span></span><span class=line><span class=cl>sudo chown ftpuser:ftpuser /var/ftp/ftpuser    <span class=c1># 将目录的所有权更改为您刚刚创建的用户</span>
</span></span><span class=line><span class=cl>sudo chmod <span class=m>775</span> /var/ftp/ftpuser          <span class=c1># 同组用户可以读和写(目录必须有执行权限才能cd进入);其他用户只读</span>
</span></span><span class=line><span class=cl>sudo usermod -aG ftpuser <span class=k>$(</span>whoami<span class=k>)</span>  <span class=c1># 把当前用户加入 ftpuser 用户组,让当前用户可以操作`分享目录`,就让当前用户可以将自己的文件复制到这个`分享目录中`了</span>
</span></span><span class=line><span class=cl>getent group ftpuser   <span class=c1># 查看用户组中有哪些用户</span>
</span></span><span class=line><span class=cl>sudo useradd -r -M -s /sbin/nologin ftpsecure   <span class=c1># 创建一个供nopriv_user使用的低权限用户</span>
</span></span><span class=line><span class=cl><span class=c1># 权限组生效要重新登录</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>sudo cp /etc/vsftpd.conf /etc/vsftpd.conf.bak     <span class=c1># 备份原始文件</span>
</span></span><span class=line><span class=cl>su
</span></span><span class=line><span class=cl><span class=c1>####################################################################</span>
</span></span><span class=line><span class=cl>cat &gt; /etc/vsftpd.conf <span class=s>&lt;&lt; EOF
</span></span></span><span class=line><span class=cl><span class=s># NO: 表示 vsftpd 不会以独立的守护进程方式运行;用于资源受限的系统; 因为 inetd 或 xinetd 在没有连接时不会启动 FTP 服务,从而减少资源占用
</span></span></span><span class=line><span class=cl><span class=s># 当 listen=YES 时,vsftpd 只会在 IPv4 地址 上启动并监听 FTP 连接, listen_ipv6就必须为 NO
</span></span></span><span class=line><span class=cl><span class=s>listen=YES
</span></span></span><span class=line><span class=cl><span class=s>
</span></span></span><span class=line><span class=cl><span class=s># 启用对 IPv6 的支持,同时接受来自 IPv4 和 IPv6 的连接
</span></span></span><span class=line><span class=cl><span class=s>listen_ipv6=NO
</span></span></span><span class=line><span class=cl><span class=s>
</span></span></span><span class=line><span class=cl><span class=s># 允许系统中的本地用户使用 FTP 登录
</span></span></span><span class=line><span class=cl><span class=s>local_enable=YES
</span></span></span><span class=line><span class=cl><span class=s>
</span></span></span><span class=line><span class=cl><span class=s># 启用此选项后,所有本地用户在登录时将被限制在他们的HOME目录内,他们无法访问其他系统目录
</span></span></span><span class=line><span class=cl><span class=s>chroot_local_user=YES
</span></span></span><span class=line><span class=cl><span class=s># 用于指定哪些本地用户可以不受 chroot_local_user 功能限制;可以在 chroot_list_file 中列出特定用户
</span></span></span><span class=line><span class=cl><span class=s># chroot_list_enable=YES
</span></span></span><span class=line><span class=cl><span class=s># chroot_list_file=/etc/vsftpd.chroot_list
</span></span></span><span class=line><span class=cl><span class=s>
</span></span></span><span class=line><span class=cl><span class=s># 允许用户使用写操作; 如 上传文件 删除文件
</span></span></span><span class=line><span class=cl><span class=s>write_enable=YES
</span></span></span><span class=line><span class=cl><span class=s>
</span></span></span><span class=line><span class=cl><span class=s># 实际权限 = 默认权限(文件的默认权限是666; 目录的默认权限是777) - umask
</span></span></span><span class=line><span class=cl><span class=s>local_umask=022
</span></span></span><span class=line><span class=cl><span class=s>
</span></span></span><span class=line><span class=cl><span class=s># 每当用户切换到某个目录时,vsftpd 会检查该目录下是否存在一个名为 .message 的文件;如果 .message 文件存在,其内容会显示给用户,作为该目录的欢迎消息或说明
</span></span></span><span class=line><span class=cl><span class=s>dirmessage_enable=YES
</span></span></span><span class=line><span class=cl><span class=s>
</span></span></span><span class=line><span class=cl><span class=s># 目录列表(例如 ls 命令)中的时间戳将显示为服务器本地时区时间
</span></span></span><span class=line><span class=cl><span class=s>use_localtime=YES
</span></span></span><span class=line><span class=cl><span class=s>
</span></span></span><span class=line><span class=cl><span class=s># 启用上传和下载操作的日志记录功能;默认在/var/log/vsftpd.log; 可由选项xferlog_file自定义
</span></span></span><span class=line><span class=cl><span class=s>xferlog_enable=YES
</span></span></span><span class=line><span class=cl><span class=s># 用于指定 vsftpd 的日志文件位置
</span></span></span><span class=line><span class=cl><span class=s># xferlog_file=/var/log/vsftpd.log
</span></span></span><span class=line><span class=cl><span class=s># 如果启用此选项,日志将采用标准 xferlog 格式,通常与传统 FTP 服务的日志格式兼容;日志文件的默认存储路径会更改为 /var/log/xferlog
</span></span></span><span class=line><span class=cl><span class=s># xferlog_std_format=YES
</span></span></span><span class=line><span class=cl><span class=s>
</span></span></span><span class=line><span class=cl><span class=s># 指定 FTP 数据连接的来源端口为 20;(21 端口:用于控制连接;接收用户命令并返回响应)
</span></span></span><span class=line><span class=cl><span class=s>connect_from_port_20=YES
</span></span></span><span class=line><span class=cl><span class=s>
</span></span></span><span class=line><span class=cl><span class=s># 默认开启被动模式;需要服务端开放40000-50000的端口,所以对客户端的防火墙很友好
</span></span></span><span class=line><span class=cl><span class=s>pasv_enable=YES
</span></span></span><span class=line><span class=cl><span class=s>pasv_min_port=40000
</span></span></span><span class=line><span class=cl><span class=s>pasv_max_port=50000
</span></span></span><span class=line><span class=cl><span class=s>
</span></span></span><span class=line><span class=cl><span class=s># 设置空闲会话的超时时间,单位为秒;如果客户端在此期间没有任何活动(如上传、下载、浏览目录等),则服务器会自动关闭该会话
</span></span></span><span class=line><span class=cl><span class=s>idle_session_timeout=3600
</span></span></span><span class=line><span class=cl><span class=s>
</span></span></span><span class=line><span class=cl><span class=s># 设置数据连接的超时时间,单位为秒;指定了 vsftpd 等待数据连接(例如文件上传、下载等)时的最大空闲时间;如果在这个时间内没有数据传输,连接会被断开
</span></span></span><span class=line><span class=cl><span class=s>data_connection_timeout=600
</span></span></span><span class=line><span class=cl><span class=s>
</span></span></span><span class=line><span class=cl><span class=s># 当 vsftpd 需要执行与 FTP 客户端相关的非特权操作时,它会以 nopriv_user 的身份运行子进程或线程,可以有效地减少可能的安全漏洞
</span></span></span><span class=line><span class=cl><span class=s>nopriv_user=ftpsecure
</span></span></span><span class=line><span class=cl><span class=s>
</span></span></span><span class=line><span class=cl><span class=s># 自定义的登录横幅信息
</span></span></span><span class=line><span class=cl><span class=s>ftpd_banner=Welcome to blah FTP service.
</span></span></span><span class=line><span class=cl><span class=s>
</span></span></span><span class=line><span class=cl><span class=s>
</span></span></span><span class=line><span class=cl><span class=s># 禁用匿名登录,只有本地用户可以登录
</span></span></span><span class=line><span class=cl><span class=s>anonymous_enable=NO
</span></span></span><span class=line><span class=cl><span class=s># 禁止匿名用户上传文件
</span></span></span><span class=line><span class=cl><span class=s>anon_upload_enable=NO
</span></span></span><span class=line><span class=cl><span class=s># 禁止匿名用户创建目录
</span></span></span><span class=line><span class=cl><span class=s>anon_mkdir_write_enable=NO
</span></span></span><span class=line><span class=cl><span class=s># 控制匿名用户上传的文件的所有权设置;用于加强安全性和便于管理;默认情况下,匿名用户上传的文件的所有者是 ftp 或 nobody;通过启用此选项,可以将文件的所有者更改为指定的用户
</span></span></span><span class=line><span class=cl><span class=s># chown_uploads=YES
</span></span></span><span class=line><span class=cl><span class=s># chown_username=whoever
</span></span></span><span class=line><span class=cl><span class=s>
</span></span></span><span class=line><span class=cl><span class=s># 指定一个空目录,作为 vsftpd 的 chroot() 监狱;chroot() 是一个将进程及其子进程的根目录改为指定目录的系统调用。
</span></span></span><span class=line><span class=cl><span class=s># 在 vsftpd 中,使用 chroot() 可以将某些用户限制在某个目录（或目录树）中,使得这些用户无法访问系统的其他部分
</span></span></span><span class=line><span class=cl><span class=s># 当 FTP 用户登录时,通常会被限制在他们的家目录内。如果启用了 chroot_local_user 或其他类似设置,FTP 用户将无法访问他们家目录以外的文件和目录
</span></span></span><span class=line><span class=cl><span class=s># 该目录并不是为用户上传和下载文件的目录,而是用于保护和增强安全性。在一些特定情况下,vsftpd 会切换到该目录,并限制其对文件系统的访问
</span></span></span><span class=line><span class=cl><span class=s>secure_chroot_dir=/var/run/vsftpd/empty
</span></span></span><span class=line><span class=cl><span class=s>
</span></span></span><span class=line><span class=cl><span class=s># 告诉 vsftpd 在进行用户登录认证时,使用 PAM(可插拔认证模块)来进行验证;简单来说,它指定了 FTP 服务器在验证用户身份时,应该使用什么样的认证规则
</span></span></span><span class=line><span class=cl><span class=s># PAM 就是一个管理系统登录、密码验证等认证工作的工具;vsftpd 需要验证用户是否能登录,pam_service_name=vsftpd 就是告诉它：在验证时,去找一个专门为 vsftpd 配置的认证规则文件,通常这个文件叫 vsftpd,会放在 /etc/pam.d/ 文件夹里
</span></span></span><span class=line><span class=cl><span class=s>pam_service_name=vsftpd
</span></span></span><span class=line><span class=cl><span class=s>
</span></span></span><span class=line><span class=cl><span class=s># 是否开启 FTPS
</span></span></span><span class=line><span class=cl><span class=s>rsa_cert_file=/etc/ssl/certs/ssl-cert-snakeoil.pem
</span></span></span><span class=line><span class=cl><span class=s>rsa_private_key_file=/etc/ssl/private/ssl-cert-snakeoil.key
</span></span></span><span class=line><span class=cl><span class=s>ssl_enable=NO
</span></span></span><span class=line><span class=cl><span class=s>
</span></span></span><span class=line><span class=cl><span class=s># 使用 UTF-8 编码的文件系统
</span></span></span><span class=line><span class=cl><span class=s>utf8_filesystem=YES
</span></span></span><span class=line><span class=cl><span class=s>
</span></span></span><span class=line><span class=cl><span class=s># FTP 服务器将异步处理 ABOR 请求,提高处理效率,但可能存在安全风险
</span></span></span><span class=line><span class=cl><span class=s># async_abor_enable=YES
</span></span></span><span class=line><span class=cl><span class=s>
</span></span></span><span class=line><span class=cl><span class=s># 专门用于文本文件,启用该选项后,FTP 服务器会在上传/下载文件时进行 ASCII 处理(即转换换行符),可能会增加 CPU 负担和安全隐患
</span></span></span><span class=line><span class=cl><span class=s># ascii_upload_enable=YES
</span></span></span><span class=line><span class=cl><span class=s># ascii_download_enable=YES
</span></span></span><span class=line><span class=cl><span class=s>
</span></span></span><span class=line><span class=cl><span class=s># 启用此选项后,vsftpd 将检查匿名 FTP 用户的电子邮件地址,如果该地址在禁止列表中,用户将无法登录
</span></span></span><span class=line><span class=cl><span class=s># deny_email_enable=YES
</span></span></span><span class=line><span class=cl><span class=s># 这是存储被禁止的电子邮件地址列表的文件。vsftpd 会检查该文件中的电子邮件地址,并阻止这些地址的匿名用户登录。每行一个电子邮件地址
</span></span></span><span class=line><span class=cl><span class=s># banned_email_file=/etc/vsftpd.banned_emails
</span></span></span><span class=line><span class=cl><span class=s>
</span></span></span><span class=line><span class=cl><span class=s># 用户使用 ls 命令时,FTP 服务器会列出当前目录及其所有子目录的内容,出于性能考虑,最好保持默认的禁用状态
</span></span></span><span class=line><span class=cl><span class=s># ls_recurse_enable=YES
</span></span></span><span class=line><span class=cl><span class=s>EOF</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#####################################################################</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>sudo systemctl restart vsftpd</span></span></code></pre></td></tr></table></div></div><div class=code-scroll aria-label=代码块滚动工具栏><button class="code-scroll-left iconfont-logan icon-logan-circle-left-solid" aria-label=向左滚动></button>
<button class="code-scroll-right iconfont-logan icon-logan-circle-right-solid" aria-label=向右滚动></button></div><div class=code-tools aria-label=代码块工具栏><div class=copy-text>Copied!</div><button class="copy-code-button iconfont-logan icon-logan-copy-round3" aria-label=复制></button>
<button class="my-code-fold iconfont-logan icon-logan-circle-chevron-down-solid expand1" aria-label=折叠></button></div></div><h4 id=eminio><a href=#eminio class=header-anchor></a>e、minio</h4><div class=logan-code-block><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-25-1><a class=lnlinks href=#hl-25-1>1</a>
</span><span class=lnt id=hl-25-2><a class=lnlinks href=#hl-25-2>2</a>
</span><span class=lnt id=hl-25-3><a class=lnlinks href=#hl-25-3>3</a>
</span><span class=lnt id=hl-25-4><a class=lnlinks href=#hl-25-4>4</a>
</span><span class=lnt id=hl-25-5><a class=lnlinks href=#hl-25-5>5</a>
</span><span class=lnt id=hl-25-6><a class=lnlinks href=#hl-25-6>6</a>
</span><span class=lnt id=hl-25-7><a class=lnlinks href=#hl-25-7>7</a>
</span><span class=lnt id=hl-25-8><a class=lnlinks href=#hl-25-8>8</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>mkdir -p ~/software/minio/share
</span></span><span class=line><span class=cl>sudo ufw allow from any to any port 19000,19001 proto tcp
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>docker run -d -p 19000:9000 -p 19001:9001 <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  -v ~/software/minio/share:/data <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  quay.io/minio/minio server /data --console-address <span class=s2>&#34;:9001&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>http://ip:19001    minioadmin:minioadmin</span></span></code></pre></td></tr></table></div></div><div class=code-scroll aria-label=代码块滚动工具栏><button class="code-scroll-left iconfont-logan icon-logan-circle-left-solid" aria-label=向左滚动></button>
<button class="code-scroll-right iconfont-logan icon-logan-circle-right-solid" aria-label=向右滚动></button></div><div class=code-tools aria-label=代码块工具栏><div class=copy-text>Copied!</div><button class="copy-code-button iconfont-logan icon-logan-copy-round3" aria-label=复制></button>
<button class="my-code-fold iconfont-logan icon-logan-circle-chevron-down-solid expand1" aria-label=折叠></button></div></div><h3 id=四可选><a href=#%e5%9b%9b%e5%8f%af%e9%80%89 class=header-anchor></a>四、可选</h3><h4 id=apipx><a href=#apipx class=header-anchor></a>a、pipx</h4><div class=logan-code-block><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-26-1><a class=lnlinks href=#hl-26-1>1</a>
</span><span class=lnt id=hl-26-2><a class=lnlinks href=#hl-26-2>2</a>
</span><span class=lnt id=hl-26-3><a class=lnlinks href=#hl-26-3>3</a>
</span><span class=lnt id=hl-26-4><a class=lnlinks href=#hl-26-4>4</a>
</span><span class=lnt id=hl-26-5><a class=lnlinks href=#hl-26-5>5</a>
</span><span class=lnt id=hl-26-6><a class=lnlinks href=#hl-26-6>6</a>
</span><span class=lnt id=hl-26-7><a class=lnlinks href=#hl-26-7>7</a>
</span><span class=lnt id=hl-26-8><a class=lnlinks href=#hl-26-8>8</a>
</span><span class=lnt id=hl-26-9><a class=lnlinks href=#hl-26-9>9</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=c1># 可选 pipx 专门下载python命令行工具 到隔离环境的,用哪个用户下载的就在哪个用户目录下的 ~/.local/bin 中; 除非加了--global 会安装在全局的地方,但是版本低不支持</span>
</span></span><span class=line><span class=cl>sudo apt update
</span></span><span class=line><span class=cl>sudo apt install pipx
</span></span><span class=line><span class=cl>pipx ensurepath <span class=c1># 就是设置环境变量中的 $PATH:~/.local/bin</span>
</span></span><span class=line><span class=cl>sudo pipx ensurepath --global <span class=c1># apt的版本太低不支持</span>
</span></span><span class=line><span class=cl>pipx install trash-cli <span class=c1># 安装最新版本,但是默认只能一个用户使用</span>
</span></span><span class=line><span class=cl>pipx list
</span></span><span class=line><span class=cl>pipx uninstall-all
</span></span><span class=line><span class=cl>pipx completions <span class=c1># 查看补全说明</span></span></span></code></pre></td></tr></table></div></div><div class=code-scroll aria-label=代码块滚动工具栏><button class="code-scroll-left iconfont-logan icon-logan-circle-left-solid" aria-label=向左滚动></button>
<button class="code-scroll-right iconfont-logan icon-logan-circle-right-solid" aria-label=向右滚动></button></div><div class=code-tools aria-label=代码块工具栏><div class=copy-text>Copied!</div><button class="copy-code-button iconfont-logan icon-logan-copy-round3" aria-label=复制></button>
<button class="my-code-fold iconfont-logan icon-logan-circle-chevron-down-solid expand1" aria-label=折叠></button></div></div><h4 id=bclash><a href=#bclash class=header-anchor></a>b、clash</h4><div class=logan-code-block><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-27-1><a class=lnlinks href=#hl-27-1> 1</a>
</span><span class=lnt id=hl-27-2><a class=lnlinks href=#hl-27-2> 2</a>
</span><span class=lnt id=hl-27-3><a class=lnlinks href=#hl-27-3> 3</a>
</span><span class=lnt id=hl-27-4><a class=lnlinks href=#hl-27-4> 4</a>
</span><span class=lnt id=hl-27-5><a class=lnlinks href=#hl-27-5> 5</a>
</span><span class=lnt id=hl-27-6><a class=lnlinks href=#hl-27-6> 6</a>
</span><span class=lnt id=hl-27-7><a class=lnlinks href=#hl-27-7> 7</a>
</span><span class=lnt id=hl-27-8><a class=lnlinks href=#hl-27-8> 8</a>
</span><span class=lnt id=hl-27-9><a class=lnlinks href=#hl-27-9> 9</a>
</span><span class=lnt id=hl-27-10><a class=lnlinks href=#hl-27-10>10</a>
</span><span class=lnt id=hl-27-11><a class=lnlinks href=#hl-27-11>11</a>
</span><span class=lnt id=hl-27-12><a class=lnlinks href=#hl-27-12>12</a>
</span><span class=lnt id=hl-27-13><a class=lnlinks href=#hl-27-13>13</a>
</span><span class=lnt id=hl-27-14><a class=lnlinks href=#hl-27-14>14</a>
</span><span class=lnt id=hl-27-15><a class=lnlinks href=#hl-27-15>15</a>
</span><span class=lnt id=hl-27-16><a class=lnlinks href=#hl-27-16>16</a>
</span><span class=lnt id=hl-27-17><a class=lnlinks href=#hl-27-17>17</a>
</span><span class=lnt id=hl-27-18><a class=lnlinks href=#hl-27-18>18</a>
</span><span class=lnt id=hl-27-19><a class=lnlinks href=#hl-27-19>19</a>
</span><span class=lnt id=hl-27-20><a class=lnlinks href=#hl-27-20>20</a>
</span><span class=lnt id=hl-27-21><a class=lnlinks href=#hl-27-21>21</a>
</span><span class=lnt id=hl-27-22><a class=lnlinks href=#hl-27-22>22</a>
</span><span class=lnt id=hl-27-23><a class=lnlinks href=#hl-27-23>23</a>
</span><span class=lnt id=hl-27-24><a class=lnlinks href=#hl-27-24>24</a>
</span><span class=lnt id=hl-27-25><a class=lnlinks href=#hl-27-25>25</a>
</span><span class=lnt id=hl-27-26><a class=lnlinks href=#hl-27-26>26</a>
</span><span class=lnt id=hl-27-27><a class=lnlinks href=#hl-27-27>27</a>
</span><span class=lnt id=hl-27-28><a class=lnlinks href=#hl-27-28>28</a>
</span><span class=lnt id=hl-27-29><a class=lnlinks href=#hl-27-29>29</a>
</span><span class=lnt id=hl-27-30><a class=lnlinks href=#hl-27-30>30</a>
</span><span class=lnt id=hl-27-31><a class=lnlinks href=#hl-27-31>31</a>
</span><span class=lnt id=hl-27-32><a class=lnlinks href=#hl-27-32>32</a>
</span><span class=lnt id=hl-27-33><a class=lnlinks href=#hl-27-33>33</a>
</span><span class=lnt id=hl-27-34><a class=lnlinks href=#hl-27-34>34</a>
</span><span class=lnt id=hl-27-35><a class=lnlinks href=#hl-27-35>35</a>
</span><span class=lnt id=hl-27-36><a class=lnlinks href=#hl-27-36>36</a>
</span><span class=lnt id=hl-27-37><a class=lnlinks href=#hl-27-37>37</a>
</span><span class=lnt id=hl-27-38><a class=lnlinks href=#hl-27-38>38</a>
</span><span class=lnt id=hl-27-39><a class=lnlinks href=#hl-27-39>39</a>
</span><span class=lnt id=hl-27-40><a class=lnlinks href=#hl-27-40>40</a>
</span><span class=lnt id=hl-27-41><a class=lnlinks href=#hl-27-41>41</a>
</span><span class=lnt id=hl-27-42><a class=lnlinks href=#hl-27-42>42</a>
</span><span class=lnt id=hl-27-43><a class=lnlinks href=#hl-27-43>43</a>
</span><span class=lnt id=hl-27-44><a class=lnlinks href=#hl-27-44>44</a>
</span><span class=lnt id=hl-27-45><a class=lnlinks href=#hl-27-45>45</a>
</span><span class=lnt id=hl-27-46><a class=lnlinks href=#hl-27-46>46</a>
</span><span class=lnt id=hl-27-47><a class=lnlinks href=#hl-27-47>47</a>
</span><span class=lnt id=hl-27-48><a class=lnlinks href=#hl-27-48>48</a>
</span><span class=lnt id=hl-27-49><a class=lnlinks href=#hl-27-49>49</a>
</span><span class=lnt id=hl-27-50><a class=lnlinks href=#hl-27-50>50</a>
</span><span class=lnt id=hl-27-51><a class=lnlinks href=#hl-27-51>51</a>
</span><span class=lnt id=hl-27-52><a class=lnlinks href=#hl-27-52>52</a>
</span><span class=lnt id=hl-27-53><a class=lnlinks href=#hl-27-53>53</a>
</span><span class=lnt id=hl-27-54><a class=lnlinks href=#hl-27-54>54</a>
</span><span class=lnt id=hl-27-55><a class=lnlinks href=#hl-27-55>55</a>
</span><span class=lnt id=hl-27-56><a class=lnlinks href=#hl-27-56>56</a>
</span><span class=lnt id=hl-27-57><a class=lnlinks href=#hl-27-57>57</a>
</span><span class=lnt id=hl-27-58><a class=lnlinks href=#hl-27-58>58</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=c1>##################### clash代理 ########################################################</span>
</span></span><span class=line><span class=cl>mkdir -p <span class=nb>cd</span> /usr/local/clash-arm64
</span></span><span class=line><span class=cl><span class=nb>cd</span> /usr/local/clash-arm64
</span></span><span class=line><span class=cl>ls
</span></span><span class=line><span class=cl>clash-linux-arm64-v1.18.0.gz  config.yaml  Country.mmdb
</span></span><span class=line><span class=cl>&gt;&gt;&gt;&gt;&gt;&gt;&gt;
</span></span><span class=line><span class=cl>gunzip clash-linux-arm64-v1.18.0.gz 
</span></span><span class=line><span class=cl>mv clash-linux-arm64-v1.18.0 clash
</span></span><span class=line><span class=cl>chmod +x clash
</span></span><span class=line><span class=cl>sudo mkdir /etc/clash
</span></span><span class=line><span class=cl>sudo cp clash /usr/local/bin
</span></span><span class=line><span class=cl>sudo cp config.yaml /etc/clash/
</span></span><span class=line><span class=cl>sudo cp Country.mmdb /etc/clash/
</span></span><span class=line><span class=cl>ls /etc/clash/
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
</span></span><span class=line><span class=cl>sudo vim /etc/systemd/system/clash.service
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>[</span>Unit<span class=o>]</span>
</span></span><span class=line><span class=cl><span class=nv>Description</span><span class=o>=</span>Clash daemon, A rule-based proxy in Go.
</span></span><span class=line><span class=cl><span class=nv>After</span><span class=o>=</span>network.target
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>[</span>Service<span class=o>]</span>
</span></span><span class=line><span class=cl><span class=nv>Type</span><span class=o>=</span>simple
</span></span><span class=line><span class=cl><span class=nv>Restart</span><span class=o>=</span>always
</span></span><span class=line><span class=cl><span class=nv>ExecStart</span><span class=o>=</span>/usr/local/bin/clash -d /etc/clash
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>[</span>Install<span class=o>]</span>
</span></span><span class=line><span class=cl><span class=nv>WantedBy</span><span class=o>=</span>multi-user.target
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
</span></span><span class=line><span class=cl>sudo systemctl stop clash
</span></span><span class=line><span class=cl>sudo systemctl <span class=nb>enable</span> clash
</span></span><span class=line><span class=cl>sudo systemctl start clash
</span></span><span class=line><span class=cl>sudo systemctl disable clash
</span></span><span class=line><span class=cl>sudo systemctl status clash
</span></span><span class=line><span class=cl><span class=nb>export</span> <span class=nv>http_proxy</span><span class=o>=</span>http://127.0.0.1:25307 <span class=o>&amp;&amp;</span> <span class=nb>export</span> <span class=nv>https_proxy</span><span class=o>=</span>http://127.0.0.1:25307 <span class=o>&amp;&amp;</span> <span class=nb>export</span> <span class=nv>all_proxy</span><span class=o>=</span>socks5://127.0.0.1:25307
</span></span><span class=line><span class=cl>curl https://www.google.com
</span></span><span class=line><span class=cl>curl https://github.com
</span></span><span class=line><span class=cl>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
</span></span><span class=line><span class=cl>mkdir -p /usr/local/my-functions/ <span class=o>&amp;&amp;</span> <span class=nb>cd</span> /usr/local/my-functions/
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;source /usr/local/my-functions/debian_proxy&#34;</span> &gt;&gt; /home/helq/.bashrc
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;source /usr/local/my-functions/debian_proxy&#34;</span> &gt;&gt; /root/.bashrc
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;alias ll=&#39;ls -l&#39;&#34;</span> &gt;&gt; /home/helq/.bashrc
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;alias ll=&#39;ls -l&#39;&#34;</span> &gt;&gt; /root/.bashrc
</span></span><span class=line><span class=cl><span class=nb>cd</span> ..
</span></span><span class=line><span class=cl><span class=c1>#重新连接</span>
</span></span><span class=line><span class=cl>sudo systemctl status clash
</span></span><span class=line><span class=cl>getproxy
</span></span><span class=line><span class=cl>setproxy term
</span></span><span class=line><span class=cl>getproxy
</span></span><span class=line><span class=cl>curl https://www.google.com
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#####################################</span></span></span></code></pre></td></tr></table></div></div><div class=code-scroll aria-label=代码块滚动工具栏><button class="code-scroll-left iconfont-logan icon-logan-circle-left-solid" aria-label=向左滚动></button>
<button class="code-scroll-right iconfont-logan icon-logan-circle-right-solid" aria-label=向右滚动></button></div><div class=code-tools aria-label=代码块工具栏><div class=copy-text>Copied!</div><button class="copy-code-button iconfont-logan icon-logan-copy-round3" aria-label=复制></button>
<button class="my-code-fold iconfont-logan icon-logan-circle-chevron-down-solid expand1" aria-label=折叠></button></div></div><h4 id=c卸载-apache2><a href=#c%e5%8d%b8%e8%bd%bd-apache2 class=header-anchor></a>c、卸载 apache2</h4><div class=logan-code-block><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-28-1><a class=lnlinks href=#hl-28-1>1</a>
</span><span class=lnt id=hl-28-2><a class=lnlinks href=#hl-28-2>2</a>
</span><span class=lnt id=hl-28-3><a class=lnlinks href=#hl-28-3>3</a>
</span><span class=lnt id=hl-28-4><a class=lnlinks href=#hl-28-4>4</a>
</span><span class=lnt id=hl-28-5><a class=lnlinks href=#hl-28-5>5</a>
</span><span class=lnt id=hl-28-6><a class=lnlinks href=#hl-28-6>6</a>
</span><span class=lnt id=hl-28-7><a class=lnlinks href=#hl-28-7>7</a>
</span><span class=lnt id=hl-28-8><a class=lnlinks href=#hl-28-8>8</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>apt list apache
</span></span><span class=line><span class=cl>which -a apache2
</span></span><span class=line><span class=cl>ls /usr/sbin/apache2
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>systemctl disable apache2.service <span class=c1>#禁止自启动</span>
</span></span><span class=line><span class=cl>apt-get --purge remove apache2 -y
</span></span><span class=line><span class=cl>sudo apt autoremove -y</span></span></code></pre></td></tr></table></div></div><div class=code-scroll aria-label=代码块滚动工具栏><button class="code-scroll-left iconfont-logan icon-logan-circle-left-solid" aria-label=向左滚动></button>
<button class="code-scroll-right iconfont-logan icon-logan-circle-right-solid" aria-label=向右滚动></button></div><div class=code-tools aria-label=代码块工具栏><div class=copy-text>Copied!</div><button class="copy-code-button iconfont-logan icon-logan-copy-round3" aria-label=复制></button>
<button class="my-code-fold iconfont-logan icon-logan-circle-chevron-down-solid expand1" aria-label=折叠></button></div></div><h3 id=五后续更新><a href=#%e4%ba%94%e5%90%8e%e7%bb%ad%e6%9b%b4%e6%96%b0 class=header-anchor></a>五、后续更新</h3><div class=logan-code-block><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-29-1><a class=lnlinks href=#hl-29-1> 1</a>
</span><span class=lnt id=hl-29-2><a class=lnlinks href=#hl-29-2> 2</a>
</span><span class=lnt id=hl-29-3><a class=lnlinks href=#hl-29-3> 3</a>
</span><span class=lnt id=hl-29-4><a class=lnlinks href=#hl-29-4> 4</a>
</span><span class=lnt id=hl-29-5><a class=lnlinks href=#hl-29-5> 5</a>
</span><span class=lnt id=hl-29-6><a class=lnlinks href=#hl-29-6> 6</a>
</span><span class=lnt id=hl-29-7><a class=lnlinks href=#hl-29-7> 7</a>
</span><span class=lnt id=hl-29-8><a class=lnlinks href=#hl-29-8> 8</a>
</span><span class=lnt id=hl-29-9><a class=lnlinks href=#hl-29-9> 9</a>
</span><span class=lnt id=hl-29-10><a class=lnlinks href=#hl-29-10>10</a>
</span><span class=lnt id=hl-29-11><a class=lnlinks href=#hl-29-11>11</a>
</span><span class=lnt id=hl-29-12><a class=lnlinks href=#hl-29-12>12</a>
</span><span class=lnt id=hl-29-13><a class=lnlinks href=#hl-29-13>13</a>
</span><span class=lnt id=hl-29-14><a class=lnlinks href=#hl-29-14>14</a>
</span><span class=lnt id=hl-29-15><a class=lnlinks href=#hl-29-15>15</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=c1># 安装 fastfetchmkdir -p &#34;$HOME/software/fastfetch&#34;  </span>
</span></span><span class=line><span class=cl>wget -P <span class=s2>&#34;</span><span class=nv>$HOME</span><span class=s2>/software/fastfetch&#34;</span> https://github.com/fastfetch-cli/fastfetch/releases/download/2.31.0/fastfetch-linux-aarch64.deb  
</span></span><span class=line><span class=cl>sudo apt update  
</span></span><span class=line><span class=cl>sudo dpkg -i <span class=s2>&#34;</span><span class=nv>$HOME</span><span class=s2>/software/fastfetch/fastfetch-linux-aarch64.deb&#34;</span>  
</span></span><span class=line><span class=cl>fastfetch --version  
</span></span><span class=line><span class=cl>which -a fastfetch  
</span></span><span class=line><span class=cl>git -C <span class=s2>&#34;</span><span class=nv>$HOME</span><span class=s2>/Data/Config&#34;</span> pull  
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl><span class=c1># ssh 连接时,不要打印 系统版本和版权信息  </span>
</span></span><span class=line><span class=cl>touch <span class=s2>&#34;</span><span class=nv>$HOME</span><span class=s2>/.hushlogin&#34;</span>  
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl><span class=c1># ffmpeg 安装  </span>
</span></span><span class=line><span class=cl>sudo apt install ffmpeg  
</span></span><span class=line><span class=cl><span class=c1># 下载 m3u8 视频  </span>
</span></span><span class=line><span class=cl>ffmpeg -i <span class=s2>&#34;https://aa.ww.bb/mixed.m3u8&#34;</span> -c copy -bsf:a aac_adtstoasc output.mp4</span></span></code></pre></td></tr></table></div></div><div class=code-scroll aria-label=代码块滚动工具栏><button class="code-scroll-left iconfont-logan icon-logan-circle-left-solid" aria-label=向左滚动></button>
<button class="code-scroll-right iconfont-logan icon-logan-circle-right-solid" aria-label=向右滚动></button></div><div class=code-tools aria-label=代码块工具栏><div class=copy-text>Copied!</div><button class="copy-code-button iconfont-logan icon-logan-copy-round3" aria-label=复制></button>
<button class="my-code-fold iconfont-logan icon-logan-circle-chevron-down-solid expand1" aria-label=折叠></button></div></div></section><footer class=article-footer><section class=article-tags><a href=/tags/linux/>Linux</a>
<a href=/tags/debian/>Debian</a></section><section class=article-copyright><svg class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg>
<span>true</span></section><section class=article-lastmod><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<span>最后更新于 2024年12月5日 04:04</span></section></footer></article><aside class=related-content--wrapper><h2 class=section-title>相关文章</h2><div class=related-content><div class="flex article-list--tile"><article class=has-image><a href=/articles/linux/vim/><div class=article-image><img src=https://logan.1357810.xyz/cover/pic_105.jpg loading=lazy decoding=async data-key=vim data-hash=https://logan.1357810.xyz/cover/pic_105.jpg></div><div class=article-details><h2 class=article-title>Vim使用教程</h2></div></a></article><article><a href=/articles/linux/tmux/><div class=article-details><h2 class=article-title>Tmux使用教程</h2></div></a></article><article><a href=/articles/linux/linux-command/><div class=article-details><h2 class=article-title>linux常用命令</h2></div></a></article><article><a href=/articles/linux/linux-nohup/><div class=article-details><h2 class=article-title>nohup命令</h2></div></a></article><article><a href=/articles/linux/ohmyzsh/><div class=article-details><h2 class=article-title>ohmyzsh使用教程</h2></div></a></article></div></div></aside><link rel=preload as=style onload='this.rel="stylesheet"' href=https://cdn.bootcdn.net/ajax/libs/waline/2.15.8/waline.min.css crossorigin=anonymous><script src=https://cdn.bootcdn.net/ajax/libs/waline/2.15.8/waline.min.js crossorigin=anonymous></script><div id=waline class=waline-container></div><style>.waline-container{background-color:var(--card-background);border-radius:var(--card-border-radius);box-shadow:var(--shadow-l1);padding:var(--card-padding);--waline-font-size:var(--article-font-size)}.waline-container .wl-count{color:var(--card-text-color-main)}</style><script>Waline.init({copyright:!1,dark:'html[data-scheme="dark"]',el:"#waline",emoji:["https://unpkg.com/@waline/emojis@1.2.0/weibo"],lang:"zh-cn",locale:{admin:"Admin",placeholder:null},requiredMeta:["nick"],serverURL:"https://waline.1357810.xyz/",turnstileKey:"0x4AAAAAAAZ2cXI-LS3tIUAh",wordLimit:100})</script><footer class=site-footer><section class=copyright>&copy;
2020 -
2025 &nbsp;&nbsp;by &nbsp; logan</section><section class=powerby>发表了90篇文章 ·
总计613.27k字</section><section class=powerby><div class=powerby><span id=busuanzi_container_site_pv>本站总访问量<span id=busuanzi_value_site_pv></span>次
</span><span id=busuanzi_container_site_uv>本站访客数<span id=busuanzi_value_site_uv></span>人次</span></div></section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div></main></div><script type=text/javascript src=/ts/main.js defer></script><a href=javascript:void(0) class=right_things id=back-to-top title=返回顶部></a><style>html{scroll-behavior:smooth}#back-to-top{z-index:998!important;transition:1.5s ease,opacity 2s ease,visibility 2s ease,right .8s ease;opacity:0;display:inline-block;visibility:hidden;position:fixed;bottom:10px;right:10px;width:55px;height:55px;font-size:30px;text-align:center;line-height:50px;border-radius:20px;box-shadow:var(--shadow-l1);cursor:pointer;color:var(--body-text-color);background-image:linear-gradient(-20deg,#e9defa 0%,#fbfcdb 100%); [data-scheme="dark"] & { background-image: linear-gradient(60deg, #241348 0%, #4d0404 100%); }}#back-to-top:before{content:' ';display:inline-block;position:relative;top:0;transform:rotate(135deg);height:10px;width:10px;border-width:0 0 2px 2px;border-style:solid}#back-to-top:hover{transform:scale(1.1,1.1);background-image:linear-gradient(-225deg,#E3FDF5 0%,#FFE6FA 100%); [data-scheme="dark"] & { background-image: linear-gradient(60deg, #432581 0%, #861818 100%); }}#back-to-top:hover:before{border-color:#2674e0}@media screen and (max-width:768px){#back-to-top{width:35px;height:35px;font-size:10px;right:15px}}</style><script>function resizeRight(){var t=document.querySelectorAll(".right_things"),e=window.innerWidth;t.length>0&&t.forEach(function(t){e>2100?t.style.right="280px":e>1800?t.style.right="120px":e<1800&&(t.style.right="10px")})}window.addEventListener("resize",function(){requestAnimationFrame(resizeRight)});function backToTop(){window.scrollTo({top:0,behavior:"smooth"})}window.onload=function(){requestAnimationFrame(resizeRight);var t=this.document.documentElement.scrollTop||this.document.body.scrollTop,e=this.document.getElementById("back-to-top");t>0?(e.style.visibility="visible",e.style.opacity="1"):(e.style.opacity="0",e.style.visibility="hidden")},window.onscroll=function(){var t=this.document.documentElement.scrollTop||this.document.body.scrollTop,e=this.document.getElementById("back-to-top");t<400?(e.style.opacity="0",e.style.visibility="hidden"):(e.style.visibility="visible",e.style.opacity="1",e.addEventListener("click",backToTop,!1))}</script><style>.toggle-toc-inner,.toggle-toc-inner svg{z-index:1!important;pointer-events:none}.toggle-toc-inner{width:100%;height:100%;display:flex;align-items:center;justify-content:center}.toggle-toc-inner svg{display:none}#toc-container{display:none;position:fixed;bottom:120px;right:80px;padding:5px;border:1px solid #96979a50;border-radius:var(--card-border-radius);box-shadow:rgba(14,30,37,.12)0 2px 4px,rgba(14,30,37,.32)0 2px 16px;z-index:997!important;max-height:80vh;overflow-y:auto;width:auto;max-width:500px;background-image:linear-gradient(-20deg,#e9defa 0%,#fbfcdb 100%); [data-scheme="dark"] & { background-image: linear-gradient(60deg, #241348 0%, #4d0404 100%); color: #FFFFFFB2; }}#TableOfContents{background-image:linear-gradient(-20deg,#e9defa 0%,#fbfcdb 100%); [data-scheme="dark"] & { background-image: linear-gradient(60deg, #241348 0%, #4d0404 100%); }}#TableOfContents a:hover{font-weight:bolder}[data-scheme=dark] #TableOfContents a{color:#ffffffb2}[data-scheme=dark] #TableOfContents a:hover{color:#052ed3}#toggle-toc{transition:1.5s ease,opacity 2s ease,visibility 2s ease,right .8s ease;opacity:0;display:block;visibility:hidden;position:fixed;bottom:75px;right:10px;width:55px;height:55px;font-size:1.7rem;padding:5px;z-index:1000!important;border:0 solid #96979a50;border-radius:20px;box-shadow:var(--shadow-l1);color:#707070;cursor:pointer;background-image:linear-gradient(-20deg,#e9defa 0%,#fbfcdb 100%); [data-scheme="dark"] & { background-image: linear-gradient(60deg, #241348 0%, #4d0404 100%); color: #FFFFFFB2; } animation: jump 0.3s 4;animation-delay:.6s}#toggle-toc:hover{transform:scale(1.1,1.1);background-image:linear-gradient(-225deg,#E3FDF5 0%,#FFE6FA 100%); [data-scheme="dark"] & { background-image: linear-gradient(60deg, #432581 0%, #861818 100%); }}.widget--toc #TableOfContents{overflow-x:auto;max-height:66vh;width:auto}.toggle-toc-inner::before{content:'目录'}@media screen and (max-width:1280px){#toc-container{bottom:100px;right:70px;max-width:400px}}@media screen and (max-width:768px){#toggle-toc{width:35px;height:35px;font-size:10px;bottom:60px;right:15px}.toggle-toc-inner::before{content:''}.toggle-toc-inner svg{display:block}#toc-container{bottom:100px;right:60px;max-width:290px}}</style><a id=toggle-toc class=right_things title=目录 href=javascript:void(0)><div class=toggle-toc-inner><svg class="icon icon-tabler icon-tabler-menu-2" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 6h16"/><path d="M4 12h16"/><path d="M4 18h16"/></svg></div></a><section class="widget archives" id=toc-container><h2 class=section-title style=padding-left:10px>目录</h2><div class=widget--toc><nav id=TableOfContents><ol><li><a href=#debian的安装>debian的安装</a><ol><li><ol><li><a href=#详细文档->详细文档 :</a></li><li><a href=#一键装机脚本见我的github>一键装机脚本见我的GitHub:</a></li></ol></li><li><a href=#一debian虚拟机的安装>一、debian虚拟机的安装</a><ol><li><a href=#1用虚拟机安装debian12>1、用虚拟机安装debian12</a></li></ol></li><li><a href=#二debian的环境搭建>二、debian的环境搭建</a><ol><li><a href=#1软件包的源配置>1、软件包的源配置</a><ol><li><a href=#a备份原来的>a、备份原来的</a></li><li><a href=#b解释>b、解释</a></li><li><a href=#c使用官方的源需要梯子>c、使用官方的源(需要梯子)</a><ol><li><a href=#idebian12>I、debian12</a></li></ol></li><li><a href=#d使用国内镜像源>d、使用国内镜像源</a></li><li><a href=#e更新>e、更新</a></li><li><a href=#fapt相关命令>f、apt相关命令</a></li></ol></li><li><a href=#2网络配置>2、网络配置</a><ol><li><a href=#0resolvconf>0、resolvconf</a></li><li><a href=#a原始配置的解释>a、原始配置的解释</a></li><li><a href=#b静态ipdns配置>b、静态ip+dns配置</a></li><li><a href=#c配置默认语言>c、配置默认语言</a></li><li><a href=#d-重新配置键盘布局>d 、重新配置键盘布局</a></li><li><a href=#e安装-sudo>e、安装 sudo</a></li><li><a href=#f前置软件安装>f、前置软件安装</a></li><li><a href=#f允许root直接登录>f、允许root直接登录</a></li><li><a href=#g-虚拟机克隆的情况>g 、虚拟机克隆的情况</a></li></ol></li></ol></li></ol></li><li><a href=#三以下配置可以用脚本执行>三、以下配置可以用脚本执行</a><ol><li><ol><li><a href=#1安装shell插件>1、安装shell插件</a></li><li><a href=#2环境搭建>2、环境搭建</a></li><li><a href=#3安装必备工具>3、安装必备工具</a></li><li><a href=#4命令行工具>4、命令行工具</a></li><li><a href=#5文件上传下载服务>5、文件上传下载服务</a><ol><li><a href=#adufs>a、dufs</a></li><li><a href=#bfilebrowser>b、filebrowser</a></li><li><a href=#c开启-sftp-服务>c、开启 sftp 服务</a></li><li><a href=#d-开启-ftp-服务>d 、开启 ftp 服务</a></li><li><a href=#eminio>e、minio</a></li></ol></li><li><a href=#四可选>四、可选</a><ol><li><a href=#apipx>a、pipx</a></li><li><a href=#bclash>b、clash</a></li><li><a href=#c卸载-apache2>c、卸载 apache2</a></li></ol></li><li><a href=#五后续更新>五、后续更新</a></li></ol></li></ol></li></ol></nav></div></section><script>var toggleButton=document.getElementById("toggle-toc"),tocContainer=document.getElementById("toc-container"),scrollThreshold=400;function extracted(){var e=window.scrollY||window.pageYOffset;e>=scrollThreshold?(toggleButton.style.visibility="visible",toggleButton.style.opacity="1"):(toggleButton.style.opacity="0",toggleButton.style.visibility="hidden")}window.addEventListener("scroll",function(){extracted()}),window.onload=function(){extracted()},toggleButton.addEventListener("click",function(e){tocContainer.style.display==="none"||tocContainer.style.display===""?tocContainer.style.display="block":tocContainer.style.display="none",e.stopPropagation()}),"ontouchstart"in window||toggleButton.addEventListener("mouseover",function(){tocContainer.style.display="block"}),document.addEventListener("click",function(e){!tocContainer.contains(e.target)&&!toggleButton.contains(e.target)&&e.target!==toggleButton&&e.target!==tocContainer&&(tocContainer.style.display="none")})</script><script>var bszCaller,bszTag;!function(){var e,s,o,t=!1,n=[];ready=function(e){return t||"interactive"===document.readyState||"complete"===document.readyState?e.call(document):n.push(function(){return e.call(this)}),this},o=function(){for(var e=0,t=n.length;t>e;e++)n[e].apply(document);n=[]},e=function(){t||(t=!0,o.call(window),document.removeEventListener?document.removeEventListener("DOMContentLoaded",e,!1):document.attachEvent&&(document.detachEvent("onreadystatechange",e),window==window.top&&(clearInterval(s),s=null)))},document.addEventListener?document.addEventListener("DOMContentLoaded",e,!1):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){/loaded|complete/.test(document.readyState)&&e()}),window==window.top&&(s=setInterval(function(){try{t||document.documentElement.doScroll("left")}catch{return}e()},5)))}(),bszCaller={fetch:function(e,t){var n="BusuanziCallback_"+Math.floor(1099511627776*Math.random());window[n]=this.evalCall(t),e=e.replace("=BusuanziCallback","="+n),scriptTag=document.createElement("SCRIPT"),scriptTag.type="text/javascript",scriptTag.defer=!0,scriptTag.src=e,scriptTag.referrerPolicy="no-referrer-when-downgrade",document.getElementsByTagName("HEAD")[0].appendChild(scriptTag)},evalCall:function(e){return function(t){ready(function(){try{e(t),scriptTag.parentElement.removeChild(scriptTag)}catch{bszTag.hides()}})}}},bszCaller.fetch("//busuanzi.ibruce.info/busuanzi?jsonpCallback=BusuanziCallback",function(e){bszTag.texts(e),bszTag.shows()}),bszTag={bszs:["site_pv","page_pv","site_uv"],texts:function(e){this.bszs.map(function(t){var n=document.getElementById("busuanzi_value_"+t);n&&(n.innerHTML=e[t])})},hides:function(){this.bszs.map(function(e){var t=document.getElementById("busuanzi_container_"+e);t&&(t.style.display="none")})},shows:function(){this.bszs.map(function(e){var t=document.getElementById("busuanzi_container_"+e);t&&(t.style.display="inline")})}}</script><script>function loadScript(e,t){var n=document.querySelector('script[src="'+e+'"]'),s=!1;n.onload=function(){s||(s=!0,t&&window[t]())},n.onreadystatechange=function(){!s&&(n.readyState==="loaded"||n.readyState==="complete")&&(s=!0,t&&window[t]())}}</script></body></html>