/*! PhotoSwipe Default UI - 4.1.3 - 2019-01-08
* http://photoswipe.com
* Copyright (c) 2019 Dmitry Semenov; */(function(e,t){typeof define=="function"&&define.amd?define(t):typeof exports=="object"?module.exports=t():e.PhotoSwipeUI_Default=t()})(this,function(){"use strict";var e=function(e,t){var n,o,i,a,l,d,h,g,v,y,_,x,C,S,F,T,z,D,W,s=this,w=!1,c=!0,r=!0,N={barsSize:{top:44,bottom:"auto"},closeElClasses:["item","caption","zoom-wrap","ui","top-bar"],timeToIdle:4e3,timeToIdleOutside:1e3,loadingIndicatorDelay:1e3,addCaptionHTMLFn:function(e,t){return e.title?(t.children[0].innerHTML=e.title,!0):(t.children[0].innerHTML="",!1)},closeEl:!0,captionEl:!0,fullscreenEl:!0,zoomEl:!0,shareEl:!0,counterEl:!0,arrowEl:!0,preloaderEl:!0,tapToClose:!1,tapToToggleControls:!0,clickToCloseNonZoomable:!0,shareButtons:[{id:"facebook",label:"Share on Facebook",url:"https://www.facebook.com/sharer/sharer.php?u={{url}}"},{id:"twitter",label:"Tweet",url:"https://twitter.com/intent/tweet?text={{text}}&url={{url}}"},{id:"pinterest",label:"Pin it",url:"http://www.pinterest.com/pin/create/button/?url={{url}}&media={{image_url}}&description={{text}}"},{id:"download",label:"Download image",url:"{{raw_image_url}}",download:!0}],getImageURLForShare:function(){return e.currItem.src||""},getPageURLForShare:function(){return window.location.href},getTextForShare:function(){return e.currItem.title||""},indexIndicatorSep:" / ",fitControlsWidth:1200},E=function(e){if(g)return!0;e=e||window.event,n.timeToIdle&&n.mouseUsed&&!v&&b();for(var s,i,a,r=e.target||e.srcElement,c=r.getAttribute("class")||"",o=0;o<p.length;o++)s=p[o],s.onTap&&c.indexOf("pswp__"+s.name)>-1&&(s.onTap(),i=!0);i&&(e.stopPropagation&&e.stopPropagation(),g=!0,a=t.features.isOldAndroid?600:30,W=setTimeout(function(){g=!1},a))},I=function(){return!e.likelyTouchDevice||n.mouseUsed||screen.width>n.fitControlsWidth},u=function(e,n,s){t[(s?"add":"remove")+"Class"](e,"pswp__"+n)},k=function(){var e=n.getNumItemsFn()===1;e!==z&&(u(o,"ui--one-slide",e),z=e)},A=function(){u(l,"share-modal--hidden",r)},m=function(){return r=!r,r?(t.removeClass(l,"pswp__share-modal--fade-in"),setTimeout(function(){r&&A()},300)):(A(),setTimeout(function(){r||t.addClass(l,"pswp__share-modal--fade-in")},30)),r||L(),!1},R=function(t){t=t||window.event;var n=t.target||t.srcElement;return e.shout("shareLinkClick",t,n),!!n.href&&(!!n.hasAttribute("download")||(window.open(n.href,"pswp_share","scrollbars=yes,resizable=yes,toolbar=no,location=yes,width=550,height=420,top=100,left="+(window.screen?Math.round(screen.width/2-275):100)),r||m(),!1))},L=function(){for(var e,s,i,a,r,t="",o=0;o<n.shareButtons.length;o++)e=n.shareButtons[o],s=n.getImageURLForShare(e),a=n.getPageURLForShare(e),r=n.getTextForShare(e),i=e.url.replace("{{url}}",encodeURIComponent(a)).replace("{{image_url}}",encodeURIComponent(s)).replace("{{raw_image_url}}",s).replace("{{text}}",encodeURIComponent(r)),t+='<a href="'+i+'" target="_blank" class="pswp__share--'+e.id+'"'+(e.download?"download":"")+">"+e.label+"</a>",n.parseShareButtonOut&&(t=n.parseShareButtonOut(e,t));l.children[0].innerHTML=t,l.children[0].onclick=R},O=function(e){for(var s=0;s<n.closeElClasses.length;s++)if(t.hasClass(e,"pswp__"+n.closeElClasses[s]))return!0},j=0,b=function(){clearTimeout(y),j=0,v&&s.setIdle(!1)},M=function(e){e=e||window.event;var t=e.relatedTarget||e.toElement;(!t||t.nodeName==="HTML")&&(clearTimeout(y),y=setTimeout(function(){s.setIdle(!0)},n.timeToIdleOutside))},P=function(){n.fullscreenEl&&!t.features.isOldAndroid&&(a||(a=s.getFullscreenAPI()),a?(t.bind(document,a.eventK,s.updateFullscreen),s.updateFullscreen(),t.addClass(e.template,"pswp--supports-fs")):t.removeClass(e.template,"pswp--supports-fs"))},H=function(){n.preloaderEl&&(f(!0),i("beforeChange",function(){clearTimeout(D),D=setTimeout(function(){e.currItem&&e.currItem.loading?(!e.allowProgressiveImg()||e.currItem.img&&!e.currItem.img.naturalWidth)&&f(!1):f(!0)},n.loadingIndicatorDelay)}),i("imageLoadComplete",function(t,n){e.currItem===n&&f(!0)}))},f=function(e){T!==e&&(u(F,"preloader--active",!e),T=e)},B=function(e){var i,a,s=e.vGap;I()?(i=n.barsSize,n.captionEl&&i.bottom==="auto"?(d||(d=t.createEl("pswp__caption pswp__caption--fake"),d.appendChild(t.createEl("pswp__caption__center")),o.insertBefore(d,h),t.addClass(o,"pswp__ui--fit")),n.addCaptionHTMLFn(e,d,!0)?(a=d.clientHeight,s.bottom=parseInt(a,10)||44):s.bottom=i.top):s.bottom=i.bottom==="auto"?0:i.bottom,s.top=i.top):s.top=s.bottom=0},V=function(){n.timeToIdle&&i("mouseUsed",function(){t.bind(document,"mousemove",b),t.bind(document,"mouseout",M),_=setInterval(function(){j++,j===2&&s.setIdle(!0)},n.timeToIdle/2)})},$=function(){i("onVerticalDrag",function(e){c&&e<.95?s.hideControls():!c&&e>=.95&&s.showControls()});var e;i("onPinchClose",function(t){c&&t<.9?(s.hideControls(),e=!0):e&&!c&&t>.9&&s.showControls()}),i("zoomGestureEnded",function(){e=!1,e&&!c&&s.showControls()})},p=[{name:"caption",option:"captionEl",onInit:function(e){h=e}},{name:"share-modal",option:"shareEl",onInit:function(e){l=e},onTap:function(){m()}},{name:"button--share",option:"shareEl",onInit:function(e){C=e},onTap:function(){m()}},{name:"button--zoom",option:"zoomEl",onTap:e.toggleDesktopZoom},{name:"counter",option:"counterEl",onInit:function(e){S=e}},{name:"button--close",option:"closeEl",onTap:e.close},{name:"button--arrow--left",option:"arrowEl",onTap:e.prev},{name:"button--arrow--right",option:"arrowEl",onTap:e.next},{name:"button--fs",option:"fullscreenEl",onTap:function(){a.isFullscreen()?a.exit():a.enter()}},{name:"preloader",option:"preloaderEl",onInit:function(e){F=e}}],U=function(){var e,s,i,a,r=function(o){if(!o)return;for(var i,c=o.length,r=0;r<c;r++){e=o[r],a=e.className;for(i=0;i<p.length;i++)s=p[i],a.indexOf("pswp__"+s.name)>-1&&(n[s.option]?(t.removeClass(e,"pswp__element--disabled"),s.onInit&&s.onInit(e)):t.addClass(e,"pswp__element--disabled"))}};r(o.children),i=t.getChildByClass(o,"pswp__top-bar"),i&&r(i.children)};s.init=function(){t.extend(e.options,N,!0),n=e.options,o=t.getChildByClass(e.scrollWrap,"pswp__ui"),i=e.listen,$(),i("beforeChange",s.update),i("doubleTap",function(t){var s=e.currItem.initialZoomLevel;e.getZoomLevel()!==s?e.zoomTo(s,t,333):e.zoomTo(n.getDoubleTapZoom(!1,e.currItem),t,333)}),i("preventDragEvent",function(e,t,n){var s=e.target||e.srcElement;s&&s.getAttribute("class")&&e.type.indexOf("mouse")>-1&&(s.getAttribute("class").indexOf("__caption")>0||/(SMALL|STRONG|EM)/i.test(s.tagName))&&(n.prevent=!1)}),i("bindEvents",function(){t.bind(o,"pswpTap click",E),t.bind(e.scrollWrap,"pswpTap",s.onGlobalTap),e.likelyTouchDevice||t.bind(e.scrollWrap,"mouseover",s.onMouseOver)}),i("unbindEvents",function(){r||m(),_&&clearInterval(_),t.unbind(document,"mouseout",M),t.unbind(document,"mousemove",b),t.unbind(o,"pswpTap click",E),t.unbind(e.scrollWrap,"pswpTap",s.onGlobalTap),t.unbind(e.scrollWrap,"mouseover",s.onMouseOver),a&&(t.unbind(document,a.eventK,s.updateFullscreen),a.isFullscreen()&&(n.hideAnimationDuration=0,a.exit()),a=null)}),i("destroy",function(){n.captionEl&&(d&&o.removeChild(d),t.removeClass(h,"pswp__caption--empty")),l&&(l.children[0].onclick=null),t.removeClass(o,"pswp__ui--over-close"),t.addClass(o,"pswp__ui--hidden"),s.setIdle(!1)}),n.showAnimationDuration||t.removeClass(o,"pswp__ui--hidden"),i("initialZoomIn",function(){n.showAnimationDuration&&t.removeClass(o,"pswp__ui--hidden")}),i("initialZoomOut",function(){t.addClass(o,"pswp__ui--hidden")}),i("parseVerticalMargin",B),U(),n.shareEl&&C&&l&&(r=!0),k(),V(),P(),H()},s.setIdle=function(e){v=e,u(o,"ui--idle",e)},s.update=function(){c&&e.currItem?(s.updateIndexIndicator(),n.captionEl&&(n.addCaptionHTMLFn(e.currItem,h),u(h,"caption--empty",!e.currItem.title)),w=!0):w=!1,r||m(),k()},s.updateFullscreen=function(n){n&&setTimeout(function(){e.setScrollOffset(0,t.getScrollY())},50),t[(a.isFullscreen()?"add":"remove")+"Class"](e.template,"pswp--fs")},s.updateIndexIndicator=function(){n.counterEl&&(S.innerHTML=e.getCurrentIndex()+1+n.indexIndicatorSep+n.getNumItemsFn())},s.onGlobalTap=function(o){o=o||window.event;var i=o.target||o.srcElement;if(g)return;if(o.detail&&o.detail.pointerType==="mouse"){if(O(i)){e.close();return}t.hasClass(i,"pswp__img")&&(e.getZoomLevel()===1&&e.getZoomLevel()<=e.currItem.fitRatio?n.clickToCloseNonZoomable&&e.close():e.toggleDesktopZoom(o.detail.releasePoint))}else if(n.tapToToggleControls&&(c?s.hideControls():s.showControls()),n.tapToClose&&(t.hasClass(i,"pswp__img")||O(i))){e.close();return}},s.onMouseOver=function(e){e=e||window.event;var t=e.target||e.srcElement;u(o,"ui--over-close",O(t))},s.hideControls=function(){t.addClass(o,"pswp__ui--hidden"),c=!1},s.showControls=function(){c=!0,w||s.update(),t.removeClass(o,"pswp__ui--hidden")},s.supportsFullscreen=function(){var e=document;return!!(e.exitFullscreen||e.mozCancelFullScreen||e.webkitExitFullscreen||e.msExitFullscreen)},s.getFullscreenAPI=function(){var t,s=document.documentElement,o="fullscreenchange";return s.requestFullscreen?t={enterK:"requestFullscreen",exitK:"exitFullscreen",elementK:"fullscreenElement",eventK:o}:s.mozRequestFullScreen?t={enterK:"mozRequestFullScreen",exitK:"mozCancelFullScreen",elementK:"mozFullScreenElement",eventK:"moz"+o}:s.webkitRequestFullscreen?t={enterK:"webkitRequestFullscreen",exitK:"webkitExitFullscreen",elementK:"webkitFullscreenElement",eventK:"webkit"+o}:s.msRequestFullscreen&&(t={enterK:"msRequestFullscreen",exitK:"msExitFullscreen",elementK:"msFullscreenElement",eventK:"MSFullscreenChange"}),t&&(t.enter=function(){if(x=n.closeOnScroll,n.closeOnScroll=!1,this.enterK==="webkitRequestFullscreen")e.template[this.enterK](Element.ALLOW_KEYBOARD_INPUT);else return e.template[this.enterK]()},t.exit=function(){return n.closeOnScroll=x,document[this.exitK]()},t.isFullscreen=function(){return document[this.elementK]}),t}};return e})