(function(e,t){typeof exports=="object"&&typeof module!="undefined"?t(exports):typeof define=="function"&&define.amd?define(["exports"],t):(e=typeof globalThis!="undefined"?globalThis:e||self,t(e.echarts={}))})(this,function(e){/*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
    Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *//*!
  * ZRender, a high performance 2d drawing library.
  *
  * Copyright (c) 2013, Baidu Inc.
  * All rights reserved.
  *
  * LICENSE
  * https://github.com/ecomfe/zrender/blob/master/LICENSE.txt
  */"use strict";var l,h,f,p,b,j,y,O,C,A,T,D,P,H,I,V,$,q,Y,Q,Z,u1=function(e,t){return u1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},u1(e,t)},Lp,Tp,sc,Op,St,wp,_p,fp,mp,Ae,yc,Oc,On,mi,Q6,Y6,Rr,V6,Mc,Ko,zr,P6,x6,Uc,Kc,Yc,o6,zf,Ef,pi,en,K8,Fn,U8,qe,W8,Dl,Ki,h8,Yi,u8,cs,Pm,Ca,nd,gm,Cs,om,gd,Sd,As,ae,Ks,Sn,Id,M3,E3,vr,Ss,No,jt,Po,nu,du,Gs,He,ve,pn,L2,D2,bu,T2,$n,yu,ku,zi,s2,J0,X0,Hr,Ro,Lo,Qu,Es,jr,br,Ju,Pn,z0,ur,T0,M0,nr,tr,t1,s1,f0,ke,Xa,j1,s0,x1,so,Pi,Wa,Va,Q4,I4,S1,M1,Vt,Dn,Ta,Sa,Eo,Ts,Mo,Fo,Pt,Rt,zt,Tt,xs,Os,D1,xa,Oa,w4,_n,_4,Jo,rs,At,t4,i0,j0,h1,o1,K0,e2,M2,ju,e3,lu,g3,iu,nh,rn,Zh,hn,fd,T8,V8,G8,Q8,or,lr,l6,Wc,p6,K6,xr,un,Io,_c,sp,bs,Mr,Fr,ue,we,Nr,Lr,Gt,qo,Xo,ii,vc,gc,nn,an,Ze,_t,Ke,Je,ec,tc,Ft,It,ot,ic,mt,pr,ns,Jt,pc,ls,gt,Ht,np,_e,zc,D6,yr,T6,To,_6,b6,Pe,En,r6,n6,Qc,Zc,Xf,Yf,qf,sl,_f,gl,vl,bl,dr,yl,rr,ar,et,mo,q8,$8,ln,io,Ws,Wo,Hn,zl,bn,Vh,kd,Bh,Ra,po,_o,Ds,lh,rh,Bd,Q3,ms,$3,Go,Qd,wa,sn,wn,C3,su,is,ss,$e,Me,n3,Ci,t3,Ei,z2,Qn,F2,Ln,S2,k2,Lt,ee,O2,Mi,b2,Wn,Fu,Tu,Bi,Du,Nt,Dt,lo,Ri,Ni,Q0,Bu,Si,Ai,Gi,S0,r1,y0,$4,vi,P1,H1,I1,aa,v4,ca,la,p4,G1,f4,u4,Z1,o4,Wh,n4,r4,c4,di,ma,ds,oi,fa,X1,pa,ba,us,he,V1,fs,Uo,R1,Ea,N1,Vs,t0,n0,_1,Ka,Zs,p0,Qt,b0,E0,e1,kn,F0,sr,be,xe,at,it,Yu,Ue,jn,oe,Ku,G0,Iu,Wr,Gr,ji,o2,Xr,Pu,r2,c2,ki,Jr,v2,Su,nc,Un,J1,w2,ye,Vn,wu,V2,$2,Kr,Yo,gn,fn,yn,m3,f3,cu,ru,v3,au,y3,kr,O3,k3,A3,F3,Jd,D3,Zd,R3,Xd,H3,B3,Yd,Js,J3,eh,Ud,Wd,$d,Vd,za,Rd,Ld,gh,vh,Aa,ht,Ph,Te,vd,Qh,Re,sm,Do,pd,md,cd,id,hm,pm,ws,vm,bm,Bo,sd,Am,hs,Ql,ya,Xl,Rm,Gl,li,ql,Kl,$m,da,Ul,Km,qm,e8,t8,n8,s8,o8,i8,a8,r8,c8,Zi,d8,w8,Fl,Ml,Sl,Al,kl,El,sa,Ol,wl,De,ti,jl,mf,ff,pf,gf,vf,bf,jf,yf,pl,wf,va,fl,Cf,ei,kf,Af,Sf,hl,ul,ja,cl,_a,rl,Pf,Hf,al,il,ks,ol,Ma,kt,el,Jc,Xc,jo,fo,e6,t6,Gc,s6,Ia,i6,a6,Ee,c6,uo,$a,u6,ho,Ls,mr,fr,So,Ic,_r,Bt,Ho,w6,O6,Cr,A6,Sc,xc,X6,J6,ep,gi,ap,rp,jc,Zn,yt,pp,gp,bc,bp,jp,yp,Zr,Fi,Gn,fc,oc,mc,hc,zp,Np,We,Fp,uc,Cc,Ut,js,S6,df,_l,fi,xl,Jn,H8,P8,L8,wi,de,qi,Rl,p8,f8,m8,km,Em,Cm,td,Om,ym,Gh,xd,Ed,Ad,Nh,Ah,kh,Ch,Oh,wh,Hs,Gd,V3,ps,dn,s3,Fe,tn,re,Mn,Bn,Cu,$t,Hu,ie,Vr,Y0,Zo,$0,er,Ga,g1,Yt,ro,W4,D4,T4,F4,g4,i4,O4,E4,k4,e0,ta,c0,w0,O0,oa,p3,on,rc,Fa,ih,xt,Et,hd,Um,l8,Rf,nt,Kf,R6,Ac,vp,dc,_2,kp,Tr,G6,Qf,Gf,z8,A8,Cd,Dh,Ms,Z3,Vo,V0,n1,K1,s4,l4,Q1,h4,m4,ni,z1,B4,p1,Xu,Ie,W0,Uu,$r,i2,u2,A2,ah,bh,Lh,yd,od,Im,Wm,b8,Hl,C8,Y8,cf,lf,Of,Uf,y6,F6,Qr,Cp;function o(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");u1(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}Lp=function(){function e(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1}return e}(),Tp=function(){function e(){this.browser=new Lp,this.node=!1,this.wxa=!1,this.worker=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1,this.hasGlobalWindow=typeof window!="undefined"}return e}(),l=new Tp,typeof wx=="object"&&typeof wx.getSystemInfoSync=="function"?(l.wxa=!0,l.touchEventsSupported=!0):typeof document=="undefined"&&typeof self!="undefined"?l.worker=!0:typeof navigator=="undefined"?(l.node=!0,l.svgSupported=!0):Pj(navigator.userAgent,l);function Pj(e,t){var s,n=t.browser,i=e.match(/Firefox\/([\d.]+)/),a=e.match(/MSIE\s([\d.]+)/)||e.match(/Trident\/.+?rv:(([\d.]+))/),o=e.match(/Edge?\/([\d.]+)/),r=/micromessenger/i.test(e);i&&(n.firefox=!0,n.version=i[1]),a&&(n.ie=!0,n.version=a[1]),o&&(n.edge=!0,n.version=o[1],n.newEdge=+o[1].split(".")[0]>18),r&&(n.weChat=!0),t.svgSupported=typeof SVGRect!="undefined",t.touchEventsSupported="ontouchstart"in window&&!n.ie&&!n.edge,t.pointerEventsSupported="onpointerdown"in window&&(n.edge||n.ie&&+n.version>=11),t.domSupported=typeof document!="undefined",s=document.documentElement.style,t.transform3dSupported=(n.ie&&"transition"in s||n.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in s)&&!("OTransition"in s),t.transformSupported=t.transform3dSupported||n.ie&&+n.version>=9}sc=12,Op="sans-serif",St=sc+"px "+Op,wp=20,_p=100,fp="007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N";function Rj(e){var t,s,o,n={};if(typeof JSON=="undefined")return n;for(t=0;t<e.length;t++)s=String.fromCharCode(t+32),o=(e.charCodeAt(t)-wp)/_p,n[s]=o;return n}mp=Rj(fp),Ae={createCanvas:function(){return typeof document!="undefined"&&document.createElement("canvas")},measureText:function(){var e,t;return function(n,s){if(!e){var o,i,a,r,c,l=Ae.createCanvas();e=l&&l.getContext("2d")}if(e)return t!==s&&(t=e.font=s||St),e.measureText(n);if(n=n||"",s=s||St,r=/^([0-9]*?)px$/.exec(s),o=+(r&&r[1])||sc,i=0,s.indexOf("mono")>=0)i=o*n.length;else for(a=0;a<n.length;a++)c=mp[n[a]],i+=c==null?o:c*o;return{width:i}}}(),loadImage:function(e,t,n){var s=new Image;return s.onload=t,s.onerror=n,s.src=e,s}};function ip(e){for(var t in Ae)e[t]&&(Ae[t]=e[t])}yc=tt(["Function","RegExp","Date","Error","CanvasGradient","CanvasPattern","Image","Canvas"],function(e,t){return e["[object "+t+"]"]=!0,e},{}),Oc=tt(["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64"],function(e,t){return e["[object "+t+"Array]"]=!0,e},{}),On=Object.prototype.toString,mi=Array.prototype,Q6=mi.forEach,Y6=mi.filter,Rr=mi.slice,V6=mi.map,Mc=function(){}.constructor,Ko=Mc?Mc.prototype:null,zr="__proto__",P6=2311;function Fc(){return P6++}function wt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];typeof console!="undefined"&&console.error.apply(console,t)}function c(e){if(e==null||typeof e!="object")return e;if(t=e,s=On.call(e),s==="[object Array]"){if(!Bs(e)){t=[];for(var t,s,o,i,n=0,a=e.length;n<a;n++)t[n]=c(e[n])}}else if(Oc[s]){if(!Bs(e))if(o=e.constructor,o.from)t=o.from(e);else{t=new o(e.length);for(n=0,a=e.length;n<a;n++)t[n]=e[n]}}else if(!yc[s]&&!Bs(e)&&!Fs(e)){t={};for(i in e)e.hasOwnProperty(i)&&i!==zr&&(t[i]=c(e[i]))}return t}function w(e,t,n){if(!a(t)||!a(e))return n?c(t):e;for(o in t)if(t.hasOwnProperty(o)&&o!==zr){var o,r=e[o],i=t[o];a(i)&&a(r)&&!s(i)&&!s(r)&&!Fs(i)&&!Fs(r)&&!Bc(i)&&!Bc(r)&&!Bs(i)&&!Bs(r)?w(r,i,n):(n||!(o in e))&&(e[o]=c(t[o]))}return e}function Lj(e,t){for(var n=e[0],s=1,o=e.length;s<o;s++)n=w(n,e[s],t);return n}function n(e,t){if(Object.assign)Object.assign(e,t);else for(var n in t)t.hasOwnProperty(n)&&n!==zr&&(e[n]=t[n]);return e}function x(e,t,n){for(var s,i=k(t),o=0;o<i.length;o++)s=i[o],(n?t[s]!=null:e[s]==null)&&(e[s]=t[s]);return e}x6=Ae.createCanvas;function _(e,t){if(e){if(e.indexOf)return e.indexOf(t);for(var n=0,s=e.length;n<s;n++)if(e[n]===t)return n}return-1}function Hc(e,t){var s,n=e.prototype;function o(){}o.prototype=t.prototype,e.prototype=new o;for(s in n)n.hasOwnProperty(s)&&(e.prototype[s]=n[s]);e.prototype.constructor=e,e.superClass=t}function Ye(e,t,n){if(e="prototype"in e?e.prototype:e,t="prototype"in t?t.prototype:t,Object.getOwnPropertyNames)for(var s,i=Object.getOwnPropertyNames(t),o=0;o<i.length;o++)s=i[o],s!=="constructor"&&(n?t[s]!=null:e[s]==null)&&(e[s]=t[s]);else x(e,t,n)}function B(e){return!!e&&typeof e!="string"&&typeof e.length=="number"}function t(e,t,n){if(!e||!t)return;if(e.forEach&&e.forEach===Q6)e.forEach(t,n);else if(e.length===+e.length)for(var o,s=0,i=e.length;s<i;s++)t.call(n,e[s],s,e);else for(o in e)e.hasOwnProperty(o)&&t.call(n,e[o],o,e)}function r(e,t,n){if(!e)return[];if(!t)return ir(e);if(e.map&&e.map===V6)return e.map(t,n);for(var o=[],s=0,i=e.length;s<i;s++)o.push(t.call(n,e[s],s,e));return o}function tt(e,t,n,s){if(!e||!t)return;for(var o=0,i=e.length;o<i;o++)n=t.call(s,n,e[o],o,e);return n}function F(e,t,n){if(!e)return[];if(!t)return ir(e);if(e.filter&&e.filter===Y6)return e.filter(t,n);for(var o=[],s=0,i=e.length;s<i;s++)t.call(n,e[s],s,e)&&o.push(e[s]);return o}function Dj(e,t,n){if(!e||!t)return;for(var s=0,o=e.length;s<o;s++)if(t.call(n,e[s],s,e))return e[s]}function k(e){if(!e)return[];if(Object.keys)return Object.keys(e);var n,t=[];for(n in e)e.hasOwnProperty(n)&&t.push(n);return t}function zj(e,t){for(var s=[],n=2;n<arguments.length;n++)s[n-2]=arguments[n];return function(){return e.apply(t,s.concat(Rr.call(arguments)))}}f=Ko&&d(Ko.bind)?Ko.call.bind(Ko.bind):zj;function se(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t];return function(){return e.apply(this,n.concat(Rr.call(arguments)))}}function s(e){return Array.isArray?Array.isArray(e):On.call(e)==="[object Array]"}function d(e){return typeof e=="function"}function i(e){return typeof e=="string"}function zo(e){return On.call(e)==="[object String]"}function E(e){return typeof e=="number"}function a(e){var t=typeof e;return t==="function"||!!e&&t==="object"}function Bc(e){return!!yc[On.call(e)]}function X(e){return!!Oc[On.call(e)]}function Fs(e){return typeof e=="object"&&typeof e.nodeType=="number"&&typeof e.ownerDocument=="object"}function ko(e){return e.colorStops!=null}function g6(e){return e.image!=null}function Vc(e){return On.call(e)==="[object RegExp]"}function zs(e){return e!==e}function bt(){for(e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var e,t,n=0,s=e.length;n<s;n++)if(e[n]!=null)return e[n]}function v(e,t){return e??t}function xo(e,t,n){return e??t??n}function ir(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t];return Rr.apply(e,n)}function $c(e){if(typeof e=="number")return[e,e,e,e];var t=e.length;return t===2?[e[0],e[1],e[0],e[1]]:t===3?[e[0],e[1],e[2],e[1]]:e}function u(e,t){if(!e)throw new Error(t)}function Xe(e){return e==null?null:typeof e.trim=="function"?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}Uc="__ec_primitive__";function eo(e){e[Uc]=!0}function Bs(e){return e[Uc]}Kc=function(){function e(n){this.data={};var o,a=s(n);this.data={},o=this,n instanceof e?n.each(i):n&&t(n,i);function i(e,t){a?o.set(e,t):o.set(t,e)}}return e.prototype.get=function(e){return this.data.hasOwnProperty(e)?this.data[e]:null},e.prototype.set=function(e,t){return this.data[e]=t},e.prototype.each=function(e,t){for(var n in this.data)this.data.hasOwnProperty(n)&&e.call(t,this.data[n],n)},e.prototype.keys=function(){return k(this.data)},e.prototype.removeKey=function(e){delete this.data[e]},e}();function m(e){return new Kc(e)}function d6(e,t){for(var o,s=new e.constructor(e.length+t.length),n=0;n<e.length;n++)s[n]=e[n];for(o=e.length,n=0;n<t.length;n++)s[n+o]=t[n];return s}function ao(e,t){if(Object.create)s=Object.create(e);else{var s,o=function(){};o.prototype=e,s=new o}return t&&n(s,t),s}function qc(e){var t=e.style;t.webkitUserSelect="none",t.userSelect="none",t.webkitTapHighlightColor="rgba(0,0,0,0)",t["-webkit-touch-callout"]="none"}function st(e,t){return e.hasOwnProperty(t)}function G(){}Yc=180/Math.PI,o6=Object.freeze({__proto__:null,HashMap:Kc,RADIAN_TO_DEGREE:Yc,assert:u,bind:f,clone:c,concatArray:d6,createCanvas:x6,createHashMap:m,createObject:ao,curry:se,defaults:x,disableUserSelect:qc,each:t,eqNaN:zs,extend:n,filter:F,find:Dj,guid:Fc,hasOwn:st,indexOf:_,inherits:Hc,isArray:s,isArrayLike:B,isBuiltInObject:Bc,isDom:Fs,isFunction:d,isGradientObject:ko,isImagePatternObject:g6,isNumber:E,isObject:a,isPrimitive:Bs,isRegExp:Vc,isString:i,isStringSafe:zo,isTypedArray:X,keys:k,logError:wt,map:r,merge:w,mergeAll:Lj,mixin:Ye,noop:G,normalizeCssArray:$c,reduce:tt,retrieve:bt,retrieve2:v,retrieve3:xo,setAsPrimitive:eo,slice:ir,trim:Xe});function vn(e,t){return e==null&&(e=0),t==null&&(t=0),[e,t]}function Mj(e,t){return e[0]=t[0],e[1]=t[1],e}function Zf(e){return[e[0],e[1]]}function Sj(e,t,n){return e[0]=t,e[1]=n,e}function nl(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e}function Aj(e,t,n,s){return e[0]=t[0]+n[0]*s,e[1]=t[1]+n[1]*s,e}function Lf(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e}function ll(e){return Math.sqrt(dl(e))}zf=ll;function dl(e){return e[0]*e[0]+e[1]*e[1]}Ef=dl;function kj(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e}function Ej(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e}function Cj(e,t){return e[0]*t[0]+e[1]*t[1]}function ha(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e}function sf(e,t){var n=ll(t);return n===0?(e[0]=0,e[1]=0):(e[0]=t[0]/n,e[1]=t[1]/n),e}function ra(e,t){return Math.sqrt((e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1]))}pi=ra;function X8(e,t){return(e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1])}en=X8;function xj(e,t){return e[0]=-t[0],e[1]=-t[1],e}function na(e,t,n,s){return e[0]=t[0]+s*(n[0]-t[0]),e[1]=t[1]+s*(n[1]-t[1]),e}function pe(e,t,n){var s=t[0],o=t[1];return e[0]=n[0]*s+n[2]*o+n[4],e[1]=n[1]*s+n[3]*o+n[5],e}function Xt(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e}function qt(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e}K8=Object.freeze({__proto__:null,add:nl,applyTransform:pe,clone:Zf,copy:Mj,create:vn,dist:pi,distSquare:en,distance:ra,distanceSquare:X8,div:Ej,dot:Cj,len:ll,lenSquare:dl,length:zf,lengthSquare:Ef,lerp:na,max:qt,min:Xt,mul:kj,negate:xj,normalize:sf,scale:ha,scaleAndAdd:Aj,set:Sj,sub:Lf}),Fn=function(){function e(e,t){this.target=e,this.topTarget=t&&t.topTarget}return e}(),U8=function(){function e(e){this.handler=e,e.on("mousedown",this._dragStart,this),e.on("mousemove",this._drag,this),e.on("mouseup",this._dragEnd,this)}return e.prototype._dragStart=function(e){for(var t=e.target;t&&!t.draggable;)t=t.parent||t.__hostTarget;t&&(this._draggingTarget=t,t.dragging=!0,this._x=e.offsetX,this._y=e.offsetY,this.handler.dispatchToElement(new Fn(t,e),"dragstart",e.event))},e.prototype._drag=function(e){var t,s,o,i,a,r,n=this._draggingTarget;n&&(o=e.offsetX,i=e.offsetY,a=o-this._x,r=i-this._y,this._x=o,this._y=i,n.drift(a,r,e),this.handler.dispatchToElement(new Fn(n,e),"drag",e.event),t=this.handler.findHover(o,i,n).target,s=this._dropTarget,this._dropTarget=t,n!==t&&(s&&t!==s&&this.handler.dispatchToElement(new Fn(s,e),"dragleave",e.event),t&&t!==s&&this.handler.dispatchToElement(new Fn(t,e),"dragenter",e.event)))},e.prototype._dragEnd=function(e){var t=this._draggingTarget;t&&(t.dragging=!1),this.handler.dispatchToElement(new Fn(t,e),"dragend",e.event),this._dropTarget&&this.handler.dispatchToElement(new Fn(this._dropTarget,e),"drop",e.event),this._draggingTarget=null,this._dropTarget=null},e}(),qe=function(){function e(e){e&&(this._$eventProcessor=e)}return e.prototype.on=function(e,t,n,s){this._$handlers||(this._$handlers={});var i,a,r,c,l,o=this._$handlers;if(typeof t=="function"&&(s=n,n=t,t=null),!n||!e)return this;i=this._$eventProcessor,t!=null&&i&&i.normalizeQuery&&(t=i.normalizeQuery(t)),o[e]||(o[e]=[]);for(a=0;a<o[e].length;a++)if(o[e][a].h===n)return this;return r={h:n,query:t,ctx:s||this,callAtLast:n.zrEventfulCallAtLast},c=o[e].length-1,l=o[e][c],l&&l.callAtLast?o[e].splice(c,0,r):o[e].push(r),this},e.prototype.isSilent=function(e){var t=this._$handlers;return!t||!t[e]||!t[e].length},e.prototype.off=function(e,t){if(n=this._$handlers,!n)return this;if(!e)return this._$handlers={},this;if(t){if(n[e]){for(var n,o=[],s=0,i=n[e].length;s<i;s++)n[e][s].h!==t&&o.push(n[e][s]);n[e]=o}n[e]&&n[e].length===0&&delete n[e]}else delete n[e];return this},e.prototype.trigger=function(e){for(var t,n,i,a,r,c,s=[],o=1;o<arguments.length;o++)s[o-1]=arguments[o];if(!this._$handlers)return this;if(i=this._$handlers[e],n=this._$eventProcessor,i)for(r=s.length,c=i.length,a=0;a<c;a++){if(t=i[a],n&&n.filter&&t.query!=null&&!n.filter(e,t.query))continue;switch(r){case 0:t.h.call(t.ctx);break;case 1:t.h.call(t.ctx,s[0]);break;case 2:t.h.call(t.ctx,s[0],s[1]);break;default:t.h.apply(t.ctx,s);break}}return n&&n.afterTrigger&&n.afterTrigger(e),this},e.prototype.triggerWithContext=function(e){for(var n,s,o,a,r,c,l,t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];if(!this._$handlers)return this;if(a=this._$handlers[e],n=this._$eventProcessor,a)for(r=t.length,o=t[r-1],l=a.length,c=0;c<l;c++){if(s=a[c],n&&n.filter&&s.query!=null&&!n.filter(e,s.query))continue;switch(r){case 0:s.h.call(o);break;case 1:s.h.call(o,t[0]);break;case 2:s.h.call(o,t[0],t[1]);break;default:s.h.apply(o,t.slice(1,r-1));break}}return n&&n.afterTrigger&&n.afterTrigger(e),this},e}(),W8=Math.log(2);function Tl(e,t,n,s,o,i){if(a=s+"-"+o,l=e.length,i.hasOwnProperty(a))return i[a];if(t===1)return h=Math.round(Math.log((1<<l)-1&~o)/W8),e[n][h];for(m=s|1<<n,r=n+1;s&1<<r;)r++;for(var a,r,l,u,h,m,d=0,c=0,f=0;c<l;c++)u=1<<c,u&o||(d+=(f%2?-1:1)*e[n][c]*Tl(e,t-1,r,m,o|u,i),f++);return i[a]=d,d}function M8(e,t){var n,s,o,i=[[e[0],e[1],1,0,0,0,-t[0]*e[0],-t[0]*e[1]],[0,0,0,e[0],e[1],1,-t[1]*e[0],-t[1]*e[1]],[e[2],e[3],1,0,0,0,-t[2]*e[2],-t[2]*e[3]],[0,0,0,e[2],e[3],1,-t[3]*e[2],-t[3]*e[3]],[e[4],e[5],1,0,0,0,-t[4]*e[4],-t[4]*e[5]],[0,0,0,e[4],e[5],1,-t[5]*e[4],-t[5]*e[5]],[e[6],e[7],1,0,0,0,-t[6]*e[6],-t[6]*e[7]],[0,0,0,e[6],e[7],1,-t[7]*e[6],-t[7]*e[7]]],a={},r=Tl(i,8,0,0,0,a);if(r===0)return;for(n=[],o=0;o<8;o++)for(s=0;s<8;s++)n[s]==null&&(n[s]=0),n[s]+=((o+s)%2?-1:1)*Tl(i,7,o===0?1:0,1<<o,1<<s,a)/r*t[o];return function(e,t,s){var o=t*n[6]+s*n[7]+1;e[0]=(t*n[0]+s*n[1]+n[2])/o,e[1]=(t*n[3]+s*n[4]+n[5])/o}}Dl="___zrEVENTSAVED",Ki=[];function Oj(e,t,n,s,o){return Ll(Ki,t,s,o,!0)&&Ll(e,n,Ki[0],Ki[1])}function Ll(e,t,n,s,o){if(t.getBoundingClientRect&&l.domSupported&&!v8(t)){var i=t[Dl]||(t[Dl]={}),r=wj(t,i),a=jj(r,i,o);if(a)return a(e,n,s),!0}return!1}function wj(e,t){var s,o,i,a,r,c,l,n=t.markers;if(n)return n;for(n=t.markers=[],i=["left","right"],a=["top","bottom"],s=0;s<4;s++)o=document.createElement("div"),l=o.style,r=s%2,c=(s>>1)%2,l.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",i[r]+":0",a[c]+":0",i[1-r]+":auto",a[1-c]+":auto",""].join("!important;"),e.appendChild(o),n.push(o);return n}function jj(e,t,n){for(var c,l,d,u,h=n?"invTrans":"trans",m=t[h],i=t.srcCoords,o=[],a=[],r=!0,s=0;s<4;s++)c=e[s].getBoundingClientRect(),l=2*s,d=c.left,u=c.top,o.push(d,u),r=r&&i&&d===i[l]&&u===i[l+1],a.push(e[s].offsetLeft,e[s].offsetTop);return r&&m?m:(t.srcCoords=o,t[h]=n?M8(a,o):M8(o,a))}function v8(e){return e.nodeName.toUpperCase()==="CANVAS"}h8=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Yi=[],u8=l.browser.firefox&&+l.browser.version.split(".")[0]<39;function Bl(e,t,n,s){return n=n||{},s?Jm(e,t,n):u8&&t.layerX!=null&&t.layerX!==t.offsetX?(n.zrX=t.layerX,n.zrY=t.layerY):t.offsetX!=null?(n.zrX=t.offsetX,n.zrY=t.offsetY):Jm(e,t,n),n}function Jm(e,t,n){if(l.domSupported&&e.getBoundingClientRect){var s,o=t.clientX,i=t.clientY;if(v8(e)){s=e.getBoundingClientRect(),n.zrX=o-s.left,n.zrY=i-s.top;return}if(Ll(Yi,e,o,i)){n.zrX=Yi[0],n.zrY=Yi[1];return}}n.zrX=n.zrY=0}function Vl(e){return e||window.event}function ze(e,t,n){if(t=Vl(t),t.zrX!=null)return t;var s,i,a,o=t.type,r=o&&o.indexOf("touch")>=0;return r?(a=o!=="touchend"?t.targetTouches[0]:t.changedTouches[0],a&&Bl(e,a,t,n)):(Bl(e,t,t,n),i=bj(t),t.zrDelta=i?i/120:-(t.detail||0)/3),s=t.button,t.which==null&&s!==void 0&&h8.test(t.type)&&(t.which=s&1?1:s&2?3:s&4?2:0),t}function bj(e){var t,n,o,i,s=e.wheelDelta;return s||(n=e.deltaX,t=e.deltaY,n==null||t==null?s:(o=t!==0?Math.abs(t):Math.abs(n),i=t>0?-1:t<0?1:n>0?-1:1,3*o*i))}function vj(e,t,n,s){e.addEventListener(t,n,s)}function gj(e,t,n,s){e.removeEventListener(t,n,s)}cs=function(e){e.preventDefault(),e.stopPropagation(),e.cancelBubble=!0},Pm=function(){function e(){this._track=[]}return e.prototype.recognize=function(e,t,n){return this._doTrack(e,t,n),this._recognize(e)},e.prototype.clear=function(){return this._track.length=0,this},e.prototype._doTrack=function(e,t,n){if(s=e.touches,!s)return;for(var s,a,r,o={points:[],touches:[],target:t,event:e},i=0,c=s.length;i<c;i++)a=s[i],r=Bl(n,a,{}),o.points.push([r.zrX,r.zrY]),o.touches.push(a);this._track.push(o)},e.prototype._recognize=function(e){for(t in Ca)if(Ca.hasOwnProperty(t)){var t,n=Ca[t](this._track,e);if(n)return n}},e}();function Dm(e){var t=e[1][0]-e[0][0],n=e[1][1]-e[0][1];return Math.sqrt(t*t+n*n)}function fj(e){return[(e[0][0]+e[1][0])/2,(e[0][1]+e[1][1])/2]}Ca={pinch:function(e,t){var n,s,o,a,i=e.length;if(!i)return;if(n=(e[i-1]||{}).points,s=(e[i-2]||{}).points||n,s&&s.length>1&&n&&n.length>1)return o=Dm(n)/Dm(s),!isFinite(o)&&(o=1),t.pinchScale=o,a=fj(n),t.pinchX=a[0],t.pinchY=a[1],{type:"pinch",target:e[0].target,event:t}}},nd="silent";function mj(e,t,n){return{type:e,event:n,target:t.target,topTarget:t.topTarget,cancelBubble:!1,offsetX:n.zrX,offsetY:n.zrY,gestureEvent:n.gestureEvent,pinchX:n.pinchX,pinchY:n.pinchY,pinchScale:n.pinchScale,wheelDelta:n.zrDelta,zrByTouch:n.zrByTouch,which:n.which,stop:hj}}function hj(){cs(this.event)}gm=function(e){o(t,e);function t(){var t=e!==null&&e.apply(this,arguments)||this;return t.handler=null,t}return t.prototype.dispose=function(){},t.prototype.setCursor=function(){},t}(qe),Cs=function(){function e(e,t){this.x=e,this.y=t}return e}(),om=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],gd=function(e){o(n,e);function n(t,n,s,o){var i=e.call(this)||this;return i._hovered=new Cs(0,0),i.storage=t,i.painter=n,i.painterRoot=o,s=s||new gm,i.proxy=null,i.setHandlerProxy(s),i._draggingMgr=new U8(i),i}return n.prototype.setHandlerProxy=function(e){this.proxy&&this.proxy.dispose(),e&&(t(om,function(t){e.on&&e.on(t,this[t],this)},this),e.handler=this),this.proxy=e},n.prototype.mousemove=function(e){var s,o,r,i=e.zrX,a=e.zrY,c=Hh(this,i,a),t=this._hovered,n=t.target;n&&!n.__zr&&(t=this.findHover(t.x,t.y),n=t.target),o=this._hovered=c?new Cs(i,a):this.findHover(i,a),s=o.target,r=this.proxy,r.setCursor&&r.setCursor(s?s.cursor:"default"),n&&s!==n&&this.dispatchToElement(t,"mouseout",e),this.dispatchToElement(o,"mousemove",e),s&&s!==n&&this.dispatchToElement(o,"mouseover",e)},n.prototype.mouseout=function(e){var t=e.zrEventControl;t!=="only_globalout"&&this.dispatchToElement(this._hovered,"mouseout",e),t!=="no_globalout"&&this.trigger("globalout",{type:"globalout",event:e})},n.prototype.resize=function(){this._hovered=new Cs(0,0)},n.prototype.dispatch=function(e,t){var n=this[e];n&&n.call(this,t)},n.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},n.prototype.setCursorStyle=function(e){var t=this.proxy;t.setCursor&&t.setCursor(e)},n.prototype.dispatchToElement=function(e,t,n){e=e||{};var o,i,s=e.target;if(s&&s.silent)return;for(i="on"+t,o=mj(t,e,n);s;)if(s[i]&&(o.cancelBubble=!!s[i].call(s,o)),s.trigger(t,o),s=s.__hostTarget?s.__hostTarget:s.parent,o.cancelBubble)break;o.cancelBubble||(this.trigger(t,o),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer(function(e){typeof e[i]=="function"&&e[i].call(e,o),e.trigger&&e.trigger(t,o)}))},n.prototype.findHover=function(e,t,n){for(var a,o=this.storage.getDisplayList(),i=new Cs(e,t),s=o.length-1;s>=0;s--)if(a=void 0,o[s]!==n&&!o[s].ignore&&(a=dj(o[s],e,t))&&(!i.topTarget&&(i.topTarget=o[s]),a!==nd)){i.target=o[s];break}return i},n.prototype.processGesture=function(e,t){this._gestureMgr||(this._gestureMgr=new Pm);var n,o,i,s=this._gestureMgr;t==="start"&&s.clear(),n=s.recognize(e,this.findHover(e.zrX,e.zrY,null).target,this.proxy.dom),t==="end"&&s.clear(),n&&(o=n.type,e.gestureEvent=o,i=new Cs,i.target=n.target,this.dispatchToElement(i,o,n.event))},n}(qe),t(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(e){gd.prototype[e]=function(t){var n,s,o=t.zrX,i=t.zrY,a=Hh(this,o,i);if((e!=="mouseup"||!a)&&(s=this.findHover(o,i),n=s.target),e==="mousedown")this._downEl=n,this._downPoint=[t.zrX,t.zrY],this._upEl=n;else if(e==="mouseup")this._upEl=n;else if(e==="click"){if(this._downEl!==this._upEl||!this._downPoint||pi(this._downPoint,[t.zrX,t.zrY])>4)return;this._downPoint=null}this.dispatchToElement(s,e,t)}});function dj(e,t,n){if(e[e.rectHover?"rectContain":"contain"](t,n)){for(var o,i,s=e,a=void 0,r=!1;s;){if(s.ignoreClip&&(r=!0),!r){if(o=s.getClipPath(),o&&!o.contain(t,n))return!1;s.silent&&(a=!0)}i=s.__hostTarget,s=i||s.parent}return!a||nd}return!1}function Hh(e,t,n){var s=e.painter;return t<0||t>s.getWidth()||n<0||n>s.getHeight()}Sd=32,As=7;function cj(e){for(var t=0;e>=Sd;)t|=e&1,e>>=1;return e+t}function zh(e,t,n,s){var o=t+1;if(o===n)return 1;if(s(e[o++],e[t])<0){for(;o<n&&s(e[o],e[o-1])<0;)o++;rj(e,t,o)}else for(;o<n&&s(e[o],e[o-1])>=0;)o++;return o-t}function rj(e,t,n){for(n--;t<n;){var s=e[t];e[t++]=e[n],e[n--]=s}}function hh(e,t,n,s,o){for(s===t&&s++;s<n;s++){for(var a,c,l=e[s],i=t,r=s;i<r;)c=i+r>>>1,o(l,e[c])<0?r=c:i=c+1;switch(a=s-i,a){case 3:e[i+3]=e[i+2];case 2:e[i+2]=e[i+1];case 1:e[i+1]=e[i];break;default:for(;a>0;)e[i+a]=e[i+a-1],a--}e[i]=l}}function Pd(e,t,n,s,o,i){var l,d,r=0,c=0,a=1;if(i(e,t[n+o])>0){for(c=s-o;a<c&&i(e,t[n+o+a])>0;)r=a,a=(a<<1)+1,a<=0&&(a=c);a>c&&(a=c),r+=o,a+=o}else{for(c=o+1;a<c&&i(e,t[n+o-a])<=0;)r=a,a=(a<<1)+1,a<=0&&(a=c);a>c&&(a=c),d=r,r=o-a,a=o-d}for(r++;r<a;)l=r+(a-r>>>1),i(e,t[n+l])>0?r=l+1:a=l;return a}function Hd(e,t,n,s,o,i){var l,d,r=0,c=0,a=1;if(i(e,t[n+o])<0){for(c=o+1;a<c&&i(e,t[n+o-a])<0;)r=a,a=(a<<1)+1,a<=0&&(a=c);a>c&&(a=c),d=r,r=o-a,a=o-d}else{for(c=s-o;a<c&&i(e,t[n+o+a])>=0;)r=a,a=(a<<1)+1,a<=0&&(a=c);a>c&&(a=c),r+=o,a+=o}for(r++;r<a;)l=r+(a-r>>>1),i(e,t[n+l])<0?a=l:r=l+1;return a}function aj(e,t){var n,s,a,i=As,o=0;e.length,n=[],a=[],s=[];function c(e,t){a[o]=e,s[o]=t,o+=1}function l(){for(;o>1;){var e=o-2;if(e>=1&&s[e-1]<=s[e]+s[e+1]||e>=2&&s[e-2]<=s[e]+s[e-1])s[e-1]<s[e+1]&&e--;else if(s[e]>s[e+1])break;r(e)}}function d(){for(;o>1;){var e=o-2;e>0&&s[e-1]<s[e+1]&&e--,r(e)}}function r(n){var d,c=a[n],i=s[n],l=a[n+1],r=s[n+1];if(s[n]=i+r,n===o-3&&(a[n+1]=a[n+2],s[n+1]=s[n+2]),o--,d=Hd(e[l],e,c,i,0,t),c+=d,i-=d,i===0)return;if(r=Pd(e[c+i-1],e,l,r,r-1,t),r===0)return;i<=r?u(c,i,l,r):h(c,i,l,r)}function u(s,o,a,r){var l,d,u,h,m,f,p,c=0;for(c=0;c<o;c++)n[c]=e[s+c];if(d=0,u=a,l=s,e[l++]=e[u++],--r===0){for(c=0;c<o;c++)e[l+c]=n[d+c];return}if(o===1){for(c=0;c<r;c++)e[l+c]=e[u+c];e[l+r]=n[d];return}for(p=i;1;){h=0,m=0,f=!1;do if(t(e[u],n[d])<0){if(e[l++]=e[u++],m++,h=0,--r===0){f=!0;break}}else if(e[l++]=n[d++],h++,m=0,--o===1){f=!0;break}while((h|m)<p)if(f)break;do{if(h=Hd(e[u],n,d,o,0,t),h!==0){for(c=0;c<h;c++)e[l+c]=n[d+c];if(l+=h,d+=h,o-=h,o<=1){f=!0;break}}if(e[l++]=e[u++],--r===0){f=!0;break}if(m=Pd(n[d],e,u,r,0,t),m!==0){for(c=0;c<m;c++)e[l+c]=e[u+c];if(l+=m,u+=m,r-=m,r===0){f=!0;break}}if(e[l++]=n[d++],--o===1){f=!0;break}p--}while(h>=As||m>=As)if(f)break;p<0&&(p=0),p+=2}if(i=p,i<1&&(i=1),o===1){for(c=0;c<r;c++)e[l+c]=e[u+c];e[l+r]=n[d]}else if(o===0)throw new Error;else for(c=0;c<o;c++)e[l+c]=n[d+c]}function h(s,o,a,r){var l,d,u,h,m,f,p,g,v,c=0;for(c=0;c<r;c++)n[c]=e[a+c];if(u=s+o-1,f=r-1,l=a+r-1,d=0,p=0,e[l--]=e[u--],--o===0){d=l-(r-1);for(c=0;c<r;c++)e[d+c]=n[c];return}if(r===1){l-=o,u-=o,p=l+1,d=u+1;for(c=o-1;c>=0;c--)e[p+c]=e[d+c];e[l]=n[f];return}for(v=i;!0;){h=0,m=0,g=!1;do if(t(n[f],e[u])<0){if(e[l--]=e[u--],h++,m=0,--o===0){g=!0;break}}else if(e[l--]=n[f--],m++,h=0,--r===1){g=!0;break}while((h|m)<v)if(g)break;do{if(h=o-Hd(n[f],e,s,o,o-1,t),h!==0){l-=h,u-=h,o-=h,p=l+1,d=u+1;for(c=h-1;c>=0;c--)e[p+c]=e[d+c];if(o===0){g=!0;break}}if(e[l--]=n[f--],--r===1){g=!0;break}if(m=r-Pd(e[u],n,0,r,r-1,t),m!==0){l-=m,f-=m,r-=m,p=l+1,d=f+1;for(c=0;c<m;c++)e[p+c]=n[d+c];if(r<=1){g=!0;break}}if(e[l--]=e[u--],--o===0){g=!0;break}v--}while(h>=As||m>=As)if(g)break;v<0&&(v=0),v+=2}if(i=v,i<1&&(i=1),r===1){l-=o,u-=o,p=l+1,d=u+1;for(c=o-1;c>=0;c--)e[p+c]=e[d+c];e[l]=n[f]}else if(r===0)throw new Error;else{d=l-(r-1);for(c=0;c<r;c++)e[d+c]=n[c]}}return{mergeRuns:l,forceMergeRuns:d,pushRun:c}}function Ua(e,t,n,s){n||(n=0),s||(s=e.length);var o,a,r,c,i=s-n;if(i<2)return;if(o=0,i<Sd){o=zh(e,n,s,t),hh(e,n,s,n+o,t);return}r=aj(e,t),c=cj(i);do o=zh(e,n,s,t),o<c&&(a=i,a>c&&(a=c),hh(e,n,n+a,n+o,t),o=a),r.pushRun(n,o),r.mergeRuns(),i-=o,n+=o;while(i!==0)r.forceMergeRuns()}ae=1,Ks=2,Sn=4,Id=!1;function Kd(){if(Id)return;Id=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors")}function z3(e,t){return e.zlevel===t.zlevel?e.z===t.z?e.z2-t.z2:e.z-t.z:e.zlevel-t.zlevel}M3=function(){function e(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=z3}return e.prototype.traverse=function(e,t){for(var n=0;n<this._roots.length;n++)this._roots[n].traverse(e,t)},e.prototype.getDisplayList=function(e,t){t=t||!1;var n=this._displayList;return(e||!n.length)&&this.updateDisplayList(t),n},e.prototype.updateDisplayList=function(e){this._displayListLen=0;for(var n=this._roots,s=this._displayList,t=0,o=n.length;t<o;t++)this._updateAndAddDisplayable(n[t],null,e);s.length=this._displayListLen,Ua(s,z3)},e.prototype._updateAndAddDisplayable=function(e,t,n){if(e.ignore&&!n)return;e.beforeUpdate(),e.update(),e.afterUpdate();var s,o,i,a,r,c,l,d,u,h=e.getClipPath();if(e.ignoreClip)t=null;else if(h)for(t?t=t.slice():t=[],o=h,a=e;o;)o.parent=a,o.updateTransform(),t.push(o),a=o,o=o.getClipPath();if(e.childrenRef){for(r=e.childrenRef(),i=0;i<r.length;i++)c=r[i],e.__dirty&&(c.__dirty|=ae),this._updateAndAddDisplayable(c,t,n);e.__dirty=0}else s=e,t&&t.length?s.__clipPaths=t:s.__clipPaths&&s.__clipPaths.length>0&&(s.__clipPaths=[]),isNaN(s.z)&&(Kd(),s.z=0),isNaN(s.z2)&&(Kd(),s.z2=0),isNaN(s.zlevel)&&(Kd(),s.zlevel=0),this._displayList[this._displayListLen++]=s;l=e.getDecalElement&&e.getDecalElement(),l&&this._updateAndAddDisplayable(l,t,n),d=e.getTextGuideLine(),d&&this._updateAndAddDisplayable(d,t,n),u=e.getTextContent(),u&&this._updateAndAddDisplayable(u,t,n)},e.prototype.addRoot=function(e){if(e.__zr&&e.__zr.storage===this)return;this._roots.push(e)},e.prototype.delRoot=function(e){if(e instanceof Array){for(var n,t=0,s=e.length;t<s;t++)this.delRoot(e[t]);return}n=_(this._roots,e),n>=0&&this._roots.splice(n,1)},e.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},e.prototype.getRoots=function(){return this._roots},e.prototype.dispose=function(){this._displayList=null,this._roots=null},e}(),E3=l.hasGlobalWindow&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(e){return setTimeout(e,16)},vr=E3,Ss={linear:function(e){return e},quadraticIn:function(e){return e*e},quadraticOut:function(e){return e*(2-e)},quadraticInOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)},cubicIn:function(e){return e*e*e},cubicOut:function(e){return--e*e*e+1},cubicInOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},quarticIn:function(e){return e*e*e*e},quarticOut:function(e){return 1- --e*e*e*e},quarticInOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)},quinticIn:function(e){return e*e*e*e*e},quinticOut:function(e){return--e*e*e*e*e+1},quinticInOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},sinusoidalIn:function(e){return 1-Math.cos(e*Math.PI/2)},sinusoidalOut:function(e){return Math.sin(e*Math.PI/2)},sinusoidalInOut:function(e){return.5*(1-Math.cos(Math.PI*e))},exponentialIn:function(e){return e===0?0:Math.pow(1024,e-1)},exponentialOut:function(e){return e===1?1:1-Math.pow(2,-10*e)},exponentialInOut:function(e){return e===0?0:e===1?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(-Math.pow(2,-10*(e-1))+2)},circularIn:function(e){return 1-Math.sqrt(1-e*e)},circularOut:function(e){return Math.sqrt(1- --e*e)},circularInOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},elasticIn:function(e){var n,t=.1,s=.4;return e===0?0:e===1?1:(!t||t<1?(t=1,n=s/4):n=s*Math.asin(1/t)/(2*Math.PI),-(t*Math.pow(2,10*(e-=1))*Math.sin((e-n)*(2*Math.PI)/s)))},elasticOut:function(e){var n,t=.1,s=.4;return e===0?0:e===1?1:(!t||t<1?(t=1,n=s/4):n=s*Math.asin(1/t)/(2*Math.PI),t*Math.pow(2,-10*e)*Math.sin((e-n)*(2*Math.PI)/s)+1)},elasticInOut:function(e){var n,t=.1,s=.4;return e===0?0:e===1?1:(!t||t<1?(t=1,n=s/4):n=s*Math.asin(1/t)/(2*Math.PI),(e*=2)<1?-.5*(t*Math.pow(2,10*(e-=1))*Math.sin((e-n)*(2*Math.PI)/s)):t*Math.pow(2,-10*(e-=1))*Math.sin((e-n)*(2*Math.PI)/s)*.5+1)},backIn:function(e){var t=1.70158;return e*e*((t+1)*e-t)},backOut:function(e){var t=1.70158;return--e*e*((t+1)*e+t)+1},backInOut:function(e){var t=1.70158*1.525;return(e*=2)<1?.5*(e*e*((t+1)*e-t)):.5*((e-=2)*e*((t+1)*e+t)+2)},bounceIn:function(e){return 1-Ss.bounceOut(1-e)},bounceOut:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},bounceInOut:function(e){return e<.5?Ss.bounceIn(e*2)*.5:Ss.bounceOut(e*2-1)*.5+.5}},No=Math.pow,jt=Math.sqrt,Po=1e-8,nu=1e-4,du=jt(3),Gs=1/3,He=vn(),ve=vn(),pn=vn();function mn(e){return e>-Po&&e<Po}function u3(e){return e>Po||e<-Po}function R(e,t,n,s,o){var i=1-o;return i*i*(i*e+3*o*t)+o*o*(o*s+3*i*n)}function d3(e,t,n,s,o){var i=1-o;return 3*(((t-e)*i+2*(n-t)*o)*i+(s-n)*o*o)}function a3(e,t,n,s,o,i){var a,u,h,f,g,v,b,j,y,_,w,O,c=s+3*(t-n)-e,r=3*(n-t*2+e),p=3*(t-e),x=e-o,l=r*r-3*c*p,m=r*p-9*c*x,C=p*p-3*r*x,d=0;return mn(l)&&mn(m)?mn(r)?i[0]=0:(a=-p/r,a>=0&&a<=1&&(i[d++]=a)):(v=m*m-4*l*C,mn(v)?(_=m/l,a=-r/c+_,u=-_/2,a>=0&&a<=1&&(i[d++]=a),u>=0&&u<=1&&(i[d++]=u)):v>0?(w=jt(v),f=l*r+1.5*c*(-m+w),h=l*r+1.5*c*(-m-w),f<0?f=-No(-f,Gs):f=No(f,Gs),h<0?h=-No(-h,Gs):h=No(h,Gs),a=(-r-(f+h))/(3*c),a>=0&&a<=1&&(i[d++]=a)):(O=(2*l*r-3*c*m)/(2*jt(l*l*l)),j=Math.acos(O)/3,b=jt(l),g=Math.cos(j),a=(-r-2*b*g)/(3*c),u=(-r+b*(g+du*Math.sin(j)))/(3*c),y=(-r+b*(g-du*Math.sin(j)))/(3*c),a>=0&&a<=1&&(i[d++]=a),u>=0&&u<=1&&(i[d++]=u),y>=0&&y<=1&&(i[d++]=y))),d}function i3(e,t,n,s,o){var i,l,d,u,a=6*n-12*t+6*e,r=9*t+3*s-3*e-9*n,h=3*t-3*e,c=0;return mn(r)?u3(a)&&(i=-h/a,i>=0&&i<=1&&(o[c++]=i)):(l=a*a-4*r*h,mn(l)?o[0]=-a/(2*r):l>0&&(u=jt(l),i=(-a+u)/(2*r),d=(-a-u)/(2*r),i>=0&&i<=1&&(o[c++]=i),d>=0&&d<=1&&(o[c++]=d))),c}function Pr(e,t,n,s,o,i){var a=(t-e)*o+e,r=(n-t)*o+t,l=(s-n)*o+n,c=(r-a)*o+a,d=(l-r)*o+r,u=(d-c)*o+c;i[0]=e,i[1]=a,i[2]=c,i[3]=u,i[4]=u,i[5]=d,i[6]=l,i[7]=s}function J2(e,t,n,s,o,i,a,r,c,l,d){var h,m,f,p,g,b,j,v=.005,u=1/0;He[0]=c,He[1]=l;for(f=0;f<1;f+=.05)ve[0]=R(e,n,o,a,f),ve[1]=R(t,s,i,r,f),m=en(He,ve),m<u&&(h=f,u=m);for(u=1/0,j=0;j<32;j++){if(v<nu)break;p=h-v,g=h+v,ve[0]=R(e,n,o,a,p),ve[1]=R(t,s,i,r,p),m=en(ve,He),p>=0&&m<u?(h=p,u=m):(pn[0]=R(e,n,o,a,g),pn[1]=R(t,s,i,r,g),b=en(pn,He),g<=1&&b<u?(h=g,u=b):v*=.5)}return d&&(d[0]=R(e,n,o,a,h),d[1]=R(t,s,i,r,h)),jt(u)}function ij(e,t,n,s,o,i,a,r,c){for(var d,u,h,m,f,p=e,g=t,v=0,b=1/c,l=1;l<=c;l++)d=l*b,u=R(e,n,o,a,d),h=R(t,s,i,r,d),m=u-p,f=h-g,v+=Math.sqrt(m*m+f*f),p=u,g=h;return v}function U(e,t,n,s){var o=1-s;return o*(o*e+2*s*t)+s*s*n}function U2(e,t,n,s){return 2*((1-s)*(t-e)+s*(n-t))}function oj(e,t,n,s,o){var i,l,d,u,r=e-2*t+n,a=2*(t-e),h=e-s,c=0;return mn(r)?u3(a)&&(i=-h/a,i>=0&&i<=1&&(o[c++]=i)):(l=a*a-4*r*h,mn(l)?(i=-a/(2*r),i>=0&&i<=1&&(o[c++]=i)):l>0&&(u=jt(l),i=(-a+u)/(2*r),d=(-a-u)/(2*r),i>=0&&i<=1&&(o[c++]=i),d>=0&&d<=1&&(o[c++]=d))),c}function I2(e,t,n){var s=e+n-2*t;return s===0?.5:(e-t)/s}function ac(e,t,n,s,o){var i=(t-e)*s+e,a=(n-t)*s+t,r=(a-i)*s+i;o[0]=e,o[1]=i,o[2]=r,o[3]=r,o[4]=a,o[5]=n}function H2(e,t,n,s,o,i,a,r,c){var d,u,h,m,f,g,v,p=.005,l=1/0;He[0]=a,He[1]=r;for(u=0;u<1;u+=.05)ve[0]=U(e,n,o,u),ve[1]=U(t,s,i,u),h=en(He,ve),h<l&&(d=u,l=h);for(l=1/0,g=0;g<32;g++){if(p<nu)break;m=d-p,f=d+p,ve[0]=U(e,n,o,m),ve[1]=U(t,s,i,m),h=en(ve,He),m>=0&&h<l?(d=m,l=h):(pn[0]=U(e,n,o,f),pn[1]=U(t,s,i,f),v=en(pn,He),f<=1&&v<l?(d=f,l=v):p*=.5)}return c&&(c[0]=U(e,n,o,d),c[1]=U(t,s,i,d)),jt(l)}function nj(e,t,n,s,o,i,a){for(var c,l,d,u,h,m=e,f=t,p=0,g=1/a,r=1;r<=a;r++)c=r*g,l=U(e,n,o,c),d=U(t,s,i,c),u=l-m,h=d-f,p+=Math.sqrt(u*u+h*h),m=l,f=d;return p}L2=/cubic-bezier\(([0-9,.e ]+)\)/;function N2(e){var t,n,s,o,i,a,r=e&&L2.exec(e);if(r){if(t=r[1].split(","),n=+Xe(t[0]),s=+Xe(t[1]),o=+Xe(t[2]),i=+Xe(t[3]),isNaN(n+s+o+i))return;return a=[],function(e){return e<=0?0:e>=1?1:a3(0,n,o,1,e,a)&&R(0,s,i,1,a[0])}}}D2=function(){function e(e){this._inited=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=e.life||1e3,this._delay=e.delay||0,this.loop=e.loop||!1,this.onframe=e.onframe||G,this.ondestroy=e.ondestroy||G,this.onrestart=e.onrestart||G,e.easing&&this.setEasing(e.easing)}return e.prototype.step=function(e,t){if(this._inited||(this._startTime=e+this._delay,this._inited=!0),this._paused){this._pausedTime+=t;return}var s,a,r,o=this._life,i=e-this._startTime-this._pausedTime,n=i/o;if(n<0&&(n=0),n=Math.min(n,1),s=this.easingFunc,a=s?s(n):n,this.onframe(a),n===1)if(this.loop)r=i%o,this._startTime=e-r,this._pausedTime=0,this.onrestart();else return!0;return!1},e.prototype.pause=function(){this._paused=!0},e.prototype.resume=function(){this._paused=!1},e.prototype.setEasing=function(e){this.easing=e,this.easingFunc=d(e)?e:Ss[e]||N2(e)},e}(),bu=function(){function e(e){this.value=e}return e}(),T2=function(){function e(){this._len=0}return e.prototype.insert=function(e){var t=new bu(e);return this.insertEntry(t),t},e.prototype.insertEntry=function(e){this.head?(this.tail.next=e,e.prev=this.tail,e.next=null,this.tail=e):this.head=this.tail=e,this._len++},e.prototype.remove=function(e){var t=e.prev,n=e.next;t?t.next=n:this.head=n,n?n.prev=t:this.tail=t,e.next=e.prev=null,this._len--},e.prototype.len=function(){return this._len},e.prototype.clear=function(){this.head=this.tail=null,this._len=0},e}(),$n=function(){function e(e){this._list=new T2,this._maxSize=10,this._map={},this._maxSize=e}return e.prototype.put=function(e,t){var n,s,a,o=this._list,i=this._map,r=null;return i[e]==null&&(a=o.len(),n=this._lastRemovedEntry,a>=this._maxSize&&a>0&&(s=o.head,o.remove(s),delete i[s.key],r=s.value,this._lastRemovedEntry=s),n?n.value=t:n=new bu(t),n.key=e,o.insertEntry(n),i[e]=n),r},e.prototype.get=function(e){var t=this._map[e],n=this._list;if(t!=null)return t!==n.tail&&(n.remove(t),n.insertEntry(t)),t.value},e.prototype.clear=function(){this._list.clear(),this._map={}},e.prototype.len=function(){return this._list.len()},e}(),yu={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function Qe(e){return e=Math.round(e),e<0?0:e>255?255:e}function tj(e){return e=Math.round(e),e<0?0:e>360?360:e}function oo(e){return e<0?0:e>1?1:e}function Ou(e){var t=e;return Qe(t.length&&t.charAt(t.length-1)==="%"?parseFloat(t)/100*255:parseInt(t,10))}function In(e){var t=e;return oo(t.length&&t.charAt(t.length-1)==="%"?parseFloat(t)/100:parseFloat(t))}function xu(e,t,n){return n<0?n+=1:n>1&&(n-=1),n*6<1?e+(t-e)*n*6:n*2<1?t:n*3<2?e+(t-e)*(2/3-n)*6:e}function Mt(e,t,n){return e+(t-e)*n}function Ce(e,t,n,s,o){return e[0]=t,e[1]=n,e[2]=s,e[3]=o,e}function Eu(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}ku=new $n(20),zi=null;function qn(e,t){zi&&Eu(zi,t),zi=ku.put(e,zi||t.slice())}function ge(e,t){if(!e)return;t=t||[];var n,s,o,i,a,r,c,d,l=ku.get(e);if(l)return Eu(t,l);if(e=e+"",o=e.replace(/ /g,"").toLowerCase(),o in yu)return Eu(t,yu[o]),qn(e,t),t;if(i=o.length,o.charAt(0)==="#"){if(i===4||i===5){if(s=parseInt(o.slice(1,4),16),!(s>=0&&s<=4095)){Ce(t,0,0,0,1);return}return Ce(t,(s&3840)>>4|(s&3840)>>8,s&240|(s&240)>>4,s&15|(s&15)<<4,i===5?parseInt(o.slice(4),16)/15:1),qn(e,t),t}if(i===7||i===9){if(s=parseInt(o.slice(1,7),16),!(s>=0&&s<=16777215)){Ce(t,0,0,0,1);return}return Ce(t,(s&16711680)>>16,(s&65280)>>8,s&255,i===9?parseInt(o.slice(7),16)/255:1),qn(e,t),t}return}if(a=o.indexOf("("),r=o.indexOf(")"),a!==-1&&r+1===i)switch(d=o.substr(0,a),n=o.substr(a+1,r-(a+1)).split(","),c=1,d){case"rgba":if(n.length!==4)return n.length===3?Ce(t,+n[0],+n[1],+n[2],1):Ce(t,0,0,0,1);c=In(n.pop());case"rgb":if(n.length!==3){Ce(t,0,0,0,1);return}return Ce(t,Ou(n[0]),Ou(n[1]),Ou(n[2]),c),qn(e,t),t;case"hsla":if(n.length!==4){Ce(t,0,0,0,1);return}return n[3]=In(n[3]),Au(n,t),qn(e,t),t;case"hsl":if(n.length!==3){Ce(t,0,0,0,1);return}return Au(n,t),qn(e,t),t;default:return}Ce(t,0,0,0,1)}function Au(e,t){var o=(parseFloat(e[0])%360+360)%360/360,i=In(e[1]),n=In(e[2]),s=n<=.5?n*(i+1):n+i-n*i,a=n*2-s;return t=t||[],Ce(t,Qe(xu(a,s,o+1/3)*255),Qe(xu(a,s,o)*255),Qe(xu(a,s,o-1/3)*255),1),e.length===4&&(t[3]=e[3]),t}function ej(e){if(!e)return;var s,o,l,d,u,h,c=e[0]/255,i=e[1]/255,a=e[2]/255,r=Math.min(c,i,a),t=Math.max(c,i,a),n=t-r,m=(t+r)/2;return n===0?(s=0,o=0):(m<.5?o=n/(t+r):o=n/(2-t-r),l=((t-c)/6+n/2)/n,d=((t-i)/6+n/2)/n,u=((t-a)/6+n/2)/n,c===t?s=u-d:i===t?s=1/3+l-u:a===t&&(s=2/3+d-l),s<0&&(s+=1),s>1&&(s-=1)),h=[s*360,o,m],e[3]!=null&&h.push(e[3]),h}function Nu(e,t){var s,n=ge(e);if(n){for(s=0;s<3;s++)t<0?n[s]=n[s]*(1-t)|0:n[s]=(255-n[s])*t+n[s]|0,n[s]>255?n[s]=255:n[s]<0&&(n[s]=0);return lt(n,n.length===4?"rgba":"rgb")}}function Jb(e){var t=ge(e);if(t)return((1<<24)+(t[0]<<16)+(t[1]<<8)+ +t[2]).toString(16).slice(1)}function _i(e,t,n){if(!t||!t.length||!(e>=0&&e<=1))return;n=n||[];var a=e*(t.length-1),r=Math.floor(a),c=Math.ceil(a),s=t[r],o=t[c],i=a-r;return n[0]=Qe(Mt(s[0],o[0],i)),n[1]=Qe(Mt(s[1],o[1],i)),n[2]=Qe(Mt(s[2],o[2],i)),n[3]=oo(Mt(s[3],o[3],i)),n}s2=_i;function n2(e,t,n){if(!t||!t.length||!(e>=0&&e<=1))return;var s=e*(t.length-1),r=Math.floor(s),c=Math.ceil(s),o=ge(t[r]),i=ge(t[c]),a=s-r,l=lt([Qe(Mt(o[0],i[0],a)),Qe(Mt(o[1],i[1],a)),Qe(Mt(o[2],i[2],a)),oo(Mt(o[3],i[3],a))],"rgba");return n?{color:l,leftIndex:r,rightIndex:c,value:s}:l}J0=n2;function Ur(e,t,n,s){var o=ge(e);if(e)return o=ej(o),t!=null&&(o[0]=tj(t)),n!=null&&(o[1]=In(n)),s!=null&&(o[2]=In(s)),lt(Au(o),"rgba")}function Z0(e,t){var n=ge(e);if(n&&t!=null)return n[3]=oo(t),lt(n,"rgba")}function lt(e,t){if(!e||!e.length)return;var n=e[0]+","+e[1]+","+e[2];return(t==="rgba"||t==="hsva"||t==="hsla")&&(n+=","+e[3]),t+"("+n+")"}function ci(e,t){var n=ge(e);return n?(.299*n[0]+.587*n[1]+.114*n[2])*n[3]/255+(1-n[3])*t:0}function Zb(){return lt([Math.round(Math.random()*255),Math.round(Math.random()*255),Math.round(Math.random()*255)],"rgb")}X0=Object.freeze({__proto__:null,fastLerp:_i,fastMapToColor:s2,lerp:n2,lift:Nu,lum:ci,mapToColor:J0,modifyAlpha:Z0,modifyHSL:Ur,parse:ge,random:Zb,stringify:lt,toHex:Jb});function Qb(e){return e.type==="linear"}function Xb(e){return e.type==="radial"}(function(){return l.hasGlobalWindow&&d(window.btoa)?function(e){return window.btoa(unescape(e))}:typeof Buffer!="undefined"?function(e){return Buffer.from(e).toString("base64")}:function(){return wt("Base64 isn't natively supported in the current environment."),null}})(),Hr=Array.prototype.slice;function vt(e,t,n){return(t-e)*n+e}function qu(e,t,n,s){for(var i=t.length,o=0;o<i;o++)e[o]=vt(t[o],n[o],s);return e}function Gb(e,t,n,s){for(var i,a=t.length,r=a&&t[0].length,o=0;o<a;o++){e[o]||(e[o]=[]);for(i=0;i<r;i++)e[o][i]=vt(t[o][i],n[o][i],s)}return e}function Dr(e,t,n,s){for(var i=t.length,o=0;o<i;o++)e[o]=t[o]+n[o]*s;return e}function I0(e,t,n,s){for(var i,a=t.length,r=a&&t[0].length,o=0;o<a;o++){e[o]||(e[o]=[]);for(i=0;i<r;i++)e[o][i]=t[o][i]+n[o][i]*s}return e}function Yb(e,t){for(var n=e.length,s=t.length,o=n>s?t:e,i=Math.min(n,s),a=o[i-1]||{color:[0,0,0,0],offset:0},r=i;r<Math.max(n,s);r++)o.push({offset:a.offset,color:a.color.slice()})}function qb(e,t,n){var s,a,r,c,l,d,o=e,i=t;if(!o.push||!i.push)return;if(c=o.length,r=i.length,c!==r)if(l=c>r,l)o.length=r;else for(s=c;s<r;s++)o.push(n===1?i[s]:Hr.call(i[s]));for(d=o[0]&&o[0].length,s=0;s<o.length;s++)if(n===1)isNaN(o[s])&&(o[s]=i[s]);else for(a=0;a<d;a++)isNaN(o[s][a])&&(o[s][a]=i[s][a])}function Er(e){if(B(e)){var t,n,s=e.length;if(B(e[0])){for(n=[],t=0;t<s;t++)n.push(Hr.call(e[t]));return n}return Hr.call(e)}return e}function wr(e){return e[0]=Math.floor(e[0])||0,e[1]=Math.floor(e[1])||0,e[2]=Math.floor(e[2])||0,e[3]=e[3]==null?1:e[3],"rgba("+e.join(",")+")"}function Kb(e){return B(e&&e[0])?2:1}Ro=0,Lo=1,Qu=2,Es=3,jr=4,br=5,Ju=6;function D0(e){return e===jr||e===br}function gr(e){return e===Lo||e===Qu}Pn=[0,0,0,0],z0=function(){function e(e){this.keyframes=[],this.discrete=!1,this._invalid=!1,this._needsSort=!1,this._lastFr=0,this._lastFrP=0,this.propName=e}return e.prototype.isFinished=function(){return this._finished},e.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},e.prototype.needsAnimate=function(){return this.keyframes.length>=1},e.prototype.getAdditiveTrack=function(){return this._additiveTrack},e.prototype.addKeyframe=function(e,t,s){this._needsSort=!0;var a,l,h,m,f=this.keyframes,p=f.length,u=!1,o=Ju,c=t;return B(t)?(l=Kb(t),o=l,(l===1&&!E(t[0])||l===2&&!E(t[0][0]))&&(u=!0)):E(t)&&!zs(t)?o=Ro:i(t)?isNaN(+t)?(h=ge(t),h&&(c=h,o=Es)):o=Ro:ko(t)&&(m=n({},c),m.colorStops=r(t.colorStops,function(e){return{offset:e.offset,color:ge(e.color)}}),Qb(t)?o=jr:Xb(t)&&(o=br),c=m),p===0?this.valType=o:(o!==this.valType||o===Ju)&&(u=!0),this.discrete=this.discrete||u,a={time:e,value:c,rawValue:t,percent:0},s&&(a.easing=s,a.easingFunc=d(s)?s:Ss[s]||N2(s)),f.push(a),a},e.prototype.prepare=function(e,t){var n,o,i,a,r,c,l,d,u,h,m,s=this.keyframes;this._needsSort&&s.sort(function(e,t){return e.time-t.time});for(o=this.valType,i=s.length,u=s[i-1],c=this.discrete,h=gr(o),m=D0(o),n=0;n<i;n++)r=s[n],l=r.value,d=u.value,r.percent=r.time/e,c||(h&&n!==i-1?qb(l,d,o):m&&Yb(l.colorStops,d.colorStops));if(!c&&o!==br&&t&&this.needsAnimate()&&t.needsAnimate()&&o===t.valType&&!t._finished){this._additiveTrack=t;for(a=s[0].value,n=0;n<i;n++)o===Ro?s[n].additiveValue=s[n].value-a:o===Es?s[n].additiveValue=Dr([],s[n].value,a,-1):gr(o)&&(s[n].additiveValue=o===Lo?Dr([],s[n].value,a,-1):I0([],s[n].value,a,-1))}},e.prototype.step=function(e,t){if(this._finished)return;this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var n,s,o,i,l,d,u,v,j,y,_,f=this._additiveTrack!=null,a=f?"additiveValue":"value",h=this.valType,m=this.keyframes,p=m.length,c=this.propName,b=h===Es,w=this._lastFr,g=Math.min;if(p===1)i=o=m[0];else{if(t<0)n=0;else if(t<this._lastFrP){_=g(w+1,p-1);for(n=_;n>=0;n--)if(m[n].percent<=t)break;n=g(n,p-2)}else{for(n=w;n<p;n++)if(m[n].percent>t)break;n=g(n-1,p-2)}o=m[n+1],i=m[n]}if(!i||!o)return;this._lastFr=n,this._lastFrP=t,v=o.percent-i.percent,s=v===0?1:g((t-i.percent)/v,1),o.easingFunc&&(s=o.easingFunc(s)),u=f?this._additiveValue:b?Pn:e[c],(gr(h)||b)&&!u&&(u=this._additiveValue=[]),this.discrete?e[c]=s<1?i.rawValue:o.rawValue:gr(h)?h===Lo?qu(u,i[a],o[a],s):Gb(u,i[a],o[a],s):D0(h)?(d=i[a],l=o[a],j=h===jr,e[c]={type:j?"linear":"radial",x:vt(d.x,l.x,s),y:vt(d.y,l.y,s),colorStops:r(d.colorStops,function(e,t){var n=l.colorStops[t];return{offset:vt(e.offset,n.offset,s),color:wr(qu([],e.color,n.color,s))}}),global:l.global},j?(e[c].x2=vt(d.x2,l.x2,s),e[c].y2=vt(d.y2,l.y2,s)):e[c].r=vt(d.r,l.r,s)):b?(qu(u,i[a],o[a],s),f||(e[c]=wr(u))):(y=vt(i[a],o[a],s),f?this._additiveValue=y:e[c]=y),f&&this._addToTarget(e)},e.prototype._addToTarget=function(e){var n=this.valType,t=this.propName,s=this._additiveValue;n===Ro?e[t]=e[t]+s:n===Es?(ge(e[t],Pn),Dr(Pn,Pn,s,1),e[t]=wr(Pn)):n===Lo?Dr(e[t],e[t],s,1):n===Qu&&I0(e[t],e[t],s,1)},e}(),ur=function(){function e(e,t,n,s){if(this._tracks={},this._trackKeys=[],this._maxTime=0,this._started=0,this._clip=null,this._target=e,this._loop=t,t&&s){wt("Can' use additive animation on looped animation.");return}this._additiveAnimators=s,this._allowDiscrete=n}return e.prototype.getMaxTime=function(){return this._maxTime},e.prototype.getDelay=function(){return this._delay},e.prototype.getLoop=function(){return this._loop},e.prototype.getTarget=function(){return this._target},e.prototype.changeTarget=function(e){this._target=e},e.prototype.when=function(e,t,n){return this.whenWithKeys(e,t,k(t),n)},e.prototype.whenWithKeys=function(e,t,n,s){for(var o,i,a,r,l,d,u=this._tracks,c=0;c<n.length;c++){if(o=n[c],a=u[o],!a){if(a=u[o]=new z0(o),i=void 0,r=this._getAdditiveTrack(o),r?(l=r.keyframes,d=l[l.length-1],i=d&&d.value,r.valType===Es&&i&&(i=wr(i))):i=this._target[o],i==null)continue;e>0&&a.addKeyframe(0,Er(i),s),this._trackKeys.push(o)}a.addKeyframe(e,Er(t[o]),s)}return this._maxTime=Math.max(this._maxTime,e),this},e.prototype.pause=function(){this._clip.pause(),this._paused=!0},e.prototype.resume=function(){this._clip.resume(),this._paused=!1},e.prototype.isPaused=function(){return!!this._paused},e.prototype.duration=function(e){return this._maxTime=e,this._force=!0,this},e.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var e,n,t=this._doneCbs;if(t)for(n=t.length,e=0;e<n;e++)t[e].call(this)},e.prototype._abortedCallback=function(){this._setTracksFinished();var e,n=this.animation,t=this._abortedCbs;if(n&&n.removeClip(this._clip),this._clip=null,t)for(e=0;e<t.length;e++)t[e].call(this)},e.prototype._setTracksFinished=function(){for(var n=this._tracks,t=this._trackKeys,e=0;e<t.length;e++)n[t[e]].setFinished()},e.prototype._getAdditiveTrack=function(e){var t,s,o,n=this._additiveAnimators;if(n)for(t=0;t<n.length;t++)s=n[t].getTrack(e),s&&(o=s);return o},e.prototype.start=function(e){if(this._started>0)return;this._started=1;for(var n,o,a,r,c,d,u,t=this,s=[],l=this._maxTime||0,i=0;i<this._trackKeys.length;i++)a=this._trackKeys[i],n=this._tracks[a],d=this._getAdditiveTrack(a),r=n.keyframes,u=r.length,n.prepare(l,d),n.needsAnimate()&&(!this._allowDiscrete&&n.discrete?(c=r[u-1],c&&(t._target[n.propName]=c.rawValue),n.setFinished()):s.push(n));return s.length||this._force?(o=new D2({life:l,loop:this._loop,delay:this._delay||0,onframe:function(e){t._started=2;var n,o,a,i=t._additiveAnimators;if(i){for(a=!1,n=0;n<i.length;n++)if(i[n]._clip){a=!0;break}a||(t._additiveAnimators=null)}for(n=0;n<s.length;n++)s[n].step(t._target,e);if(o=t._onframeCbs,o)for(n=0;n<o.length;n++)o[n](t._target,e)},ondestroy:function(){t._doneCallback()}}),this._clip=o,this.animation&&this.animation.addClip(o),e&&o.setEasing(e)):this._doneCallback(),this},e.prototype.stop=function(e){if(!this._clip)return;var t=this._clip;e&&t.onframe(1),this._abortedCallback()},e.prototype.delay=function(e){return this._delay=e,this},e.prototype.during=function(e){return e&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(e)),this},e.prototype.done=function(e){return e&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(e)),this},e.prototype.aborted=function(e){return e&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(e)),this},e.prototype.getClip=function(){return this._clip},e.prototype.getTrack=function(e){return this._tracks[e]},e.prototype.getTracks=function(){var e=this;return r(this._trackKeys,function(t){return e._tracks[t]})},e.prototype.stopTracks=function(e,t){if(!e.length||!this._clip)return!0;for(var s,o,i=this._tracks,a=this._trackKeys,n=0;n<e.length;n++)s=i[e[n]],s&&!s.isFinished()&&(t?s.step(this._target,1):this._started===1&&s.step(this._target,0),s.setFinished());for(o=!0,n=0;n<a.length;n++)if(!i[a[n]].isFinished()){o=!1;break}return o&&this._abortedCallback(),o},e.prototype.saveTo=function(e,t,n){if(!e)return;t=t||this._trackKeys;for(var s,i,a,r,o=0;o<t.length;o++){if(i=t[o],s=this._tracks[i],!s||s.isFinished())continue;a=s.keyframes,r=a[n?0:a.length-1],r&&(e[i]=Er(r.rawValue))}},e.prototype.__changeFinalValue=function(e,t){t=t||k(e);for(var n,o,i,a,s=0;s<t.length;s++){if(o=t[s],n=this._tracks[o],!n)continue;i=n.keyframes,i.length>1&&(a=i.pop(),n.addKeyframe(a.time,e[o]),n.prepare(this._maxTime,n.getAdditiveTrack()))}},e}();function Ns(){return(new Date).getTime()}T0=function(e){o(t,e);function t(t){var n=e.call(this)||this;return n._running=!1,n._time=0,n._pausedTime=0,n._pauseStart=0,n._paused=!1,t=t||{},n.stage=t.stage||{},n}return t.prototype.addClip=function(e){e.animation&&this.removeClip(e),this._head?(this._tail.next=e,e.prev=this._tail,e.next=null,this._tail=e):this._head=this._tail=e,e.animation=this},t.prototype.addAnimator=function(e){e.animation=this;var t=e.getClip();t&&this.addClip(t)},t.prototype.removeClip=function(e){if(!e.animation)return;var t=e.prev,n=e.next;t?t.next=n:this._head=n,n?n.prev=t:this._tail=t,e.next=e.prev=e.animation=null},t.prototype.removeAnimator=function(e){var t=e.getClip();t&&this.removeClip(t),e.animation=null},t.prototype.update=function(e){for(var s,i,n=Ns()-this._pausedTime,o=n-this._time,t=this._head;t;)s=t.next,i=t.step(n,o),i?(t.ondestroy(),this.removeClip(t),t=s):t=s;this._time=n,e||(this.trigger("frame",o),this.stage.update&&this.stage.update())},t.prototype._startLoop=function(){var e=this;this._running=!0;function t(){e._running&&(vr(t),!e._paused&&e.update())}vr(t)},t.prototype.start=function(){if(this._running)return;this._time=Ns(),this._pausedTime=0,this._startLoop()},t.prototype.stop=function(){this._running=!1},t.prototype.pause=function(){this._paused||(this._pauseStart=Ns(),this._paused=!0)},t.prototype.resume=function(){this._paused&&(this._pausedTime+=Ns()-this._pauseStart,this._paused=!1)},t.prototype.clear=function(){for(var t,e=this._head;e;)t=e.next,e.prev=e.next=e.animation=null,e=t;this._head=this._tail=null},t.prototype.isFinished=function(){return this._head==null},t.prototype.animate=function(e,t){t=t||{},this.start();var n=new ur(e,t.loop);return this.addAnimator(n),n},t}(qe),M0=300,nr=l.domSupported,tr=function(){var e=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],t=["touchstart","touchend","touchmove"],n={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},s=r(e,function(e){var t=e.replace("mouse","pointer");return n.hasOwnProperty(t)?t:e});return{mouse:e,touch:t,pointer:s}}(),t1={mouse:["mousemove","mouseup"],pointer:["pointermove","pointerup"]},s1=!1;function l1(e){var t=e.pointerType;return t==="pen"||t==="touch"}function Ub(e){e.touching=!0,e.touchTimer!=null&&(clearTimeout(e.touchTimer),e.touchTimer=null),e.touchTimer=setTimeout(function(){e.touching=!1,e.touchTimer=null},700)}function d1(e){e&&(e.zrByTouch=!0)}function Wb(e,t){return ze(e.dom,new f0(e,t),!0)}function g0(e,t){for(var n=t,s=!1;n&&n.nodeType!==9&&!(s=n.domBelongToZr||n!==t&&n===e.painterRoot);)n=n.parentNode;return s}f0=function(){function e(e,t){this.stopPropagation=G,this.stopImmediatePropagation=G,this.preventDefault=G,this.type=t.type,this.target=this.currentTarget=e.dom,this.pointerType=t.pointerType,this.clientX=t.clientX,this.clientY=t.clientY}return e}(),ke={mousedown:function(e){e=ze(this.dom,e),this.__mayPointerCapture=[e.zrX,e.zrY],this.trigger("mousedown",e)},mousemove:function(e){e=ze(this.dom,e);var t=this.__mayPointerCapture;t&&(e.zrX!==t[0]||e.zrY!==t[1])&&this.__togglePointerCapture(!0),this.trigger("mousemove",e)},mouseup:function(e){e=ze(this.dom,e),this.__togglePointerCapture(!1),this.trigger("mouseup",e)},mouseout:function(e){e=ze(this.dom,e);var t=e.toElement||e.relatedTarget;g0(this,t)||(this.__pointerCapturing&&(e.zrEventControl="no_globalout"),this.trigger("mouseout",e))},wheel:function(e){s1=!0,e=ze(this.dom,e),this.trigger("mousewheel",e)},mousewheel:function(e){if(s1)return;e=ze(this.dom,e),this.trigger("mousewheel",e)},touchstart:function(e){e=ze(this.dom,e),d1(e),this.__lastTouchMoment=new Date,this.handler.processGesture(e,"start"),ke.mousemove.call(this,e),ke.mousedown.call(this,e)},touchmove:function(e){e=ze(this.dom,e),d1(e),this.handler.processGesture(e,"change"),ke.mousemove.call(this,e)},touchend:function(e){e=ze(this.dom,e),d1(e),this.handler.processGesture(e,"end"),ke.mouseup.call(this,e),+new Date-+this.__lastTouchMoment<M0&&ke.click.call(this,e)},pointerdown:function(e){ke.mousedown.call(this,e)},pointermove:function(e){l1(e)||ke.mousemove.call(this,e)},pointerup:function(e){ke.mouseup.call(this,e)},pointerout:function(e){l1(e)||ke.mouseout.call(this,e)}},t(["click","dblclick","contextmenu"],function(e){ke[e]=function(t){t=ze(this.dom,t),this.trigger(e,t)}}),Xa={pointermove:function(e){l1(e)||Xa.mousemove.call(this,e)},pointerup:function(e){Xa.mouseup.call(this,e)},mousemove:function(e){this.trigger("mousemove",e)},mouseup:function(e){var t=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",e),t&&(e.zrEventControl="only_globalout",this.trigger("mouseout",e))}};function Vb(e,n){var s=n.domHandlers;l.pointerEventsSupported?t(tr.pointer,function(t){Ya(n,t,function(n){s[t].call(e,n)})}):(l.touchEventsSupported&&t(tr.touch,function(t){Ya(n,t,function(o){s[t].call(e,o),Ub(n)})}),t(tr.mouse,function(t){Ya(n,t,function(o){o=Vl(o),n.touching||s[t].call(e,o)})}))}function Bb(e,n){l.pointerEventsSupported?t(t1.pointer,s):l.touchEventsSupported||t(t1.mouse,s);function s(t){function s(s){s=Vl(s),g0(e,s.target)||(s=Wb(e,s),n.domHandlers[t].call(e,s))}Ya(n,t,s,{capture:!0})}}function Ya(e,t,n,s){e.mounted[t]=n,e.listenerOpts[t]=s,vj(e.domTarget,t,n,s)}function v1(e){var t,n=e.mounted;for(t in n)n.hasOwnProperty(t)&&gj(e.domTarget,t,n[t],e.listenerOpts[t]);e.mounted={}}j1=function(){function e(e,t){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=e,this.domHandlers=t}return e}(),s0=function(e){o(t,e);function t(t,n){var s=e.call(this)||this;return s.__pointerCapturing=!1,s.dom=t,s.painterRoot=n,s._localHandlerScope=new j1(t,ke),nr&&(s._globalHandlerScope=new j1(document,Xa)),Vb(s,s._localHandlerScope),s}return t.prototype.dispose=function(){v1(this._localHandlerScope),nr&&v1(this._globalHandlerScope)},t.prototype.setCursor=function(e){this.dom.style&&(this.dom.style.cursor=e||"default")},t.prototype.__togglePointerCapture=function(e){if(this.__mayPointerCapture=null,nr&&+this.__pointerCapturing^+e){this.__pointerCapturing=e;var t=this._globalHandlerScope;e?Bb(this,t):v1(t)}},t}(qe),x1=1,l.hasGlobalWindow&&(x1=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1)),so=x1,Pi=.4,Wa="#333",Va="#ccc",Q4="#eee";function Tn(){return[1,0,0,1,0,0]}function Ys(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e}function A1(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function Wt(e,t,n){var s=t[0]*n[0]+t[2]*n[1],o=t[1]*n[0]+t[3]*n[1],i=t[0]*n[2]+t[2]*n[3],a=t[1]*n[2]+t[3]*n[3],r=t[0]*n[4]+t[2]*n[5]+t[4],c=t[1]*n[4]+t[3]*n[5]+t[5];return e[0]=s,e[1]=o,e[2]=i,e[3]=a,e[4]=r,e[5]=c,e}function Ha(e,t,n){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4]+n[0],e[5]=t[5]+n[1],e}function Pa(e,t,n){var i=t[0],a=t[2],r=t[4],c=t[1],l=t[3],d=t[5],s=Math.sin(n),o=Math.cos(n);return e[0]=i*o+c*s,e[1]=-i*s+c*o,e[2]=a*o+l*s,e[3]=-a*s+o*l,e[4]=o*r+s*d,e[5]=o*d-s*r,e}function V4(e,t,n){var s=n[0],o=n[1];return e[0]=t[0]*s,e[1]=t[1]*o,e[2]=t[2]*s,e[3]=t[3]*o,e[4]=t[4]*s,e[5]=t[5]*o,e}function go(e,t){var s=t[0],o=t[2],r=t[4],i=t[1],a=t[3],c=t[5],n=s*a-i*o;return n?(n=1/n,e[0]=a*n,e[1]=-i*n,e[2]=-o*n,e[3]=s*n,e[4]=(o*c-a*r)*n,e[5]=(i*r-s*c)*n,e):null}function Ib(e){var t=Tn();return A1(t,e),t}I4=Object.freeze({__proto__:null,clone:Ib,copy:A1,create:Tn,identity:Ys,invert:go,mul:Wt,rotate:Pa,scale:V4,translate:Ha}),S1=Ys,M1=5e-5;function zn(e){return e>M1||e<-M1}Vt=[],Dn=[],Ta=Tn(),Sa=Math.abs,Eo=function(){function e(){}return e.prototype.getLocalTransform=function(t){return e.getLocalTransform(this,t)},e.prototype.setPosition=function(e){this.x=e[0],this.y=e[1]},e.prototype.setScale=function(e){this.scaleX=e[0],this.scaleY=e[1]},e.prototype.setSkew=function(e){this.skewX=e[0],this.skewY=e[1]},e.prototype.setOrigin=function(e){this.originX=e[0],this.originY=e[1]},e.prototype.needLocalTransform=function(){return zn(this.rotation)||zn(this.x)||zn(this.y)||zn(this.scaleX-1)||zn(this.scaleY-1)||zn(this.skewX)||zn(this.skewY)},e.prototype.updateTransform=function(){var t=this.parent&&this.parent.transform,n=this.needLocalTransform(),e=this.transform;if(!n&&!t){e&&S1(e);return}e=e||Tn(),n?this.getLocalTransform(e):S1(e),t&&(n?Wt(e,t,e):A1(e,t)),this.transform=e,this._resolveGlobalScaleRatio(e)},e.prototype._resolveGlobalScaleRatio=function(e){var n,s,o,i,t=this.globalScaleRatio;t!=null&&t!==1&&(this.getGlobalScale(Vt),n=Vt[0]<0?-1:1,s=Vt[1]<0?-1:1,o=((Vt[0]-n)*t+n)/Vt[0]||0,i=((Vt[1]-s)*t+s)/Vt[1]||0,e[0]*=o,e[1]*=o,e[2]*=i,e[3]*=i),this.invTransform=this.invTransform||Tn(),go(this.invTransform,e)},e.prototype.getComputedTransform=function(){for(var e=this,t=[];e;)t.push(e),e=e.parent;for(;e=t.pop();)e.updateTransform();return this.transform},e.prototype.setLocalTransform=function(e){if(!e)return;var t=e[0]*e[0]+e[1]*e[1],n=e[2]*e[2]+e[3]*e[3],s=Math.atan2(e[1],e[0]),o=Math.PI/2+s-Math.atan2(e[3],e[2]),n=Math.sqrt(n)*Math.cos(o),t=Math.sqrt(t);this.skewX=o,this.skewY=0,this.rotation=-s,this.x=+e[4],this.y=+e[5],this.scaleX=t,this.scaleY=n,this.originX=0,this.originY=0},e.prototype.decomposeTransform=function(){if(!this.transform)return;var t,n,s=this.parent,e=this.transform;s&&s.transform&&(Wt(Dn,s.invTransform,e),e=Dn),t=this.originX,n=this.originY,(t||n)&&(Ta[4]=t,Ta[5]=n,Wt(Dn,e,Ta),Dn[4]-=t,Dn[5]-=n,e=Dn),this.setLocalTransform(e)},e.prototype.getGlobalScale=function(e){var t=this.transform;return e=e||[],t?(e[0]=Math.sqrt(t[0]*t[0]+t[1]*t[1]),e[1]=Math.sqrt(t[2]*t[2]+t[3]*t[3]),t[0]<0&&(e[0]=-e[0]),t[3]<0&&(e[1]=-e[1]),e):(e[0]=1,e[1]=1,e)},e.prototype.transformCoordToLocal=function(e,t){var n=[e,t],s=this.invTransform;return s&&pe(n,n,s),n},e.prototype.transformCoordToGlobal=function(e,t){var n=[e,t],s=this.transform;return s&&pe(n,n,s),n},e.prototype.getLineScale=function(){var e=this.transform;return e&&Sa(e[0]-1)>1e-10&&Sa(e[3]-1)>1e-10?Math.sqrt(Sa(e[0]*e[3]-e[2]*e[1])):1},e.prototype.copyTransform=function(e){Hb(this,e)},e.getLocalTransform=function(e,t){t=t||[];var a,r,o=e.originX||0,i=e.originY||0,n=e.scaleX,s=e.scaleY,h=e.anchorX,u=e.anchorY,c=e.rotation||0,m=e.x,f=e.y,l=e.skewX?Math.tan(e.skewX):0,d=e.skewY?Math.tan(-e.skewY):0;return o||i||h||u?(r=o+h,a=i+u,t[4]=-r*n-l*a*s,t[5]=-a*s-d*r*n):t[4]=t[5]=0,t[0]=n,t[3]=s,t[1]=d*n,t[2]=l*s,c&&Pa(t,t,c),t[4]+=o+m,t[5]+=i+f,t},e.initDefaultProps=function(){var t=e.prototype;t.scaleX=t.scaleY=t.globalScaleRatio=1,t.x=t.y=t.originX=t.originY=t.skewX=t.skewY=t.rotation=t.anchorX=t.anchorY=0}(),e}(),Ts=["x","y","originX","originY","anchorX","anchorY","rotation","scaleX","scaleY","skewX","skewY"];function Hb(e,t){for(var s,n=0;n<Ts.length;n++)s=Ts[n],e[s]=t[s]}h=function(){function e(e,t){this.x=e||0,this.y=t||0}return e.prototype.copy=function(e){return this.x=e.x,this.y=e.y,this},e.prototype.clone=function(){return new e(this.x,this.y)},e.prototype.set=function(e,t){return this.x=e,this.y=t,this},e.prototype.equal=function(e){return e.x===this.x&&e.y===this.y},e.prototype.add=function(e){return this.x+=e.x,this.y+=e.y,this},e.prototype.scale=function(e){this.x*=e,this.y*=e},e.prototype.scaleAndAdd=function(e,t){this.x+=e.x*t,this.y+=e.y*t},e.prototype.sub=function(e){return this.x-=e.x,this.y-=e.y,this},e.prototype.dot=function(e){return this.x*e.x+this.y*e.y},e.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},e.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},e.prototype.normalize=function(){var e=this.len();return this.x/=e,this.y/=e,this},e.prototype.distance=function(e){var t=this.x-e.x,n=this.y-e.y;return Math.sqrt(t*t+n*n)},e.prototype.distanceSquare=function(e){var t=this.x-e.x,n=this.y-e.y;return t*t+n*n},e.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},e.prototype.transform=function(e){if(!e)return;var t=this.x,n=this.y;return this.x=e[0]*t+e[2]*n+e[4],this.y=e[1]*t+e[3]*n+e[5],this},e.prototype.toArray=function(e){return e[0]=this.x,e[1]=this.y,e},e.prototype.fromArray=function(e){this.x=e[0],this.y=e[1]},e.set=function(e,t,n){e.x=t,e.y=n},e.copy=function(e,t){e.x=t.x,e.y=t.y},e.len=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},e.lenSquare=function(e){return e.x*e.x+e.y*e.y},e.dot=function(e,t){return e.x*t.x+e.y*t.y},e.add=function(e,t,n){e.x=t.x+n.x,e.y=t.y+n.y},e.sub=function(e,t,n){e.x=t.x-n.x,e.y=t.y-n.y},e.scale=function(e,t,n){e.x=t.x*n,e.y=t.y*n},e.scaleAndAdd=function(e,t,n,s){e.x=t.x+n.x*s,e.y=t.y+n.y*s},e.lerp=function(e,t,n,s){var o=1-s;e.x=o*t.x+s*n.x,e.y=o*t.y+s*n.y},e}(),Mo=Math.min,Fo=Math.max,Pt=new h,Rt=new h,zt=new h,Tt=new h,xs=new h,Os=new h,b=function(){function e(e,t,n,s){n<0&&(e=e+n,n=-n),s<0&&(t=t+s,s=-s),this.x=e,this.y=t,this.width=n,this.height=s}return e.prototype.union=function(e){var t=Mo(e.x,this.x),n=Mo(e.y,this.y);isFinite(this.x)&&isFinite(this.width)?this.width=Fo(e.x+e.width,this.x+this.width)-t:this.width=e.width,isFinite(this.y)&&isFinite(this.height)?this.height=Fo(e.y+e.height,this.y+this.height)-n:this.height=e.height,this.x=t,this.y=n},e.prototype.applyTransform=function(t){e.applyTransform(this,this,t)},e.prototype.calculateTransform=function(e){var n=this,s=e.width/n.width,o=e.height/n.height,t=Tn();return Ha(t,t,[-n.x,-n.y]),V4(t,t,[s,o]),Ha(t,t,[e.x,e.y]),t},e.prototype.intersect=function(t,n){if(!t)return!1;t instanceof e||(t=e.create(t));var s,o,i,r,c,l,d,y,a=this,j=a.x,b=a.x+a.width,v=a.y,u=a.y+a.height,g=t.x,p=t.x+t.width,f=t.y,m=t.y+t.height,_=!(b<g||p<j||u<f||m<v);return n&&(l=1/0,d=0,c=Math.abs(b-g),r=Math.abs(p-j),i=Math.abs(u-f),o=Math.abs(m-v),s=Math.min(c,r),y=Math.min(i,o),b<g||p<j?s>d&&(d=s,c<r?h.set(Os,-c,0):h.set(Os,r,0)):s<l&&(l=s,c<r?h.set(xs,c,0):h.set(xs,-r,0)),u<f||m<v?y>d&&(d=y,i<o?h.set(Os,0,-i):h.set(Os,0,o)):s<l&&(l=s,i<o?h.set(xs,0,i):h.set(xs,0,-o))),n&&h.copy(n,_?xs:Os),_},e.prototype.contain=function(e,t){var n=this;return e>=n.x&&e<=n.x+n.width&&t>=n.y&&t<=n.y+n.height},e.prototype.clone=function(){return new e(this.x,this.y,this.width,this.height)},e.prototype.copy=function(t){e.copy(this,t)},e.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},e.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},e.prototype.isZero=function(){return this.width===0||this.height===0},e.create=function(t){return new e(t.x,t.y,t.width,t.height)},e.copy=function(e,t){e.x=t.x,e.y=t.y,e.width=t.width,e.height=t.height},e.applyTransform=function(t,n,s){if(!s){t!==n&&e.copy(t,n);return}if(s[1]<1e-5&&s[1]>-1e-5&&s[2]<1e-5&&s[2]>-1e-5){var a,r,o=s[0],i=s[3],c=s[4],l=s[5];t.x=n.x*o+c,t.y=n.y*i+l,t.width=n.width*o,t.height=n.height*i,t.width<0&&(t.x+=t.width,t.width=-t.width),t.height<0&&(t.y+=t.height,t.height=-t.height);return}Pt.x=zt.x=n.x,Pt.y=Tt.y=n.y,Rt.x=Tt.x=n.x+n.width,Rt.y=zt.y=n.y+n.height,Pt.transform(s),Tt.transform(s),Rt.transform(s),zt.transform(s),t.x=Mo(Pt.x,Rt.x,zt.x,Tt.x),t.y=Mo(Pt.y,Rt.y,zt.y,Tt.y),a=Fo(Pt.x,Rt.x,zt.x,Tt.x),r=Fo(Pt.y,Rt.y,zt.y,Tt.y),t.width=a-t.x,t.height=r-t.y},e}(),D1={};function me(e,t){t=t||St;var n,s=D1[t];return s||(s=D1[t]=new $n(500)),n=s.get(e),n==null&&(n=Ae.measureText(e,t).width,s.put(e,n)),n}function S4(e,t,n,s){var o=me(e,t),i=B1(t),a=$o(0,o,n),r=vs(0,i,s),c=new b(a,r,o,i);return c}function L1(e,t,n,s){var o,a,r,i=((e||"")+"").split(`
`),c=i.length;if(c===1)return S4(i[0],t,n,s);for(a=new b(0,0,0,0),o=0;o<i.length;o++)r=S4(i[o],t,n,s),o===0?a.copy(r):a.union(r);return a}function $o(e,t,n){return n==="right"?e-=t:n==="center"&&(e-=t/2),e}function vs(e,t,n){return n==="middle"?e-=t/2:n==="bottom"&&(e-=t),e}function B1(e){return me("国",e)}function Ct(e,t){return typeof e=="string"?e.lastIndexOf("%")>=0?parseFloat(e)/100*t:parseFloat(e):e}function x4(e,t,n){var u=t.position||"inside",s=t.distance!=null?t.distance:5,l=n.height,c=n.width,d=l/2,o=n.x,i=n.y,a="left",r="top";if(u instanceof Array)o+=Ct(u[0],n.width),i+=Ct(u[1],n.height),a=null,r=null;else switch(u){case"left":o-=s,i+=d,a="right",r="middle";break;case"right":o+=s+c,i+=d,r="middle";break;case"top":o+=c/2,i-=s,a="center",r="bottom";break;case"bottom":o+=c/2,i+=l+s,a="center";break;case"inside":o+=c/2,i+=d,a="center",r="middle";break;case"insideLeft":o+=s,i+=d,r="middle";break;case"insideRight":o+=c-s,i+=d,a="right",r="middle";break;case"insideTop":o+=c/2,i+=s,a="center";break;case"insideBottom":o+=c/2,i+=l-s,a="center",r="bottom";break;case"insideTopLeft":o+=s,i+=s;break;case"insideTopRight":o+=c-s,i+=s,a="right";break;case"insideBottomLeft":o+=s,i+=l-s,r="bottom";break;case"insideBottomRight":o+=c-s,i+=l-s,a="right",r="bottom";break}return e=e||{},e.x=o,e.y=i,e.align=a,e.verticalAlign=r,e}xa="__zr_normal__",Oa=Ts.concat(["ignore"]),w4=tt(Ts,function(e,t){return e[t]=!0,e},{ignore:!1}),_n={},_4=new b(0,0,0,0),Jo=function(){function e(e){this.id=Fc(),this.animators=[],this.currentStates=[],this.states={},this._init(e)}return e.prototype._init=function(e){this.attr(e)},e.prototype.drift=function(e,t){switch(this.draggable){case"horizontal":t=0;break;case"vertical":e=0;break}var s=this.transform;s||(s=this.transform=[1,0,0,1,0,0]),s[4]+=e,s[5]+=t,this.decomposeTransform(),this.markRedraw()},e.prototype.beforeUpdate=function(){},e.prototype.afterUpdate=function(){},e.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},e.prototype.updateInnerText=function(e){var t,n,s,o,i,a,c,l,d,u,h,m,f,p,g,v,b,r=this._textContent;r&&(!r.ignore||e)&&(this.textConfig||(this.textConfig={}),t=this.textConfig,d=t.local,s=r.innerTransformable,p=void 0,f=void 0,v=!1,s.parent=d?this:null,g=!1,s.copyTransform(r),t.position!=null&&(o=_4,t.layoutRect?o.copy(t.layoutRect):o.copy(this.getBoundingRect()),d||o.applyTransform(this.transform),this.calculateTextPosition?this.calculateTextPosition(_n,t,o):x4(_n,t,o),s.x=_n.x,s.y=_n.y,p=_n.align,f=_n.verticalAlign,l=t.origin,l&&t.rotation!=null&&(h=void 0,m=void 0,l==="center"?(h=o.width*.5,m=o.height*.5):(h=Ct(l[0],o.width),m=Ct(l[1],o.height)),g=!0,s.originX=-s.x+h+(d?0:o.x),s.originY=-s.y+m+(d?0:o.y))),t.rotation!=null&&(s.rotation=t.rotation),c=t.offset,c&&(s.x+=c[0],s.y+=c[1],g||(s.originX=-c[0],s.originY=-c[1])),b=t.inside==null?typeof t.position=="string"&&t.position.indexOf("inside")>=0:t.inside,i=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={}),n=void 0,a=void 0,u=void 0,b&&this.canBeInsideText()?(n=t.insideFill,a=t.insideStroke,(n==null||n==="auto")&&(n=this.getInsideTextFill()),(a==null||a==="auto")&&(a=this.getInsideTextStroke(n),u=!0)):(n=t.outsideFill,a=t.outsideStroke,(n==null||n==="auto")&&(n=this.getOutsideFill()),(a==null||a==="auto")&&(a=this.getOutsideStroke(n),u=!0)),n=n||"#000",(n!==i.fill||a!==i.stroke||u!==i.autoStroke||p!==i.align||f!==i.verticalAlign)&&(v=!0,i.fill=n,i.stroke=a,i.autoStroke=u,i.align=p,i.verticalAlign=f,r.setDefaultTextStyle(i)),r.__dirty|=ae,v&&r.dirtyStyle(!0))},e.prototype.canBeInsideText=function(){return!0},e.prototype.getInsideTextFill=function(){return"#fff"},e.prototype.getInsideTextStroke=function(){return"#000"},e.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?Va:Wa},e.prototype.getOutsideStroke=function(){var n,s,i,o=this.__zr&&this.__zr.getBackgroundColor(),t=typeof o=="string"&&ge(o);t||(t=[255,255,255,1]);for(s=t[3],i=this.__zr.isDarkMode(),n=0;n<3;n++)t[n]=t[n]*s+(i?0:255)*(1-s);return t[3]=1,lt(t,"rgba")},e.prototype.traverse=function(){},e.prototype.attrKV=function(e,t){e==="textConfig"?this.setTextConfig(t):e==="textContent"?this.setTextContent(t):e==="clipPath"?this.setClipPath(t):e==="extra"?(this.extra=this.extra||{},n(this.extra,t)):this[e]=t},e.prototype.hide=function(){this.ignore=!0,this.markRedraw()},e.prototype.show=function(){this.ignore=!1,this.markRedraw()},e.prototype.attr=function(e,t){if(typeof e=="string")this.attrKV(e,t);else if(a(e))for(var s,i=e,o=k(i),n=0;n<o.length;n++)s=o[n],this.attrKV(s,e[s]);return this.markRedraw(),this},e.prototype.saveCurrentToNormalState=function(e){this._innerSaveToNormal(e);for(var t,s,o,a,i=this._normalState,n=0;n<this.animators.length;n++){if(t=this.animators[n],s=t.__fromStateTransition,t.getLoop()||s&&s!==xa)continue;o=t.targetName,a=o?i[o]:i,t.saveTo(a)}},e.prototype._innerSaveToNormal=function(e){var t=this._normalState;t||(t=this._normalState={}),e.textConfig&&!t.textConfig&&(t.textConfig=this.textConfig),this._savePrimaryToNormal(e,t,Oa)},e.prototype._savePrimaryToNormal=function(e,t,n){for(var s,o=0;o<n.length;o++)s=n[o],e[s]!=null&&!(s in t)&&(t[s]=this[s])},e.prototype.hasState=function(){return this.currentStates.length>0},e.prototype.getState=function(e){return this.states[e]},e.prototype.ensureState=function(e){var t=this.states;return t[e]||(t[e]={}),t[e]},e.prototype.clearStates=function(e){this.useState(xa,!1,e)},e.prototype.useState=function(e,t,n,s){var o,a,r,c,l,d,i=e===xa,u=this.hasState();if(!u&&i)return;if(c=this.currentStates,r=this.stateTransition,_(c,e)>=0&&(t||c.length===1))return;if(this.stateProxy&&!i&&(o=this.stateProxy(e)),o||(o=this.states&&this.states[e]),!o&&!i){wt("State "+e+" not exists.");return}return i||this.saveCurrentToNormalState(o),a=!!(o&&o.hoverLayer||s),a&&this._toggleHoverLayerFlag(!0),this._applyStateObj(e,o,this._normalState,t,!n&&!this.__inHover&&r&&r.duration>0,r),l=this._textContent,d=this._textGuide,l&&l.useState(e,t,n,a),d&&d.useState(e,t,n,a),i?(this.currentStates=[],this._normalState={}):t?this.currentStates.push(e):this.currentStates=[e],this._updateAnimationTargets(),this.markRedraw(),!a&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~ae),o},e.prototype.useStates=function(e,t,n){if(e.length){var s,o,i,a,l,d,h,m,f,u=[],p=this.currentStates,r=e.length,c=r===p.length;if(c)for(s=0;s<r;s++)if(e[s]!==p[s]){c=!1;break}if(c)return;for(s=0;s<r;s++)l=e[s],o=void 0,this.stateProxy&&(o=this.stateProxy(l,e)),o||(o=this.states[l]),o&&u.push(o);d=u[r-1],i=!!(d&&d.hoverLayer||n),i&&this._toggleHoverLayerFlag(!0),h=this._mergeStates(u),a=this.stateTransition,this.saveCurrentToNormalState(h),this._applyStateObj(e.join(","),h,this._normalState,!1,!t&&!this.__inHover&&a&&a.duration>0,a),m=this._textContent,f=this._textGuide,m&&m.useStates(e,t,i),f&&f.useStates(e,t,i),this._updateAnimationTargets(),this.currentStates=e.slice(),this.markRedraw(),!i&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~ae)}else this.clearStates()},e.prototype._updateAnimationTargets=function(){for(var e,t=0;t<this.animators.length;t++)e=this.animators[t],e.targetName&&e.changeTarget(this[e.targetName])},e.prototype.removeState=function(e){var t,n=_(this.currentStates,e);n>=0&&(t=this.currentStates.slice(),t.splice(n,1),this.useStates(t))},e.prototype.replaceState=function(e,t,n){var s=this.currentStates.slice(),o=_(s,e),i=_(s,t)>=0;o>=0?i?s.splice(o,1):s[o]=t:n&&!i&&s.push(t),this.useStates(s)},e.prototype.toggleState=function(e,t){t?this.useState(e,!0):this.removeState(e)},e.prototype._mergeStates=function(e){for(var t,s,o={},i=0;i<e.length;i++)s=e[i],n(o,s),s.textConfig&&(t=t||{},n(t,s.textConfig));return t&&(o.textConfig=t),o},e.prototype._applyStateObj=function(e,t,s,o,i,a){var r,c,l,d,u,h,m,f=!t||!o;t&&t.textConfig?(this.textConfig=n({},o?this.textConfig:s.textConfig),n(this.textConfig,t.textConfig)):f&&s.textConfig&&(this.textConfig=s.textConfig);for(l={},d=!1,c=0;c<Oa.length;c++)r=Oa[c],h=i&&w4[r],t&&t[r]!=null?h?(d=!0,l[r]=t[r]):this[r]=t[r]:f&&s[r]!=null&&(h?(d=!0,l[r]=s[r]):this[r]=s[r]);if(!i)for(c=0;c<this.animators.length;c++)u=this.animators[c],m=u.targetName,u.getLoop()||u.__changeFinalValue(m?(t||s)[m]:t||s);d&&this._transitionState(e,l,a)},e.prototype._attachComponent=function(e){if(e.__zr&&!e.__hostTarget)throw new Error("Text element has been added to zrender.");if(e===this)throw new Error("Recursive component attachment.");var t=this.__zr;t&&e.addSelfToZr(t),e.__zr=t,e.__hostTarget=this},e.prototype._detachComponent=function(e){e.__zr&&e.removeSelfFromZr(e.__zr),e.__zr=null,e.__hostTarget=null},e.prototype.getClipPath=function(){return this._clipPath},e.prototype.setClipPath=function(e){this._clipPath&&this._clipPath!==e&&this.removeClipPath(),this._attachComponent(e),this._clipPath=e,this.markRedraw()},e.prototype.removeClipPath=function(){var e=this._clipPath;e&&(this._detachComponent(e),this._clipPath=null,this.markRedraw())},e.prototype.getTextContent=function(){return this._textContent},e.prototype.setTextContent=function(e){var t=this._textContent;if(t===e)return;if(t&&t!==e&&this.removeTextContent(),e.__zr&&!e.__hostTarget)throw new Error("Text element has been added to zrender.");e.innerTransformable=new Eo,this._attachComponent(e),this._textContent=e,this.markRedraw()},e.prototype.setTextConfig=function(e){this.textConfig||(this.textConfig={}),n(this.textConfig,e),this.markRedraw()},e.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},e.prototype.removeTextContent=function(){var e=this._textContent;e&&(e.innerTransformable=null,this._detachComponent(e),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},e.prototype.getTextGuideLine=function(){return this._textGuide},e.prototype.setTextGuideLine=function(e){this._textGuide&&this._textGuide!==e&&this.removeTextGuideLine(),this._attachComponent(e),this._textGuide=e,this.markRedraw()},e.prototype.removeTextGuideLine=function(){var e=this._textGuide;e&&(this._detachComponent(e),this._textGuide=null,this.markRedraw())},e.prototype.markRedraw=function(){this.__dirty|=ae;var e=this.__zr;e&&(this.__inHover?e.refreshHover():e.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},e.prototype.dirty=function(){this.markRedraw()},e.prototype._toggleHoverLayerFlag=function(e){this.__inHover=e;var t=this._textContent,n=this._textGuide;t&&(t.__inHover=e),n&&(n.__inHover=e)},e.prototype.addSelfToZr=function(e){if(this.__zr===e)return;this.__zr=e;var t,n=this.animators;if(n)for(t=0;t<n.length;t++)e.animation.addAnimator(n[t]);this._clipPath&&this._clipPath.addSelfToZr(e),this._textContent&&this._textContent.addSelfToZr(e),this._textGuide&&this._textGuide.addSelfToZr(e)},e.prototype.removeSelfFromZr=function(e){if(!this.__zr)return;this.__zr=null;var t,n=this.animators;if(n)for(t=0;t<n.length;t++)e.animation.removeAnimator(n[t]);this._clipPath&&this._clipPath.removeSelfFromZr(e),this._textContent&&this._textContent.removeSelfFromZr(e),this._textGuide&&this._textGuide.removeSelfFromZr(e)},e.prototype.animate=function(e,t,n){var s,o=e?this[e]:this;if(!o){wt('Property "'+e+'" is not existed in element '+this.id);return}return s=new ur(o,t,n),e&&(s.targetName=e),this.addAnimator(s,e),s},e.prototype.addAnimator=function(e,t){var n=this.__zr,s=this;e.during(function(){s.updateDuringAnimation(t)}).done(function(){var t=s.animators,n=_(t,e);n>=0&&t.splice(n,1)}),this.animators.push(e),n&&n.animation.addAnimator(e),n&&n.wakeUp()},e.prototype.updateDuringAnimation=function(){this.markRedraw()},e.prototype.stopAnimation=function(e,t){for(var n,o=this.animators,a=o.length,i=[],s=0;s<a;s++)n=o[s],!e||e===n.scope?n.stop(t):i.push(n);return this.animators=i,this},e.prototype.animateTo=function(e,t,n){$1(this,e,t,n)},e.prototype.animateFrom=function(e,t,n){$1(this,e,t,n,!0)},e.prototype._transitionState=function(e,t,n,s){for(var i=$1(this,t,n,s),o=0;o<i.length;o++)i[o].__fromStateTransition=e},e.prototype.getBoundingRect=function(){return null},e.prototype.getPaintRect=function(){return null},e.initDefaultProps=function(){var n,t=e.prototype;t.type="element",t.name="",t.ignore=t.silent=t.isGroup=t.draggable=t.dragging=t.ignoreClip=t.__inHover=!1,t.__dirty=ae,n={};function o(e,t,s){n[e+t+s]||(console.warn("DEPRECATED: '"+e+"' has been deprecated. use '"+t+"', '"+s+"' instead"),n[e+t+s]=!0)}function s(e,n,s,i){Object.defineProperty(t,e,{get:function(){if(o(e,s,i),!this[n]){var t=this[n]=[];a(this,t)}return this[n]},set:function(t){o(e,s,i),this[s]=t[0],this[i]=t[1],this[n]=t,a(this,t)}});function a(e,t){Object.defineProperty(t,0,{get:function(){return e[s]},set:function(t){e[s]=t}}),Object.defineProperty(t,1,{get:function(){return e[i]},set:function(t){e[i]=t}})}}Object.defineProperty&&(s("position","_legacyPos","x","y"),s("scale","_legacyScale","scaleX","scaleY"),s("origin","_legacyOrigin","originX","originY"))}(),e}(),Ye(Jo,qe),Ye(Jo,Eo);function $1(e,t,n,s,o){n=n||{};var a,r,c,l,d,u,h,m,i=[];d4(e,"",e,t,n,s,i,o),r=i.length,d=!1,a=n.done,c=n.aborted,h=function(){d=!0,r--,r<=0&&(d?a&&a():c&&c())},m=function(){r--,r<=0&&(d?a&&a():c&&c())},r||a&&a(),i.length>0&&n.during&&i[0].during(function(e,t){n.during(t)});for(u=0;u<i.length;u++)l=i[u],h&&l.done(h),m&&l.aborted(m),n.force&&l.duration(n.duration),l.start(n.easing);return i}function W1(e,t,n){for(var s=0;s<n;s++)e[s]=t[s]}function Pb(e){return B(e[0])}function Rb(e,t,n){if(B(t[n]))if(B(e[n])||(e[n]=[]),X(t[n])){var s,o,i,r,c,a=t[n].length;e[n].length!==a&&(e[n]=new t[n].constructor(a),W1(e[n],t[n],a))}else{if(s=t[n],i=e[n],r=s.length,Pb(s))for(c=s[0].length,o=0;o<r;o++)i[o]?W1(i[o],s[o],c):i[o]=Array.prototype.slice.call(s[o]);else W1(i,s,r);i.length=s.length}else e[n]=t[n]}function Lb(e,t){return e===t||B(e)&&B(t)&&Nb(e,t)}function Nb(e,t){var n,s=e.length;if(s!==t.length)return!1;for(n=0;n<s;n++)if(e[n]!==t[n])return!1;return!0}function d4(e,t,n,s,o,i,r,c){for(var l,d,u,m,f,p,g,j,x,C,w=k(s),E=o.duration,S=o.delay,O=o.additive,b=o.setToFinal,A=!a(i),v=e.animators,h=[],y=0;y<w.length;y++)if(l=w[y],m=s[l],m!=null&&n[l]!=null&&(A||i[l]))if(a(m)&&!B(m)&&!ko(m)){if(t){c||(n[l]=m,e.updateDuringAnimation(t));continue}d4(e,l,n[l],m,o,i&&i[l],r,c)}else h.push(l);else c||(n[l]=m,e.updateDuringAnimation(t),h.push(l));if(f=h.length,!O&&f)for(u=0;u<v.length;u++)d=v[u],d.targetName===t&&(x=d.stopTracks(h),x&&(C=_(v,d),v.splice(C,1)));if(o.force||(h=F(h,function(e){return!Lb(s[e],n[e])}),f=h.length),f>0||o.force&&!r.length){if(g=void 0,j=void 0,p=void 0,c){j={},b&&(g={});for(u=0;u<f;u++)l=h[u],j[l]=n[l],b?g[l]=s[l]:n[l]=s[l]}else if(b){p={};for(u=0;u<f;u++)l=h[u],p[l]=Er(n[l]),Rb(n,s,l)}d=new ur(n,!1,!1,O?F(v,function(e){return e.targetName===t}):null),d.targetName=t,o.scope&&(d.scope=o.scope),b&&g&&d.whenWithKeys(0,g,h),p&&d.whenWithKeys(0,p,h),d.whenWithKeys(E??500,c?j:s,h).delay(S||0),e.addAnimator(d,t),r.push(d)}}Z=function(e){o(t,e);function t(t){var n=e.call(this)||this;return n.isGroup=!0,n._children=[],n.attr(t),n}return t.prototype.childrenRef=function(){return this._children},t.prototype.children=function(){return this._children.slice()},t.prototype.childAt=function(e){return this._children[e]},t.prototype.childOfName=function(e){for(var n=this._children,t=0;t<n.length;t++)if(n[t].name===e)return n[t]},t.prototype.childCount=function(){return this._children.length},t.prototype.add=function(e){if(e&&(e!==this&&e.parent!==this&&(this._children.push(e),this._doAdd(e)),e.__hostTarget))throw"This elemenet has been used as an attachment";return this},t.prototype.addBefore=function(e,t){if(e&&e!==this&&e.parent!==this&&t&&t.parent===this){var n=this._children,s=n.indexOf(t);s>=0&&(n.splice(s,0,e),this._doAdd(e))}return this},t.prototype.replace=function(e,t){var n=_(this._children,e);return n>=0&&this.replaceAt(t,n),this},t.prototype.replaceAt=function(e,t){var s,o=this._children,n=o[t];return e&&e!==this&&e.parent!==this&&e!==n&&(o[t]=e,n.parent=null,s=this.__zr,s&&n.removeSelfFromZr(s),this._doAdd(e)),this},t.prototype._doAdd=function(e){e.parent&&e.parent.remove(e),e.parent=this;var t=this.__zr;t&&t!==e.__zr&&e.addSelfToZr(t),t&&t.refresh()},t.prototype.remove=function(e){var t=this.__zr,n=this._children,s=_(n,e);return s<0?this:(n.splice(s,1),e.parent=null,t&&e.removeSelfFromZr(t),t&&t.refresh(),this)},t.prototype.removeAll=function(){for(var n,e=this._children,s=this.__zr,t=0;t<e.length;t++)n=e[t],s&&n.removeSelfFromZr(s),n.parent=null;return e.length=0,this},t.prototype.eachChild=function(e,t){for(var o,s=this._children,n=0;n<s.length;n++)o=s[n],e.call(t,o,n);return this},t.prototype.traverse=function(e,t){for(var n,o,s=0;s<this._children.length;s++)n=this._children[s],o=e.call(t,n),n.isGroup&&!o&&n.traverse(e,t);return this},t.prototype.addSelfToZr=function(t){e.prototype.addSelfToZr.call(this,t);for(var s,n=0;n<this._children.length;n++)s=this._children[n],s.addSelfToZr(t)},t.prototype.removeSelfFromZr=function(t){e.prototype.removeSelfFromZr.call(this,t);for(var s,n=0;n<this._children.length;n++)s=this._children[n],s.removeSelfFromZr(t)},t.prototype.getBoundingRect=function(e){for(var n,o,a,s=new b(0,0,0,0),r=e||this._children,c=[],t=null,i=0;i<r.length;i++){if(n=r[i],n.ignore||n.invisible)continue;o=n.getBoundingRect(),a=n.getLocalTransform(c),a?(b.applyTransform(s,o,a),t=t||s.clone(),t.union(s)):(t=t||o.clone(),t.union(o))}return t||s},t}(Jo),Z.prototype.type="group",rs={},At={};function Db(e){delete At[e]}function zb(e){if(!e)return!1;if(typeof e=="string")return ci(e,1)<Pi;if(e.colorStops){for(var s=e.colorStops,t=0,o=s.length,n=0;n<o;n++)t+=ci(s[n].color,1);return t/=o,t<Pi}return!1}t4=function(){function e(e,t,n){var s,o,i,a,r,c=this;if(this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,n=n||{},this.dom=t,this.id=e,i=new M3,o=n.renderer||"canvas",rs[o]||(o=k(rs)[0]),!rs[o])throw new Error("Renderer '"+o+"' is not imported. Please import it first.");n.useDirtyRect=n.useDirtyRect!=null&&n.useDirtyRect,s=new rs[o](t,i,n,e),a=n.ssr||s.ssrOnly,this.storage=i,this.painter=s,r=!l.node&&!l.worker&&!a?new s0(s.getViewportRoot(),s.root):null,this.handler=new gd(i,s,r,s.root),this.animation=new T0({stage:{update:a?null:function(){return c._flush(!0)}}}),a||this.animation.start()}return e.prototype.add=function(e){if(!e)return;this.storage.addRoot(e),e.addSelfToZr(this),this.refresh()},e.prototype.remove=function(e){if(!e)return;this.storage.delRoot(e),e.removeSelfFromZr(this),this.refresh()},e.prototype.configLayer=function(e,t){this.painter.configLayer&&this.painter.configLayer(e,t),this.refresh()},e.prototype.setBackgroundColor=function(e){this.painter.setBackgroundColor&&this.painter.setBackgroundColor(e),this.refresh(),this._backgroundColor=e,this._darkMode=zb(e)},e.prototype.getBackgroundColor=function(){return this._backgroundColor},e.prototype.setDarkMode=function(e){this._darkMode=e},e.prototype.isDarkMode=function(){return this._darkMode},e.prototype.refreshImmediately=function(e){e||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1},e.prototype.refresh=function(){this._needsRefresh=!0,this.animation.start()},e.prototype.flush=function(){this._flush(!1)},e.prototype._flush=function(e){var t,n,s=Ns();this._needsRefresh&&(t=!0,this.refreshImmediately(e)),this._needsRefreshHover&&(t=!0,this.refreshHoverImmediately()),n=Ns(),t?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:n-s})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},e.prototype.setSleepAfterStill=function(e){this._sleepAfterStill=e},e.prototype.wakeUp=function(){this.animation.start(),this._stillFrameAccum=0},e.prototype.refreshHover=function(){this._needsRefreshHover=!0},e.prototype.refreshHoverImmediately=function(){this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.getType()==="canvas"&&this.painter.refreshHover()},e.prototype.resize=function(e){e=e||{},this.painter.resize(e.width,e.height),this.handler.resize()},e.prototype.clearAnimation=function(){this.animation.clear()},e.prototype.getWidth=function(){return this.painter.getWidth()},e.prototype.getHeight=function(){return this.painter.getHeight()},e.prototype.setCursorStyle=function(e){this.handler.setCursorStyle(e)},e.prototype.findHover=function(e,t){return this.handler.findHover(e,t)},e.prototype.on=function(e,t,n){return this.handler.on(e,t,n),this},e.prototype.off=function(e,t){this.handler.off(e,t)},e.prototype.trigger=function(e,t){this.handler.trigger(e,t)},e.prototype.clear=function(){for(var t=this.storage.getRoots(),e=0;e<t.length;e++)t[e]instanceof Z&&t[e].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()},e.prototype.dispose=function(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,Db(this.id)},e}();function q1(e,t){var n=new t4(Fc(),e,t);return At[n.id]=n,n}function Tb(e){e.dispose()}function Sb(){for(var e in At)At.hasOwnProperty(e)&&At[e].dispose();At={}}function Ab(e){return At[e]}function H4(e,t){rs[e]=t}i0="5.3.0",j0=Object.freeze({__proto__:null,dispose:Tb,disposeAll:Sb,getInstance:Ab,init:q1,registerPainter:H4,version:i0}),h1=1e-4,o1=20;function kb(e){return e.replace(/^\s+|\s+$/g,"")}function ct(e,t,n,s){var i=t[0],r=t[1],o=n[0],a=n[1],c=r-i,l=a-o;if(c===0)return l===0?o:(o+a)/2;if(s){if(c>0){{if(e<=i)return o;if(e>=r)return a}}else{if(e>=i)return o;if(e<=r)return a}}else{if(e===i)return o;if(e===r)return a}return(e-i)/c*l+o}function L(e,t){switch(e){case"center":case"middle":e="50%";break;case"left":case"top":e="0%";break;case"right":case"bottom":e="100%";break}return i(e)?kb(e).match(/%$/)?parseFloat(e)/100*t:parseFloat(e):e==null?NaN:+e}function fe(e,t,n){return t==null&&(t=10),t=Math.min(Math.max(0,t),o1),e=(+e).toFixed(t),n?e:+e}function Zu(e){return e.sort(function(e,t){return e-t}),e}function dt(e){if(e=+e,isNaN(e))return 0;if(e>1e-14)for(var t=1,n=0;n<15;n++,t*=10)if(Math.round(e*t)/t===e)return n;return L0(e)}function L0(e){var t=e.toString().toLowerCase(),n=t.indexOf("e"),o=n>0?+t.slice(n+1):0,i=n>0?n:t.length,s=t.indexOf("."),a=s<0?0:i-1-s;return Math.max(0,a-o)}function R0(e,t){var n=Math.log,s=Math.LN10,i=Math.floor(n(e[1]-e[0])/s),a=Math.round(n(Math.abs(t[1]-t[0]))/s),o=Math.min(Math.max(-i+a,0),20);return isFinite(o)?o:20}function Eb(e,t,n){if(!e[t])return 0;if(l=tt(e,function(e,t){return e+(isNaN(t)?0:t)},0),l===0)return 0;for(a=Math.pow(10,n),d=r(e,function(e){return(isNaN(e)?0:e)/l*a*100}),m=a*100,s=r(d,function(e){return Math.floor(e)}),u=tt(s,function(e,t){return e+t},0),o=r(d,function(e,t){return e-s[t]});u<m;){for(var s,o,a,l,d,u,m,h=Number.NEGATIVE_INFINITY,c=null,i=0,f=o.length;i<f;++i)o[i]>h&&(h=o[i],c=i);++s[c],o[c]=0,++u}return s[t]/a}function Cb(e,t){var n=Math.max(dt(e),dt(t)),s=e+t;return n>o1?s:fe(s,n)}K0=9007199254740991;function Wu(e){var t=Math.PI*2;return(e%t+t)%t}function Di(e){return e>-h1&&e<h1}e2=/^(?:(\d{4})(?:[-/](\d{1,2})(?:[-/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[+-]\d\d:?\d\d)?)?)?)?)?$/;function le(e){if(e instanceof Date)return e;if(i(e)){var n,t=e2.exec(e);return t?t[8]?(n=+t[4]||0,t[8].toUpperCase()!=="Z"&&(n-=+t[8].slice(0,3)),new Date(Date.UTC(+t[1],+(t[2]||1)-1,+t[3]||1,n,+(t[5]||0),+t[6]||0,t[7]?+t[7].substring(0,3):0))):new Date(+t[1],+(t[2]||1)-1,+t[3]||1,+t[4]||0,+(t[5]||0),+t[6]||0,t[7]?+t[7].substring(0,3):0):new Date(NaN)}else if(e==null)return new Date(NaN);return new Date(Math.round(e))}function a2(e){return Math.pow(10,Ru(e))}function Ru(e){if(e===0)return 0;var t=Math.floor(Math.log(e)/Math.LN10);return e/Math.pow(10,t)>=10&&t++,t}function Lu(e,t){var n,o=Ru(e),i=Math.pow(10,o),s=e/i;return t?s<1.5?n=1:s<2.5?n=2:s<4?n=3:s<7?n=5:n=10:s<1?n=1:s<2?n=2:s<3?n=3:s<5?n=5:n=10,e=n*i,o>=-20?+e.toFixed(o<0?-o:0):e}function xb(e,t){var o=(e.length-1)*t+1,n=Math.floor(o),s=+e[n-1],i=o-n;return i?s+i*(e[n]-s):s}function zu(e){e.sort(function(e,t){return r(e,t,0)?-1:1});for(var t,n,o,i=-(1/0),a=1,s=0;s<e.length;){for(n=e[s].interval,o=e[s].close,t=0;t<2;t++)n[t]<=i&&(n[t]=i,o[t]=t?1:1-a),i=n[t],a=o[t];n[0]===n[1]&&o[0]*o[1]!==1?e.splice(s,1):s++}return e;function r(e,t,n){return e.interval[n]<t.interval[n]||e.interval[n]===t.interval[n]&&(e.close[n]-t.close[n]===(n?-1:1)||!n&&r(e,t,1))}}function pt(e){var t=parseFloat(e);return t==e&&(t!==0||!i(e)||e.indexOf("x")<=0)?t:NaN}function Mu(e){return!isNaN(pt(e))}function j2(){return Math.round(Math.random()*9)}function x2(e,t){return t===0?e:x2(t,e%t)}function E2(e,t){return e==null?t:t==null?e:e*t/x2(e,t)}M2="[ECharts] ",ju={},e3=typeof console!="undefined"&&console.warn&&console.log;function Xi(e,t,n){if(e3){if(n){if(ju[t])return;ju[t]=!0}console[e](M2+t)}}function Ob(e,t){Xi("log",e,t)}function uu(e,t){Xi("warn",e,t)}function K(e,t){Xi("error",e,t)}function Ge(e){Xi("warn","DEPRECATED: "+e,!0)}function z(e,t,n){Ge((n?"["+n+"]":"")+(e+" is deprecated, use "+t+" instead."))}function ne(){for(var t,n,s=[],e=0;e<arguments.length;e++)s[e]=arguments[e];return t="",n=function(e){return e===void 0?"undefined":e===1/0?"Infinity":e===-(1/0)?"-Infinity":zs(e)?"NaN":e instanceof Date?"Date("+e.toISOString()+")":d(e)?"function () { ... }":Vc(e)?e+"":null},t=r(s,function(e){if(i(e))return e;var t=n(e);if(t!=null)return t;if(typeof JSON!="undefined"&&JSON.stringify)try{return JSON.stringify(e,function(e,t){var s=n(t);return s??t})}catch{return"?"}else return"?"}).join(" "),t}function g(e){throw new Error(e)}function h3(e,t,n){return(t-e)*n+e}lu="series\0",g3="\0_ec_\0";function N(e){return e instanceof Array?e:e==null?[]:[e]}function j3(e,t,n){if(e){e[t]=e[t]||{},e.emphasis=e.emphasis||{},e.emphasis[t]=e.emphasis[t]||{};for(var s,o=0,i=n.length;o<i;o++)s=n[o],!e.emphasis[t].hasOwnProperty(s)&&e[t].hasOwnProperty(s)&&(e.emphasis[t][s]=e[t][s])}}iu=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function hi(e){return a(e)&&!s(e)&&!(e instanceof Date)?e.value:e}function wb(e){return a(e)&&!(e instanceof Array)}function _b(e,n,s){var o,c,i=s==="normalMerge",r=s==="replaceMerge",l=s==="replaceAll";return e=e||[],n=(n||[]).slice(),c=m(),t(n,function(e,t){if(!a(e)){n[t]=null;return}e.id!=null&&!P3(e.id)&&L3(e.id),e.name!=null&&!P3(e.name)&&L3(e.name)}),o=yb(e,c,s),(i||r)&&jb(o,e,c,n),i&&bb(o,n),i||r?vb(o,n,r):l&&gb(o,n),mb(o),o}function yb(e,t,n){var s,o,i=[];if(n==="replaceAll")return i;for(o=0;o<e.length;o++)s=e[o],s&&s.id!=null&&t.set(s.id,o),i.push({existing:n==="replaceMerge"||gs(s)?null:s,newOption:null,keyInfo:null,brandNew:null});return i}function jb(e,n,s,o){t(o,function(t,i){if(!t||t.id==null)return;var a,c=Qo(t.id),r=s.get(c);r!=null&&(a=e[r],u(!a.newOption,'Duplicated option on id "'+c+'".'),a.newOption=t,a.existing=n[r],o[i]=null)})}function bb(e,n){t(n,function(t,s){if(!t||t.name==null)return;for(var i,o=0;o<e.length;o++)if(i=e[o].existing,!e[o].newOption&&i&&(i.id==null||t.id==null)&&!gs(t)&&!gs(i)&&T3("name",i,t)){e[o].newOption=t,n[s]=null;return}})}function vb(e,n,s){t(n,function(t){if(!t)return;for(var n,o=0;(n=e[o])&&(n.newOption||gs(n.existing)||n.existing&&t.id!=null&&!T3("id",t,n.existing));)o++;n?(n.newOption=t,n.brandNew=s):e.push({newOption:t,brandNew:s,existing:null,keyInfo:null}),o++})}function gb(e,n){t(n,function(t){e.push({newOption:t,brandNew:!0,existing:null,keyInfo:null})})}function mb(e){var n=m();t(e,function(e){var t=e.existing;t&&n.set(t.id,e)}),t(e,function(e){var t=e.newOption;u(!t||t.id==null||!n.get(t.id)||n.get(t.id)===e,"id duplicates: "+(t&&t.id)),t&&t.id!=null&&n.set(t.id,e),!e.keyInfo&&(e.keyInfo={})}),t(e,function(e,t){var r,i=e.existing,o=e.newOption,s=e.keyInfo;if(!a(o))return;if(s.name=o.name!=null?Qo(o.name):i?i.name:lu+t,i)s.id=Qo(i.id);else if(o.id!=null)s.id=Qo(o.id);else{r=0;do s.id="\0"+s.name+"\0"+r++;while(n.get(s.id))}n.set(s.id,e)})}function T3(e,t,n){var s=Be(t[e],null),o=Be(n[e],null);return s!=null&&o!=null&&s===o}function Qo(e){if(e==null)throw new Error;return Be(e,"")}function Be(e,t){return e==null?t:i(e)?e:E(e)||zo(e)?e+"":t}function L3(e){uu("`"+e+"` is invalid id or name. Must be a string or number.")}function P3(e){return zo(e)||Mu(e)}function q3(e){var t=e.name;return!!(t&&t.indexOf(lu))}function gs(e){return e&&e.id!=null&&Qo(e.id).indexOf(g3)===0}function hb(e,n,s){t(e,function(e){var t=e.newOption;a(t)&&(e.keyInfo.mainType=n,e.keyInfo.subType=ub(n,t,e.existing,s))})}function ub(e,t,n,s){var o=t.type?t.type:n?n.subType:s.determineSubType(e,t);return o}function db(e,t){var n={},o={};return i(e||[],n),i(t||[],o,n),[s(n),s(o)];function i(e,t,n){for(var s,i,a,r,c,l,o=0,d=e.length;o<d;o++){if(s=Be(e[o].seriesId,null),s==null)return;for(c=N(e[o].dataIndex),i=n&&n[s],a=0,l=c.length;a<l;a++)r=c[a],i&&i[r]?i[r]=null:(t[s]||(t[s]={}))[r]=1}}function s(e,t){var n,i,o=[];for(n in e)e.hasOwnProperty(n)&&e[n]!=null&&(t?o.push(+n):(i=s(e[n],!0),i.length&&o.push({seriesId:n,dataIndex:i})));return o}}function Co(e,t){if(t.dataIndexInside!=null)return t.dataIndexInside;if(t.dataIndex!=null)return s(t.dataIndex)?r(t.dataIndex,function(t){return e.indexOfRawIndex(t)}):e.indexOfRawIndex(t.dataIndex);if(t.name!=null)return s(t.name)?r(t.name,function(t){return e.indexOfName(t)}):e.indexOfName(t.name)}function S(){var e="__ec_inner_"+nh++;return function(t){return t[e]||(t[e]={})}}nh=j2();function zd(e,t,n){var s=Td(t,n),r=s.mainTypeSpecified,a=s.queryOptionMap,c=s.others,o=c,i=n?n.defaultMainType:null;return!r&&i&&a.set(i,{}),a.each(function(t,s){var a=vo(e,s,t,{useDefault:i===s,enableAll:!n||n.enableAll==null||n.enableAll,enableNone:!n||n.enableNone==null||n.enableNone});o[s+"Models"]=a.models,o[s+"Model"]=a.models[0]}),o}function Td(e,n){if(i(e)){var s,o,a,r,c={};c[e+"Index"]=0,a=c}else a=e;return s=m(),r={},o=!1,t(a,function(e,t){if(t==="dataIndex"||t==="dataIndexInside"){r[t]=e;return}var l,a=t.match(/^(\w+)(Index|Id|Name)$/)||[],i=a[1],c=(a[2]||"").toLowerCase();if(!i||!c||n&&n.includeMainTypes&&_(n.includeMainTypes,i)<0)return;o=o||!!i,l=s.get(i)||s.set(i,{}),l[c]=e}),{mainTypeSpecified:o,queryOptionMap:s,others:r}}rn={useDefault:!0,enableAll:!1,enableNone:!1};function vo(e,t,n,s){s=s||rn;var c,i=n.index,a=n.id,r=n.name,o={models:null,specified:i!=null||a!=null||r!=null};return o.specified?i==="none"||i===!1?(u(s.enableNone,'`"none"` or `false` is not a valid value on index option.'),o.models=[],o):(i==="all"&&(u(s.enableAll,'`"all"` is not a valid value on index option.'),i=a=r=null),o.models=e.queryComponents({mainType:t,index:i,id:a,name:r}),o):(c=void 0,o.models=s.useDefault&&(c=e.getComponent(t))?[c]:[],o)}function Eh(e,t,n){e.setAttribute?e.setAttribute(t,n):e[t]=n}function lb(e,t){return e.getAttribute?e.getAttribute(t):e[t]}function cb(e){return e==="auto"?l.domSupported?"html":"richText":e||"html"}function ib(e,t,n,s,o){var a,r,c,l,d,u,h,m,p,f=t==null||t==="auto";if(s==null)return s;if(E(s))return c=h3(n||0,s,o),fe(c,f?Math.max(dt(n||0),dt(s)):t);if(i(s))return o<1?n:s;for(l=[],r=n,d=s,p=Math.max(r?r.length:0,d.length),a=0;a<p;++a)u=e.getDimensionInfo(a),u&&u.type==="ordinal"?l[a]=(o<1&&r?r:d)[a]:(h=r&&r[a]?r[a]:0,m=d[a],c=h3(h,m,o),l[a]=fe(c,f?Math.max(dt(h),dt(m)):t));return l}Zh=".",hn="___EC__COMPONENT__CONTAINER___",fd="___EC__EXTENDED_CLASS___";function rt(e){var n,t={main:"",sub:""};return e&&(n=e.split(Zh),t.main=n[0]||"",t.sub=n[1]||""),t}function tb(e){u(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(e),'componentType "'+e+'" illegal')}function eb(e){return!!(e&&e[fd])}function $l(e,s){e.$constructor=e,e.extend=function(e){t(s,function(t){e[t]||console.warn("Method `"+t+"` should be implemented"+(e.type?" in "+e.type:"")+".")});var i,a=this;return J9(a)?i=function(e){o(t,e);function t(){return e.apply(this,arguments)||this}return t}(a):(i=function(){(e.$constructor||a).apply(this,arguments)},Hc(i,this)),n(i.prototype,e),i[fd]=!0,i.extend=this.extend,i.superCall=Q9,i.superApply=X9,i.superClass=a,i}}function J9(e){return d(e)&&/^class\s/.test(Function.prototype.toString.call(e))}function F8(e,t){e.extend=t.extend}T8=Math.round(Math.random()*10);function Z9(e){var t=["__\0is_clz",T8++].join("_");e.prototype[t]=!0,u(!e.isInstance,'The method "is" can not be defined.'),e.isInstance=function(e){return!!(e&&e[t])}}function Q9(e,t){for(var s=[],n=2;n<arguments.length;n++)s[n-2]=arguments[n];return this.superClass.prototype[t].apply(e,s)}function X9(e,t,n){return this.superClass.prototype[t].apply(e,n)}function Ja(e){var n={};e.registerClass=function(e){var t,i,o=e.type||e.prototype.type;return o&&(tb(o),e.prototype.type=o,t=rt(o),t.sub?t.sub!==hn&&(i=s(t),i[t.sub]=e):(n[t.main]&&console.warn(t.main+" exists."),n[t.main]=e)),e},e.getClass=function(e,t,s){var o=n[e];if(o&&o[hn]&&(o=t?o[t]:null),s&&!o)throw new Error(t?"Component "+e+"."+(t||"")+" is used but not imported.":e+".type should be specified.");return o},e.getClassesByMainType=function(e){var i=rt(e),o=[],s=n[i.main];return s&&s[hn]?t(s,function(e,t){t!==hn&&o.push(e)}):o.push(s),o},e.hasClass=function(e){var t=rt(e);return!!n[t.main]},e.getAllClassMainTypes=function(){var e=[];return t(n,function(t,n){e.push(n)}),e},e.hasSubTypes=function(e){var s=rt(e),t=n[s.main];return t&&t[hn]};function s(e){var t=n[e.main];return(!t||!t[hn])&&(t=n[e.main]={},t[hn]=!0),t}}function co(e,t){for(var n=0;n<e.length;n++)e[n][1]||(e[n][1]=e[n][0]);return t=t||!1,function(n,s,o){for(var a,r,c={},i=0;i<e.length;i++){if(a=e[i][1],s&&_(s,a)>=0||o&&_(o,a)<0)continue;r=n.getShallow(a,t),r!=null&&(c[e[i][0]]=r)}return c}}V8=[["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]],G8=co(V8),Q8=function(){function e(){}return e.prototype.getAreaStyle=function(e,t){return G8(this,e,t)},e}(),or=new $n(50);function G9(e){if(typeof e=="string"){var t=or.get(e);return t&&t.image}return e}function Z8(e,t,n,s,o){if(!e)return t;if(typeof e=="string"){if(t&&t.__zrImageSrc===e||!n)return t;var i,a=or.get(e),r={hostEl:n,cb:s,cbPayload:o};return a?(t=a.image,!cr(t)&&a.pending.push(r)):(i=Ae.loadImage(e,rf,rf),i.__zrImageSrc=e,or.put(e,i.__cachedImgObj={image:i,pending:[r]})),t}return e}function rf(){var e,t,s,n=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(e=0;e<n.pending.length;e++)t=n.pending[e],s=t.cb,s&&s(this,t.cbPayload),t.hostEl.dirty();n.pending.length=0}function cr(e){return e&&e.width&&e.height}lr=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function hf(e,t,n,s,o){if(!t)return"";i=(e+"").split(`
`),o=xf(t,n,s,o);for(var i,a=0,r=i.length;a<r;a++)i[a]=$f(i[a],o);return i.join(`
`)}function xf(e,t,s,o){o=o||{};var a,r,c,l,d,i=n({},o);i.font=t,s=v(s,"..."),i.maxIterations=v(o.maxIterations,2),d=i.minChar=v(o.minChar,0),i.cnCharWidth=me("国",t),c=i.ascCharWidth=me("a",t),i.placeholder=v(o.placeholder,"");for(a=e=Math.max(0,e-1),l=0;l<d&&a>=c;l++)a-=c;return r=me(s,t),r>a&&(s="",r=0),a=e-r,i.ellipsis=s,i.ellipsisWidth=r,i.contentWidth=a,i.containerWidth=e,i}function $f(e,t){var n,s,r,i=t.containerWidth,a=t.font,o=t.contentWidth;if(!i)return"";if(n=me(e,a),n<=i)return e;for(s=0;;s++){if(n<=o||s>=t.maxIterations){e+=t.ellipsis;break}r=s===0?Y9(e,o,t.ascCharWidth,t.cnCharWidth):n>0?Math.floor(e.length*o/n):0,e=e.substr(0,r),n=me(e,a)}return e===""&&(e=t.placeholder),e}function Y9(e,t,n,s){for(var i,a=0,o=0,r=e.length;o<r&&a<t;o++)i=e.charCodeAt(o),a+=0<=i&&i<=127?n:s;return o}function q9(e,t){e!=null&&(e+="");var n,s,a,r,c,d,m,p,g,l=t.overflow,i=t.padding,u=t.font,y=l==="truncate",f=B1(u),h=v(t.lineHeight,f),j=!!t.backgroundColor,b=t.lineOverflow==="truncate",o=t.width;if(o!=null&&(l==="break"||l==="breakAll")?n=e?tp(e,t.font,o,l==="breakAll",0).lines:[]:n=e?e.split(`
`):[],d=n.length*h,r=v(t.height,d),d>r&&b&&(g=Math.floor(r/h),n=n.slice(0,g)),e&&y&&o!=null)for(p=xf(o,u,t.ellipsis,{minChar:t.truncateMinChar,placeholder:t.placeholder}),s=0;s<n.length;s++)n[s]=$f(n[s],p);for(m=r,a=0,s=0;s<n.length;s++)a=Math.max(me(n[s],u),a);return o==null&&(o=a),c=a,i&&(m+=i[0]+i[2],c+=i[1]+i[3],o+=i[1]+i[3]),j&&(c=o),{lines:n,height:r,outerWidth:c,outerHeight:m,lineHeight:h,calculatedLineHeight:f,contentWidth:a,contentHeight:d,width:o}}l6=function(){function e(){}return e}(),Wc=function(){function e(e){this.tokens=[],e&&(this.tokens=e)}return e}(),p6=function(){function e(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[]}return e}();function K9(e,t){var n,o,i,a,r,c,l,d,u,h,m,f,p,g,b,j,y,_,w,O,x,C,E,k,A,S,M,F,T,D,s=new p6;if(e!=null&&(e+=""),!e)return s;for(h=t.width,O=t.height,g=t.overflow,E=(g==="break"||g==="breakAll")&&h!=null?{width:h,accumWidth:0,breakAll:g==="breakAll"}:null,p=lr.lastIndex=0;(x=lr.exec(e))!=null;)M=x.index,M>p&&Lc(s,e.substring(p,M),t,E),Lc(s,x[2],t,E,x[1]),p=lr.lastIndex;p<e.length&&Lc(s,e.substring(p,e.length),t,E),C=[],w=0,_=0,m=t.padding,F=g==="truncate",T=t.lineOverflow==="truncate";function z(e,t,n){e.width=t,e.lineHeight=n,w+=n,_=Math.max(_,t)}outer:for(i=0;i<s.lines.length;i++){for(l=s.lines[i],j=0,y=0,u=0;u<l.tokens.length;u++){if(n=l.tokens[u],o=n.styleName&&t.rich[n.styleName]||{},c=n.textPadding=o.padding,k=c?c[1]+c[3]:0,d=n.font=o.font||t.font,n.contentHeight=B1(d),f=v(o.height,n.contentHeight),n.innerHeight=f,c&&(f+=c[0]+c[2]),n.height=f,n.lineHeight=xo(o.lineHeight,t.lineHeight,f),n.align=o&&o.align||t.align,n.verticalAlign=o&&o.verticalAlign||"middle",T&&O!=null&&w+n.lineHeight>O){u>0?(l.tokens=l.tokens.slice(0,u),z(l,y,j),s.lines=s.lines.slice(0,i+1)):s.lines=s.lines.slice(0,i);break outer}r=o.width,A=r==null||r==="auto",typeof r=="string"&&r.charAt(r.length-1)==="%"?(n.percentWidth=r,C.push(n),n.contentWidth=me(n.text,d)):(A&&(S=o.backgroundColor,a=S&&S.image,a&&(a=G9(a),cr(a)&&(n.width=Math.max(n.width,a.width*f/a.height)))),b=F&&h!=null?h-y:null,b!=null&&b<n.width?!A||b<k?(n.text="",n.width=n.contentWidth=0):(n.text=hf(n.text,b-k,d,t.ellipsis,{minChar:t.truncateMinChar}),n.width=n.contentWidth=me(n.text,d)):n.contentWidth=me(n.text,d)),n.width+=k,y+=n.width,o&&(j=Math.max(j,n.lineHeight))}z(l,y,j)}s.outerWidth=s.width=v(h,_),s.outerHeight=s.height=v(O,w),s.contentHeight=w,s.contentWidth=_,m&&(s.outerWidth+=m[1]+m[3],s.outerHeight+=m[0]+m[2]);for(i=0;i<C.length;i++)n=C[i],D=n.percentWidth,n.width=parseInt(D,10)/100*s.width;return s}function Lc(e,t,n,s,o){var i,r,l,d,u,h,m,f,p,g,v,b=t==="",a=o&&n.rich[o]||{},c=e.lines,y=a.font||n.font,j=!1;s?(m=a.padding,f=m?m[1]+m[3]:0,a.width!=null&&a.width!=="auto"?(p=Ct(a.width,s.width)+f,c.length>0&&p+s.accumWidth>s.width&&(d=t.split(`
`),j=!0),s.accumWidth=p):(h=tp(t,y,s.width,s.breakAll,s.accumWidth),s.accumWidth=h.accumWidth+f,g=h.linesWidths,d=h.lines)):d=t.split(`
`);for(r=0;r<d.length;r++)u=d[r],i=new l6,i.styleName=o,i.text=u,i.isLineHolder=!u&&!b,typeof a.width=="number"?i.width=a.width:i.width=g?g[r]:me(u,y),!r&&!j?(l=(c[c.length-1]||(c[0]=new Wc)).tokens,v=l.length,v===1&&l[0].isLineHolder?l[0]=i:(u||!v||b)&&l.push(i)):c.push(new Wc([i]))}function $9(e){var t=e.charCodeAt(0);return t>=33&&t<=383}K6=tt(",&?/;] ".split(""),function(e,t){return e[t]=!0,e},{});function H9(e){return!$9(e)||!!K6[e]}function tp(e,t,n,s,o){for(var d,u,m,l=[],h=[],a="",i="",c=0,r=0,f=0;f<e.length;f++){if(d=e.charAt(f),d===`
`){i&&(a+=i,r+=c),l.push(a),h.push(r),a="",i="",c=0,r=0;continue}if(u=me(d,t),m=!s&&!H9(d),l.length?r+u>n:o+r+u>n){r?(a||i)&&(m?(a||(a=i,i="",c=0,r=c),l.push(a),h.push(r-c),i+=d,c+=u,a="",r=c):(i&&(a+=i,i="",c=0),l.push(a),h.push(r),a=d,r=u)):m?(l.push(i),h.push(c),i=d,c=u):(l.push(d),h.push(u));continue}r+=u,m?(i+=d,c+=u):(i&&(a+=i,i="",c=0),a+=d)}return!l.length&&!a&&(a=e,i="",c=0),i&&(a+=i),a&&(l.push(a),h.push(r)),l.length===1&&(r+=o),{accumWidth:r,lines:l,linesWidths:h}}xr="__zr_style_"+Math.round(Math.random()*10),un={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},Io={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}},un[xr]=!0,_c=["z","z2","invisible"],sp=["invisible"],bs=function(e){o(t,e);function t(t){return e.call(this,t)||this}return t.prototype._init=function(t){for(var n,o=k(t),s=0;s<o.length;s++)n=o[s],n==="style"?this.useStyle(t[n]):e.prototype.attrKV.call(this,n,t[n]);this.style||this.useStyle({})},t.prototype.beforeBrush=function(){},t.prototype.afterBrush=function(){},t.prototype.innerBeforeBrush=function(){},t.prototype.innerAfterBrush=function(){},t.prototype.shouldBePainted=function(e,t,n,s){var o,i,a=this.transform;if(this.ignore||this.invisible||this.style.opacity===0||this.culling&&P9(this,e,t)||a&&!a[0]&&!a[3])return!1;if(n&&this.__clipPaths)for(i=0;i<this.__clipPaths.length;++i)if(this.__clipPaths[i].isZeroArea())return!1;if(s&&this.parent)for(o=this.parent;o;){if(o.ignore)return!1;o=o.parent}return!0},t.prototype.contain=function(e,t){return this.rectContain(e,t)},t.prototype.traverse=function(e,t){e.call(t,this)},t.prototype.rectContain=function(e,t){var n=this.transformCoordToLocal(e,t),s=this.getBoundingRect();return s.contain(n[0],n[1])},t.prototype.getPaintRect=function(){var t,n,s,o,i,a,r,e=this._paintRect;return(!this._paintRect||this.__dirty)&&(a=this.transform,r=this.getBoundingRect(),s=this.style,t=s.shadowBlur||0,o=s.shadowOffsetX||0,i=s.shadowOffsetY||0,e=this._paintRect||(this._paintRect=new b(0,0,0,0)),a?b.applyTransform(e,r,a):e.copy(r),(t||o||i)&&(e.width+=t*2+Math.abs(o),e.height+=t*2+Math.abs(i),e.x=Math.min(e.x,e.x+o-t),e.y=Math.min(e.y,e.y+i-t)),n=this.dirtyRectTolerance,e.isZero()||(e.x=Math.floor(e.x-n),e.y=Math.floor(e.y-n),e.width=Math.ceil(e.width+1+n*2),e.height=Math.ceil(e.height+1+n*2))),e},t.prototype.setPrevPaintRect=function(e){e?(this._prevPaintRect=this._prevPaintRect||new b(0,0,0,0),this._prevPaintRect.copy(e)):this._prevPaintRect=null},t.prototype.getPrevPaintRect=function(){return this._prevPaintRect},t.prototype.animateStyle=function(e){return this.animate("style",e)},t.prototype.updateDuringAnimation=function(e){e==="style"?this.dirtyStyle():this.markRedraw()},t.prototype.attrKV=function(t,n){t!=="style"?e.prototype.attrKV.call(this,t,n):this.style?this.setStyle(n):this.useStyle(n)},t.prototype.setStyle=function(e,t){return typeof e=="string"?this.style[e]=t:n(this.style,e),this.dirtyStyle(),this},t.prototype.dirtyStyle=function(e){e||this.markRedraw(),this.__dirty|=Ks,this._rect&&(this._rect=null)},t.prototype.dirty=function(){this.dirtyStyle()},t.prototype.styleChanged=function(){return!!(this.__dirty&Ks)},t.prototype.styleUpdated=function(){this.__dirty&=~Ks},t.prototype.createStyle=function(e){return ao(un,e)},t.prototype.useStyle=function(e){e[xr]||(e=this.createStyle(e)),this.__inHover?this.__hoverStyle=e:this.style=e,this.dirtyStyle()},t.prototype.isStyleObject=function(e){return e[xr]},t.prototype._innerSaveToNormal=function(t){e.prototype._innerSaveToNormal.call(this,t);var n=this._normalState;t.style&&!n.style&&(n.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(t,n,_c)},t.prototype._applyStateObj=function(t,n,s,o,i,a){e.prototype._applyStateObj.call(this,t,n,s,o,i,a);var r,c,l,u,h,m,f,d=!n||!o;if(n&&n.style?i?o?c=n.style:(c=this._mergeStyle(this.createStyle(),s.style),this._mergeStyle(c,n.style)):(c=this._mergeStyle(this.createStyle(),o?this.style:s.style),this._mergeStyle(c,n.style)):d&&(c=s.style),c)if(i){if(u=this.style,this.style=this.createStyle(d?{}:u),d)for(h=k(u),l=0;l<h.length;l++)r=h[l],r in c&&(c[r]=c[r],this.style[r]=u[r]);for(m=k(c),l=0;l<m.length;l++)r=m[l],this.style[r]=this.style[r];this._transitionState(t,{style:c},a,this.getAnimationStyleProps())}else this.useStyle(c);for(f=this.__inHover?sp:_c,l=0;l<f.length;l++)r=f[l],n&&n[r]!=null?this[r]=n[r]:d&&s[r]!=null&&(this[r]=s[r])},t.prototype._mergeStates=function(t){for(var n,o,i=e.prototype._mergeStates.call(this,t),s=0;s<t.length;s++)o=t[s],o.style&&(n=n||{},this._mergeStyle(n,o.style));return n&&(i.style=n),i},t.prototype._mergeStyle=function(e,t){return n(e,t),e},t.prototype.getAnimationStyleProps=function(){return Io},t.initDefaultProps=function(){var e=t.prototype;e.type="displayable",e.invisible=!1,e.z=0,e.z2=0,e.zlevel=0,e.culling=!1,e.cursor="pointer",e.rectHover=!1,e.incremental=!1,e._rect=null,e.dirtyRectTolerance=0,e.__dirty=ae|Ks}(),t}(Jo),Mr=new b(0,0,0,0),Fr=new b(0,0,0,0);function P9(e,t,n){return Mr.copy(e.getBoundingRect()),e.transform&&Mr.applyTransform(e.transform),Fr.width=t,Fr.height=n,!Mr.intersect(Fr)}ue=Math.min,we=Math.max,Nr=Math.sin,Lr=Math.cos,Gt=Math.PI*2,qo=vn(),Xo=vn(),ii=vn();function cp(e,t,n,s,o,i){o[0]=ue(e,n),o[1]=ue(t,s),i[0]=we(e,n),i[1]=we(t,s)}vc=[],gc=[];function R9(e,t,n,s,o,i,a,r,c,l){var d,h,m,f=i3,p=R,u=f(e,n,o,a,vc);c[0]=1/0,c[1]=1/0,l[0]=-(1/0),l[1]=-(1/0);for(d=0;d<u;d++)h=p(e,n,o,a,vc[d]),c[0]=ue(h,c[0]),l[0]=we(h,l[0]);for(u=f(t,s,i,r,gc),d=0;d<u;d++)m=p(t,s,i,r,gc[d]),c[1]=ue(m,c[1]),l[1]=we(m,l[1]);c[0]=ue(e,c[0]),l[0]=we(e,l[0]),c[0]=ue(a,c[0]),l[0]=we(a,l[0]),c[1]=ue(t,c[1]),l[1]=we(t,l[1]),c[1]=ue(r,c[1]),l[1]=we(r,l[1])}function N9(e,t,n,s,o,i,a,r){var c=I2,l=U,h=we(ue(c(e,n,o),1),0),m=we(ue(c(t,s,i),1),0),d=l(e,n,o,h),u=l(t,s,i,m);a[0]=ue(e,o,d),a[1]=ue(t,i,u),r[0]=we(e,o,d),r[1]=we(t,i,u)}function D9(e,t,n,s,o,i,a,r,c){var l,m,d=Xt,u=qt,h=Math.abs(o-i);if(h%Gt<1e-4&&h>1e-4){r[0]=e-n,r[1]=t-s,c[0]=e+n,c[1]=t+s;return}qo[0]=Lr(o)*n+e,qo[1]=Nr(o)*s+t,Xo[0]=Lr(i)*n+e,Xo[1]=Nr(i)*s+t,d(r,qo,Xo),u(c,qo,Xo),o=o%Gt,o<0&&(o=o+Gt),i=i%Gt,i<0&&(i=i+Gt),o>i&&!a?i+=Gt:o<i&&a&&(o+=Gt),a&&(m=i,i=o,o=m);for(l=0;l<i;l+=Math.PI/2)l>o&&(ii[0]=Lr(l)*n+e,ii[1]=Nr(l)*s+t,d(r,ii,r),u(c,ii,c))}j={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},nn=[],an=[],Ze=[],_t=[],Ke=[],Je=[],ec=Math.min,tc=Math.max,Ft=Math.cos,It=Math.sin,ot=Math.abs,ic=Math.PI,mt=ic*2,pr=typeof Float32Array!="undefined",ns=[];function lc(e){var t=Math.round(e/ic*1e8)/1e8;return t%2*ic}function z9(e,t){var s,o,n=lc(e[0]);n<0&&(n+=mt),o=n-e[0],s=e[1],s+=o,!t&&s-n>=mt?s=n+mt:t&&n-s>=mt?s=n-mt:!t&&n>s?s=n+(mt-lc(n-s)):t&&n<s&&(s=n-(mt-lc(s-n))),e[0]=n,e[1]=s}Jt=function(){function e(e){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,e&&(this._saveData=!1),this._saveData&&(this.data=[])}return e.prototype.increaseVersion=function(){this._version++},e.prototype.getVersion=function(){return this._version},e.prototype.setScale=function(e,t,n){n=n||0,n>0&&(this._ux=ot(n/so/e)||0,this._uy=ot(n/so/t)||0)},e.prototype.setDPR=function(e){this.dpr=e},e.prototype.setContext=function(e){this._ctx=e},e.prototype.getContext=function(){return this._ctx},e.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},e.prototype.reset=function(){this._saveData&&(this._len=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},e.prototype.moveTo=function(e,t){return this._drawPendingPt(),this.addData(j.M,e,t),this._ctx&&this._ctx.moveTo(e,t),this._x0=e,this._y0=t,this._xi=e,this._yi=t,this},e.prototype.lineTo=function(e,t){var o,n=ot(e-this._xi),s=ot(t-this._yi),i=n>this._ux||s>this._uy;return this.addData(j.L,e,t),this._ctx&&i&&this._ctx.lineTo(e,t),i?(this._xi=e,this._yi=t,this._pendingPtDist=0):(o=n*n+s*s,o>this._pendingPtDist&&(this._pendingPtX=e,this._pendingPtY=t,this._pendingPtDist=o)),this},e.prototype.bezierCurveTo=function(e,t,n,s,o,i){return this._drawPendingPt(),this.addData(j.C,e,t,n,s,o,i),this._ctx&&this._ctx.bezierCurveTo(e,t,n,s,o,i),this._xi=o,this._yi=i,this},e.prototype.quadraticCurveTo=function(e,t,n,s){return this._drawPendingPt(),this.addData(j.Q,e,t,n,s),this._ctx&&this._ctx.quadraticCurveTo(e,t,n,s),this._xi=n,this._yi=s,this},e.prototype.arc=function(e,t,n,s,o,i){this._drawPendingPt(),ns[0]=s,ns[1]=o,z9(ns,i),s=ns[0],o=ns[1];var a=o-s;return this.addData(j.A,e,t,n,n,s,a,0,i?0:1),this._ctx&&this._ctx.arc(e,t,n,s,o,i),this._xi=Ft(o)*n+e,this._yi=It(o)*n+t,this},e.prototype.arcTo=function(e,t,n,s,o){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(e,t,n,s,o),this},e.prototype.rect=function(e,t,n,s){return this._drawPendingPt(),this._ctx&&this._ctx.rect(e,t,n,s),this.addData(j.R,e,t,n,s),this},e.prototype.closePath=function(){this._drawPendingPt(),this.addData(j.Z);var e=this._ctx,t=this._x0,n=this._y0;return e&&e.closePath(),this._xi=t,this._yi=n,this},e.prototype.fill=function(e){e&&e.fill(),this.toStatic()},e.prototype.stroke=function(e){e&&e.stroke(),this.toStatic()},e.prototype.len=function(){return this._len},e.prototype.setData=function(e){var t,n=e.length;!(this.data&&this.data.length===n)&&pr&&(this.data=new Float32Array(n));for(t=0;t<n;t++)this.data[t]=e[t];this._len=n},e.prototype.appendPath=function(e){e instanceof Array||(e=[e]);for(var n,o,i=e.length,a=0,s=this._len,t=0;t<i;t++)a+=e[t].len();pr&&this.data instanceof Float32Array&&(this.data=new Float32Array(s+a));for(t=0;t<i;t++)for(o=e[t].data,n=0;n<o.length;n++)this.data[s++]=o[n];this._len=s},e.prototype.addData=function(){if(!this._saveData)return;var l,d=this.data;this._len+arguments.length>d.length&&(this._expandData(),d=this.data);for(l=0;l<arguments.length;l++)d[this._len++]=arguments[l]},e.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},e.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var t=[],e=0;e<this._len;e++)t[e]=this.data[e];this.data=t}},e.prototype.toStatic=function(){if(!this._saveData)return;this._drawPendingPt();var e=this.data;e instanceof Array&&(e.length=this._len,pr&&this._len>11&&(this.data=new Float32Array(e)))},e.prototype.getBoundingRect=function(){Ze[0]=Ze[1]=Ke[0]=Ke[1]=Number.MAX_VALUE,_t[0]=_t[1]=Je[0]=Je[1]=-Number.MAX_VALUE;var e,a,r,c,l,d,u,h,m,f,p,g,t=this.data,n=0,s=0,o=0,i=0;for(e=0;e<this._len;){switch(m=t[e++],h=e===1,h&&(n=t[e],s=t[e+1],o=n,i=s),m){case j.M:n=o=t[e++],s=i=t[e++],Ke[0]=o,Ke[1]=i,Je[0]=o,Je[1]=i;break;case j.L:cp(n,s,t[e],t[e+1],Ke,Je),n=t[e++],s=t[e++];break;case j.C:R9(n,s,t[e++],t[e++],t[e++],t[e++],t[e],t[e+1],Ke,Je),n=t[e++],s=t[e++];break;case j.Q:N9(n,s,t[e++],t[e++],t[e],t[e+1],Ke,Je),n=t[e++],s=t[e++];break;case j.A:r=t[e++],c=t[e++],l=t[e++],d=t[e++],a=t[e++],u=t[e++]+a,e+=1,f=!t[e++],h&&(o=Ft(a)*l+r,i=It(a)*d+c),D9(r,c,l,d,a,u,f,Ke,Je),n=Ft(u)*l+r,s=It(u)*d+c;break;case j.R:o=n=t[e++],i=s=t[e++],p=t[e++],g=t[e++],cp(o,i,o+p,i+g,Ke,Je);break;case j.Z:n=o,s=i;break}Xt(Ze,Ze,Ke),qt(_t,_t,Je)}return e===0&&(Ze[0]=Ze[1]=_t[0]=_t[1]=0),new b(Ze[0],Ze[1],_t[0]-Ze[0],_t[1]-Ze[1])},e.prototype._calculateLength=function(){var e,o,i,a,r,c,u,h,m,f,p,g,v,b,y,_,w,O,x,C,k,A,S,M,t=this.data,E=this._len,T=this._ux,F=this._uy,n=0,s=0,l=0,d=0;this._pathSegLen||(this._pathSegLen=[]);for(C=this._pathSegLen,u=0,k=0,e=0;e<E;){switch(A=t[e++],b=e===1,b&&(n=t[e],s=t[e+1],l=n,d=s),o=-1,A){case j.M:n=l=t[e++],s=d=t[e++];break;case j.L:{a=t[e++],i=t[e++],c=a-n,r=i-s,(ot(c)>T||ot(r)>F||e===E-1)&&(o=Math.sqrt(c*c+r*r),n=a,s=i);break}case j.C:{h=t[e++],f=t[e++],a=t[e++],i=t[e++],w=t[e++],O=t[e++],o=ij(n,s,h,f,a,i,w,O,10),n=w,s=O;break}case j.Q:{h=t[e++],f=t[e++],a=t[e++],i=t[e++],o=nj(n,s,h,f,a,i,10),n=a,s=i;break}case j.A:x=t[e++],v=t[e++],p=t[e++],g=t[e++],m=t[e++],_=t[e++],y=_+m,e+=1,!t[e++],b&&(l=Ft(m)*p+x,d=It(m)*g+v),o=tc(p,g)*ec(mt,Math.abs(_)),n=Ft(y)*p+x,s=It(y)*g+v;break;case j.R:{l=n=t[e++],d=s=t[e++],S=t[e++],M=t[e++],o=S*2+M*2;break}case j.Z:{c=l-n,r=d-s,o=Math.sqrt(c*c+r*r),n=l,s=d;break}}o>=0&&(C[k++]=o,u+=o)}return this._pathLen=u,u},e.prototype.rebuildPath=function(e,t){var n,o,a,r,c,l,d,u,h,m,f,p,g,b,y,_,w,O,x,E,k,A,M,F,T,z,D,N,L,R,P,H,I,B,V,$,W,U,K,q,s=this.data,X=this._ux,Y=this._uy,G=this._len,v=t<1,i=0,C=0,S=0;if(v&&(this._pathSegLen||this._calculateLength(),p=this._pathSegLen,$=this._pathLen,l=t*$,!l))return;lo:for(n=0;n<G;)switch(R=s[n++],L=n===1,L&&(r=s[n],c=s[n+1],k=r,x=c),R!==j.L&&S>0&&(e.lineTo(q,K),S=0),R){case j.M:k=r=s[n++],x=c=s[n++],e.moveTo(r,c);break;case j.L:{if(d=s[n++],u=s[n++],z=ot(d-r),T=ot(u-c),z>X||T>Y){if(v){if(o=p[C++],i+o>l){a=(l-i)/o,e.lineTo(r*(1-a)+d*a,c*(1-a)+u*a);break lo}i+=o}e.lineTo(d,u),r=d,c=u,S=0}else H=z*z+T*T,H>S&&(q=d,K=u,S=H);break}case j.C:{if(w=s[n++],O=s[n++],b=s[n++],g=s[n++],D=s[n++],N=s[n++],v){if(o=p[C++],i+o>l){a=(l-i)/o,Pr(r,w,b,D,a,nn),Pr(c,O,g,N,a,an),e.bezierCurveTo(nn[1],an[1],nn[2],an[2],nn[3],an[3]);break lo}i+=o}e.bezierCurveTo(w,O,b,g,D,N),r=D,c=N;break}case j.Q:{if(w=s[n++],O=s[n++],b=s[n++],g=s[n++],v){if(o=p[C++],i+o>l){a=(l-i)/o,ac(r,w,b,a,nn),ac(c,O,g,a,an),e.quadraticCurveTo(nn[1],an[1],nn[2],an[2]);break lo}i+=o}e.quadraticCurveTo(w,O,b,g),r=b,c=g;break}case j.A:if(M=s[n++],F=s[n++],y=s[n++],m=s[n++],f=s[n++],B=s[n++],V=s[n++],I=!s[n++],W=y>m?y:m,U=ot(y-m)>.001,E=f+B,P=!1,v&&(o=p[C++],i+o>l&&(E=f+B*(l-i)/o,P=!0),i+=o),U&&e.ellipse?e.ellipse(M,F,y,m,V,f,E,I):e.arc(M,F,W,f,E,I),P)break lo;L&&(k=Ft(f)*y+M,x=It(f)*m+F),r=Ft(E)*y+M,c=It(E)*m+F;break;case j.R:if(k=r=s[n],x=c=s[n+1],d=s[n++],u=s[n++],_=s[n++],A=s[n++],v){if(o=p[C++],i+o>l){h=l-i,e.moveTo(d,u),e.lineTo(d+ec(h,_),u),h-=_,h>0&&e.lineTo(d+_,u+ec(h,A)),h-=A,h>0&&e.lineTo(d+tc(_-h,0),u+A),h-=_,h>0&&e.lineTo(d,u+tc(A-h,0));break lo}i+=o}e.rect(d,u,_,A);break;case j.Z:if(v){if(o=p[C++],i+o>l){a=(l-i)/o,e.lineTo(r*(1-a)+k*a,c*(1-a)+x*a);break lo}i+=o}e.closePath(),r=k,c=x}},e.prototype.clone=function(){var t=new e,n=this.data;return t.data=n.slice?n.slice():Array.prototype.slice.call(n),t._len=this._len,t},e.CMD=j,e.initDefaultProps=function(){var t=e.prototype;t._saveData=!0,t._ux=0,t._uy=0,t._pendingPtDist=0,t._version=0}(),e}();function os(e,t,n,s,o,i,a){if(o===0)return!1;var l,u,r=o,c=0,d=e;if(a>t+r&&a>s+r||a<t-r&&a<s-r||i>e+r&&i>n+r||i<e-r&&i<n-r)return!1;if(e!==n)c=(t-s)/(e-n),d=(e*s-n*t)/(e-n);else return Math.abs(i-e)<=r/2;return l=c*i-a+d,u=l*l/(c*c+1),u<=r/2*r/2}function T9(e,t,n,s,o,i,a,r,c,l,d){if(c===0)return!1;var h,u=c;return!(d>t+u&&d>s+u&&d>i+u&&d>r+u||d<t-u&&d<s-u&&d<i-u&&d<r-u||l>e+u&&l>n+u&&l>o+u&&l>a+u||l<e-u&&l<n-u&&l<o-u&&l<a-u)&&(h=J2(e,t,n,s,o,i,a,r,l,d,null),h<=u/2)}function F9(e,t,n,s,o,i,a,r,c){if(a===0)return!1;var d,l=a;return!(c>t+l&&c>s+l&&c>i+l||c<t-l&&c<s-l&&c<i-l||r>e+l&&r>n+l&&r>o+l||r<e-l&&r<n-l&&r<o-l)&&(d=H2(e,t,n,s,o,i,r,c,null),d<=l/2)}pc=Math.PI*2;function Zt(e){return e%=pc,e<0&&(e+=pc),e}ls=Math.PI*2;function M9(e,t,n,s,o,i,a,r,c){if(a===0)return!1;var l,d,h,u=a;return r-=e,c-=t,d=Math.sqrt(r*r+c*c),!(d-u>n||d+u<n)&&(Math.abs(s-o)%ls<1e-4||(i?(h=s,s=Zt(o),o=Zt(h)):(s=Zt(s),o=Zt(o)),s>o&&(o+=ls),l=Math.atan2(c,r),l<0&&(l+=ls),l>=s&&l<=o||l+ls>=s&&l+ls<=o))}function ut(e,t,n,s,o,i){if(i>t&&i>s||i<t&&i<s)return 0;if(s===t)return 0;var r,a=(i-t)/(s-t),c=s<t?1:-1;return(a===1||a===0)&&(c=s<t?.5:-.5),r=a*(n-e)+e,r===o?1/0:r>o?c:0}gt=Jt.CMD,Ht=Math.PI*2,np=1e-4;function A9(e,t){return Math.abs(e-t)<np}V=[-1,-1,-1],_e=[-1,-1];function k9(){var e=_e[0];_e[0]=_e[1],_e[1]=e}function j9(e,t,n,s,o,i,a,r,c,l){if(l>t&&l>s&&l>i&&l>r||l<t&&l<s&&l<i&&l<r)return 0;var d,u,h,m,f,p,g,b,v=a3(t,s,i,r,l,V);if(v===0)return 0;for(u=0,m=-1,f=void 0,p=void 0,g=0;g<v;g++){if(h=V[g],d=h===0||h===1?.5:1,b=R(e,n,o,a,h),b<c)continue;m<0&&(m=i3(t,s,i,r,_e),_e[1]<_e[0]&&m>1&&k9(),f=R(t,s,i,r,_e[0]),m>1&&(p=R(t,s,i,r,_e[1]))),m===2?h<_e[0]?u+=f<t?d:-d:h<_e[1]?u+=p<f?d:-d:u+=r<p?d:-d:h<_e[0]?u+=f<t?d:-d:u+=r<f?d:-d}return u}function v9(e,t,n,s,o,i,a,r){if(r>t&&r>s&&r>i||r<t&&r<s&&r<i)return 0;var c,l,d,u,h,m,f=oj(t,s,i,r,V);if(f===0)return 0;if(d=I2(t,s,i),d>=0&&d<=1){for(u=0,m=U(t,s,i,d),l=0;l<f;l++){if(c=V[l]===0||V[l]===1?.5:1,h=U(e,n,o,V[l]),h<a)continue;V[l]<d?u+=m<t?c:-c:u+=i<m?c:-c}return u}return c=V[0]===0||V[0]===1?.5:1,h=U(e,n,o,V[0]),h<a?0:i<t?c:-c}function g9(e,t,n,s,o,i,a,r){if(r-=t,r>n||r<-n)return 0;var c,l,d,u,h,m,p,f=Math.sqrt(n*n-r*r);if(V[0]=-f,V[1]=f,u=Math.abs(s-o),u<1e-4)return 0;if(u>=Ht-1e-4)return s=0,o=Ht,l=i?1:-1,a>=V[0]+e&&a<=V[1]+e?l:0;s>o&&(p=s,s=o,o=p),s<0&&(s+=Ht,o+=Ht);for(h=0,d=0;d<2;d++)m=V[d],m+e>a&&(c=Math.atan2(r,m),l=i?1:-1,c<0&&(c=Ht+c),(c>=s&&c<=o||c+Ht>=s&&c+Ht<=o)&&(c>Math.PI/2&&c<Math.PI*1.5&&(l=-l),h+=l));return h}function I6(e,t,n,s,o){for(var h,m,f,p,g,v,b,j,y,_,w,O,x,C,a=e.data,E=e.len(),u=0,c=0,r=0,d=0,l=0,i=0;i<E;)switch(_=a[i++],y=i===1,_===gt.M&&i>1&&(n||(u+=ut(c,r,d,l,s,o))),y&&(c=a[i],r=a[i+1],d=c,l=r),_){case gt.M:d=a[i++],l=a[i++],c=d,r=l;break;case gt.L:if(n){if(os(c,r,a[i],a[i+1],t,s,o))return!0}else u+=ut(c,r,a[i],a[i+1],s,o)||0;c=a[i++],r=a[i++];break;case gt.C:if(n){if(T9(c,r,a[i++],a[i++],a[i++],a[i++],a[i],a[i+1],t,s,o))return!0}else u+=j9(c,r,a[i++],a[i++],a[i++],a[i++],a[i],a[i+1],s,o)||0;c=a[i++],r=a[i++];break;case gt.Q:if(n){if(F9(c,r,a[i++],a[i++],a[i],a[i+1],t,s,o))return!0}else u+=v9(c,r,a[i++],a[i++],a[i],a[i+1],s,o)||0;c=a[i++],r=a[i++];break;case gt.A:if(p=a[i++],v=a[i++],j=a[i++],g=a[i++],f=a[i++],b=a[i++],i+=1,w=!!(1-a[i++]),h=Math.cos(f)*j+p,m=Math.sin(f)*g+v,y?(d=h,l=m):u+=ut(c,r,h,m,s,o),O=(s-p)*g/j+p,n){if(M9(p,v,g,f,f+b,w,t,O,o))return!0}else u+=g9(p,v,g,f,f+b,w,O,o);c=Math.cos(f+b)*j+p,r=Math.sin(f+b)*g+v;break;case gt.R:if(d=c=a[i++],l=r=a[i++],x=a[i++],C=a[i++],h=d+x,m=l+C,n){if(os(d,l,h,l,t,s,o)||os(h,l,h,m,t,s,o)||os(h,m,d,m,t,s,o)||os(d,m,d,l,t,s,o))return!0}else u+=ut(h,l,h,m,s,o),u+=ut(d,m,d,l,s,o);break;case gt.Z:if(n){if(os(c,r,d,l,t,s,o))return!0}else u+=ut(c,r,d,l,s,o);c=d,r=l;break}return!n&&!A9(r,l)&&(u+=ut(c,r,d,l,s,o)||0),u!==0}function p9(e,t,n){return I6(e,0,!1,t,n)}function f9(e,t,n,s){return I6(e,t,!0,n,s)}zc=x({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},un),D6={style:x({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},Io.style)},yr=Ts.concat(["invisible","culling","z","z2","zlevel","parent"]),O=function(e){o(t,e);function t(t){return e.call(this,t)||this}return t.prototype.update=function(){var n,s,o,i,a,r=this;if(e.prototype.update.call(this),n=this.style,n.decal){s=this._decalEl=this._decalEl||new t,s.buildPath===t.prototype.buildPath&&(s.buildPath=function(e){r.buildPath(e,r.shape)}),s.silent=!0,o=s.style;for(a in n)o[a]!==n[a]&&(o[a]=n[a]);o.fill=n.fill?n.decal:null,o.decal=null,o.shadowColor=null,n.strokeFirst&&(o.stroke=null);for(i=0;i<yr.length;++i)s[yr[i]]=this[yr[i]];s.__dirty|=ae}else this._decalEl&&(this._decalEl=null)},t.prototype.getDecalElement=function(){return this._decalEl},t.prototype._init=function(t){var s,o,i,a,r=k(t);this.shape=this.getDefaultShape(),a=this.getDefaultStyle(),a&&this.useStyle(a);for(i=0;i<r.length;i++)s=r[i],o=t[s],s==="style"?this.style?n(this.style,o):this.useStyle(o):s==="shape"?n(this.shape,o):e.prototype.attrKV.call(this,s,o);this.style||this.useStyle({})},t.prototype.getDefaultStyle=function(){return null},t.prototype.getDefaultShape=function(){return{}},t.prototype.canBeInsideText=function(){return this.hasFill()},t.prototype.getInsideTextFill=function(){var t,e=this.style.fill;if(e!=="none"){if(i(e))return t=ci(e,0),t>.5?Wa:t>.2?Q4:Va;if(e)return Va}return Wa},t.prototype.getInsideTextStroke=function(e){var t,s,o,n=this.style.fill;if(i(n)&&(t=this.__zr,s=!!(t&&t.isDarkMode()),o=ci(e,0)<Pi,s===o))return n},t.prototype.buildPath=function(){},t.prototype.pathUpdated=function(){this.__dirty&=~Sn},t.prototype.getUpdatedPathProxy=function(e){return!this.path&&this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,e),this.path},t.prototype.createPathProxy=function(){this.path=new Jt(!1)},t.prototype.hasStroke=function(){var e=this.style,t=e.stroke;return!(t==null||t==="none"||!(e.lineWidth>0))},t.prototype.hasFill=function(){var t=this.style,e=t.fill;return e!=null&&e!=="none"},t.prototype.getBoundingRect=function(){var e,t,s,o,i,a,n=this._rect,r=this.style,c=!n;return c&&(i=!1,this.path||(i=!0,this.createPathProxy()),o=this.path,(i||this.__dirty&Sn)&&(o.beginPath(),this.buildPath(o,this.shape,!1),this.pathUpdated()),n=o.getBoundingRect()),this._rect=n,this.hasStroke()&&this.path&&this.path.len()>0?(e=this._rectStroke||(this._rectStroke=n.clone()),(this.__dirty||c)&&(e.copy(n),s=r.strokeNoScale?this.getLineScale():1,t=r.lineWidth,this.hasFill()||(a=this.strokeContainThreshold,t=Math.max(t,a??4)),s>1e-10&&(e.width+=t/s,e.height+=t/s,e.x-=t/s/2,e.y-=t/s/2)),e):n},t.prototype.contain=function(e,t){var n,s,o,i=this.transformCoordToLocal(e,t),r=this.getBoundingRect(),a=this.style;if(e=i[0],t=i[1],r.contain(e,t)){if(s=this.path,this.hasStroke()&&(n=a.lineWidth,o=a.strokeNoScale?this.getLineScale():1,o>1e-10&&(this.hasFill()||(n=Math.max(n,this.strokeContainThreshold)),f9(s,n/o,e,t))))return!0;if(this.hasFill())return p9(s,e,t)}return!1},t.prototype.dirtyShape=function(){this.__dirty|=Sn,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},t.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},t.prototype.animateShape=function(e){return this.animate("shape",e)},t.prototype.updateDuringAnimation=function(e){e==="style"?this.dirtyStyle():e==="shape"?this.dirtyShape():this.markRedraw()},t.prototype.attrKV=function(t,n){t==="shape"?this.setShape(n):e.prototype.attrKV.call(this,t,n)},t.prototype.setShape=function(e,t){var s=this.shape;return s||(s=this.shape={}),typeof e=="string"?s[e]=t:n(s,e),this.dirtyShape(),this},t.prototype.shapeChanged=function(){return!!(this.__dirty&Sn)},t.prototype.createStyle=function(e){return ao(zc,e)},t.prototype._innerSaveToNormal=function(t){e.prototype._innerSaveToNormal.call(this,t);var s=this._normalState;t.shape&&!s.shape&&(s.shape=n({},this.shape))},t.prototype._applyStateObj=function(t,s,o,i,a,r){e.prototype._applyStateObj.call(this,t,s,o,i,a,r);var c,l,d,u,h,m=!s||!i;if(s&&s.shape?a?i?c=s.shape:(c=n({},o.shape),n(c,s.shape)):(c=n({},i?this.shape:o.shape),n(c,s.shape)):m&&(c=o.shape),c)if(a){this.shape=n({},this.shape);for(u={},h=k(c),d=0;d<h.length;d++)l=h[d],typeof c[l]=="object"?this.shape[l]=c[l]:u[l]=c[l];this._transitionState(t,{shape:u},r)}else this.shape=c,this.dirtyShape()},t.prototype._mergeStates=function(t){for(var n,o,i=e.prototype._mergeStates.call(this,t),s=0;s<t.length;s++)o=t[s],o.shape&&(n=n||{},this._mergeStyle(n,o.shape));return n&&(i.shape=n),i},t.prototype.getAnimationStyleProps=function(){return D6},t.prototype.isZeroArea=function(){return!1},t.extend=function(e){var n,s=function(t){o(n,t);function n(n){var s=t.call(this,n)||this;return e.init&&e.init.call(s,n),s}return n.prototype.getDefaultStyle=function(){return c(e.style)},n.prototype.getDefaultShape=function(){return c(e.shape)},n}(t);for(n in e)typeof e[n]=="function"&&(s.prototype[n]=e[n]);return s},t.initDefaultProps=function(){var e=t.prototype;e.type="path",e.strokeContainThreshold=5,e.segmentIgnoreThreshold=0,e.subPixelOptimize=!1,e.autoBatch=!1,e.__dirty=ae|Ks|Sn}(),t}(bs),T6=x({strokeFirst:!0,font:St,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},zc),To=function(e){o(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.hasStroke=function(){var e=this.style,t=e.stroke;return t!=null&&t!=="none"&&e.lineWidth>0},t.prototype.hasFill=function(){var t=this.style,e=t.fill;return e!=null&&e!=="none"},t.prototype.createStyle=function(e){return ao(T6,e)},t.prototype.setBoundingRect=function(e){this._rect=e},t.prototype.getBoundingRect=function(){var e,n,s,t=this.style;return this._rect||(n=t.text,n!=null?n+="":n="",e=L1(n,t.font,t.textAlign,t.textBaseline),e.x+=t.x||0,e.y+=t.y||0,this.hasStroke()&&(s=t.lineWidth,e.x-=s/2,e.y-=s/2,e.width+=s,e.height+=s),this._rect=e),this._rect},t.initDefaultProps=function(){var e=t.prototype;e.dirtyRectTolerance=10}(),t}(bs),To.prototype.type="tspan",_6=x({x:0,y:0},un),b6={style:x({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},Io.style)};function h9(e){return!!(e&&typeof e!="string"&&e.width&&e.height)}Pe=function(e){o(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.createStyle=function(e){return ao(_6,e)},t.prototype._getSize=function(e){var t,s,o,n=this.style,i=n[e];return i??(t=h9(n.image)?n.image:this.__image,t?(s=e==="width"?"height":"width",o=n[s],o==null?t[e]:t[e]/t[s]*o):0)},t.prototype.getWidth=function(){return this._getSize("width")},t.prototype.getHeight=function(){return this._getSize("height")},t.prototype.getAnimationStyleProps=function(){return b6},t.prototype.getBoundingRect=function(){var e=this.style;return this._rect||(this._rect=new b(e.x||0,e.y||0,this.getWidth(),this.getHeight())),this._rect},t}(bs),Pe.prototype.type="image";function c9(e,t){var n,s,o,i,l,d=t.x,u=t.y,r=t.width,c=t.height,a=t.r;r<0&&(d=d+r,r=-r),c<0&&(u=u+c,c=-c),typeof a=="number"?n=s=o=i=a:a instanceof Array?a.length===1?n=s=o=i=a[0]:a.length===2?(n=o=a[0],s=i=a[1]):a.length===3?(n=a[0],s=i=a[1],o=a[2]):(n=a[0],s=a[1],o=a[2],i=a[3]):n=s=o=i=0,n+s>r&&(l=n+s,n*=r/l,s*=r/l),o+i>r&&(l=o+i,o*=r/l,i*=r/l),s+o>c&&(l=s+o,s*=c/l,o*=c/l),n+i>c&&(l=n+i,n*=c/l,i*=c/l),e.moveTo(d+n,u),e.lineTo(d+r-s,u),s!==0&&e.arc(d+r-s,u+s,s,-Math.PI/2,0),e.lineTo(d+r,u+c-o),o!==0&&e.arc(d+r-o,u+c-o,o,0,Math.PI/2),e.lineTo(d+i,u+c),i!==0&&e.arc(d+i,u+c-i,i,Math.PI/2,Math.PI),e.lineTo(d,u+n),n!==0&&e.arc(d+n,u+n,n,Math.PI,Math.PI*1.5)}En=Math.round;function m6(e,t,n){if(!t)return;var s,o=t.x1,a=t.x2,i=t.y1,r=t.y2;return e.x1=o,e.x2=a,e.y1=i,e.y2=r,s=n&&n.lineWidth,s?(En(o*2)===En(a*2)&&(e.x1=e.x2=xn(o,s,!0)),En(i*2)===En(r*2)&&(e.y1=e.y2=xn(i,s,!0)),e):e}function h6(e,t,n){if(!t)return;var s,o=t.x,i=t.y,a=t.width,r=t.height;return e.x=o,e.y=i,e.width=a,e.height=r,s=n&&n.lineWidth,s?(e.x=xn(o,s,!0),e.y=xn(i,s,!0),e.width=Math.max(xn(o+a,s,!1)-e.x,a===0?0:1),e.height=Math.max(xn(i+r,s,!1)-e.y,r===0?0:1),e):e}function xn(e,t,n){if(!t)return e;var s=En(e*2);return(s+En(t))%2===0?s/2:(s+(n?1:-1))/2}r6=function(){function e(){this.x=0,this.y=0,this.width=0,this.height=0}return e}(),n6={},T=function(e){o(t,e);function t(t){return e.call(this,t)||this}return t.prototype.getDefaultShape=function(){return new r6},t.prototype.buildPath=function(e,t){if(this.subPixelOptimize){var s,o,i,a,n=h6(n6,t,this.style);s=n.x,o=n.y,i=n.width,a=n.height,n.r=t.r,t=n}else s=t.x,o=t.y,i=t.width,a=t.height;t.r?c9(e,t):e.rect(s,o,i,a)},t.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},t}(O),T.prototype.type="rect",Qc={fill:"#000"},Zc=2,Xf={style:x({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},Io.style)},A=function(e){o(t,e);function t(t){var n=e.call(this)||this;return n.type="text",n._children=[],n._defaultStyle=Qc,n.attr(t),n}return t.prototype.childrenRef=function(){return this._children},t.prototype.update=function(){e.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var t,n=0;n<this._children.length;n++)t=this._children[n],t.zlevel=this.zlevel,t.z=this.z,t.z2=this.z2,t.culling=this.culling,t.cursor=this.cursor,t.invisible=this.invisible},t.prototype.updateTransform=function(){var t=this.innerTransformable;t?(t.updateTransform(),t.transform&&(this.transform=t.transform)):e.prototype.updateTransform.call(this)},t.prototype.getLocalTransform=function(t){var n=this.innerTransformable;return n?n.getLocalTransform(t):e.prototype.getLocalTransform.call(this,t)},t.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),e.prototype.getComputedTransform.call(this)},t.prototype._updateSubTexts=function(){this._childCursor=0,i9(this.style),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},t.prototype.addSelfToZr=function(t){e.prototype.addSelfToZr.call(this,t);for(var n=0;n<this._children.length;n++)this._children[n].__zr=t},t.prototype.removeSelfFromZr=function(t){e.prototype.removeSelfFromZr.call(this,t);for(var n=0;n<this._children.length;n++)this._children[n].__zr=null},t.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var n,o,i,t=new b(0,0,0,0),a=this._children,r=[],e=null,s=0;s<a.length;s++)o=a[s],n=o.getBoundingRect(),i=o.getLocalTransform(r),i?(t.copy(n),t.applyTransform(i),e=e||t.clone(),e.union(t)):(e=e||n.clone(),e.union(n));this._rect=e||t}return this._rect},t.prototype.setDefaultTextStyle=function(e){this._defaultStyle=e||Qc},t.prototype.setTextContent=function(){throw new Error("Can't attach text on another text")},t.prototype._mergeStyle=function(e,t){if(!t)return e;var o=t.rich,s=e.rich||o&&{};return n(e,t),o&&s?(this._mergeRich(s,o),e.rich=s):s&&(e.rich=s),e},t.prototype._mergeRich=function(e,t){for(var s,i=k(t),o=0;o<i.length;o++)s=i[o],e[s]=e[s]||{},n(e[s],t[s])},t.prototype.getAnimationStyleProps=function(){return Xf},t.prototype._getOrCreateChild=function(e){var t=this._children[this._childCursor];return(!t||!(t instanceof e))&&(t=new e),this._children[this._childCursor++]=t,t.__zr=this.__zr,t.parent=this,t},t.prototype._updatePlainTexts=function(){var t,a,r,d,u,h,f,g,y,_,x,k,e=this.style,F=e.font||St,o=e.padding,M=Mf(e),n=q9(M,e),O=ml(e),A=!!e.backgroundColor,p=n.outerHeight,C=n.outerWidth,S=n.contentWidth,w=n.lines,j=n.lineHeight,i=this._defaultStyle,m=e.x||0,E=e.y||0,c=e.align||i.align||"left",l=e.verticalAlign||i.verticalAlign||"top",v=m,s=vs(E,n.contentHeight,l);(O||o)&&(y=$o(m,C,c),_=vs(E,p,l),O&&this._renderBackground(e,e,y,_,C,p)),s+=j/2,o&&(v=Ff(m,c,o),l==="top"?s+=o[0]:l==="bottom"&&(s-=o[2]));for(u=0,h=!1,x=Tf("fill"in e?e.fill:(h=!0,i.fill)),f=Df("stroke"in e?e.stroke:!A&&(!i.autoStroke||h)?(u=Zc,i.stroke):null),g=e.textShadowBlur>0,k=e.width!=null&&(e.overflow==="truncate"||e.overflow==="break"||e.overflow==="breakAll"),d=n.calculatedLineHeight,r=0;r<w.length;r++)a=this._getOrCreateChild(To),t=a.createStyle(),a.useStyle(t),t.text=w[r],t.x=v,t.y=s,c&&(t.textAlign=c),t.textBaseline="middle",t.opacity=e.opacity,t.strokeFirst=!0,g&&(t.shadowBlur=e.textShadowBlur||0,t.shadowColor=e.textShadowColor||"transparent",t.shadowOffsetX=e.textShadowOffsetX||0,t.shadowOffsetY=e.textShadowOffsetY||0),t.stroke=f,t.fill=x,f&&(t.lineWidth=e.lineWidth||u,t.lineDash=e.lineDash,t.lineDashOffset=e.lineDashOffset||0),t.font=F,Wf(t,e),s+=j,k&&a.setBoundingRect(new b($o(t.x,e.width,t.textAlign),vs(t.y,d,t.textBaseline),S,d))},t.prototype._updateRichTexts=function(){var e,n,s,o,a,c,l,d,u,h,m,p,v,t=this.style,A=Mf(t),r=K9(A,t),y=r.width,w=r.outerWidth,O=r.outerHeight,g=t.padding,C=t.x||0,E=t.y||0,_=this._defaultStyle,k=t.align||_.align,x=t.verticalAlign||_.verticalAlign,j=$o(C,w,k),b=vs(E,O,x),f=j,i=b;g&&(f+=g[3],i+=g[0]),v=f+y,ml(t)&&this._renderBackground(t,t,j,b,w,O);for(m=!!t.backgroundColor,h=0;h<r.lines.length;h++){for(u=r.lines[h],c=u.tokens,p=c.length,a=u.lineHeight,d=u.width,n=0,s=f,l=v,o=p-1,e=void 0;n<p&&(e=c[n],!e.align||e.align==="left");)this._placeToken(e,t,a,i,s,"left",m),d-=e.width,s+=e.width,n++;for(;o>=0&&(e=c[o],e.align==="right");)this._placeToken(e,t,a,i,l,"right",m),d-=e.width,l-=e.width,o--;for(s+=(y-(s-f)-(v-l)-d)/2;n<=o;)e=c[n],this._placeToken(e,t,a,i,s+e.width/2,"center",m),s+=e.width,n++;i+=a}},t.prototype._placeToken=function(e,t,n,s,o,i,a){var r,l,d,u,h,m,f,p,g,j,y,_,w,O,x,c=t.rich[e.styleName]||{};c.text=e.text,j=e.verticalAlign,l=s+n/2,j==="top"?l=s+e.height/2:j==="bottom"&&(l=s+n-e.height/2),O=!e.isLineHolder&&ml(c),O&&this._renderBackground(c,t,i==="right"?o-e.width:i==="center"?o-e.width/2:o,l-e.height/2,e.width,e.height),w=!!c.backgroundColor,h=e.textPadding,h&&(o=Ff(o,i,h),l-=e.height/2-h[0]-e.innerHeight/2),d=this._getOrCreateChild(To),r=d.createStyle(),d.useStyle(r),u=this._defaultStyle,f=!1,p=0,g=Tf("fill"in c?c.fill:"fill"in t?t.fill:(f=!0,u.fill)),m=Df("stroke"in c?c.stroke:"stroke"in t?t.stroke:!w&&!a&&(!u.autoStroke||f)?(p=Zc,u.stroke):null),x=c.textShadowBlur>0||t.textShadowBlur>0,r.text=e.text,r.x=o,r.y=l,x&&(r.shadowBlur=c.textShadowBlur||t.textShadowBlur||0,r.shadowColor=c.textShadowColor||t.textShadowColor||"transparent",r.shadowOffsetX=c.textShadowOffsetX||t.textShadowOffsetX||0,r.shadowOffsetY=c.textShadowOffsetY||t.textShadowOffsetY||0),r.textAlign=i,r.textBaseline="middle",r.font=e.font||St,r.opacity=xo(c.opacity,t.opacity,1),Wf(r,c),m&&(r.lineWidth=xo(c.lineWidth,t.lineWidth,p),r.lineDash=v(c.lineDash,t.lineDash),r.lineDashOffset=t.lineDashOffset||0,r.stroke=m),g&&(r.fill=g),y=e.contentWidth,_=e.contentHeight,d.setBoundingRect(new b($o(r.x,y,r.textAlign),vs(r.y,_,r.textBaseline),y,_))},t.prototype._renderBackground=function(e,t,n,s,o,i){var a,r,c,l,d,h,u=e.backgroundColor,m=e.borderWidth,f=e.borderColor,p=u&&u.image,g=u&&!p,j=e.borderRadius,b=this;(g||e.lineHeight||m&&f)&&(a=this._getOrCreateChild(T),a.useStyle(a.createStyle()),a.style.fill=null,c=a.shape,c.x=n,c.y=s,c.width=o,c.height=i,c.r=j,a.dirtyShape()),g?(r=a.style,r.fill=u||null,r.fillOpacity=v(e.fillOpacity,1)):p&&(h=this._getOrCreateChild(Pe),h.onload=function(){b.dirtyStyle()},d=h.style,d.image=u.image,d.x=n,d.y=s,d.width=o,d.height=i),m&&f&&(r=a.style,r.lineWidth=m,r.stroke=f,r.strokeOpacity=v(e.strokeOpacity,1),r.lineDash=e.borderDash,r.lineDashOffset=e.borderDashOffset||0,a.strokeContainThreshold=0,a.hasFill()&&a.hasStroke()&&(r.strokeFirst=!0,r.lineWidth*=2)),l=(a||h).style,l.shadowBlur=e.shadowBlur||0,l.shadowColor=e.shadowColor||"transparent",l.shadowOffsetX=e.shadowOffsetX||0,l.shadowOffsetY=e.shadowOffsetY||0,l.opacity=xo(e.opacity,t.opacity,1)},t.makeFont=function(e){var t="";return a9(e)&&(t=[e.fontStyle,e.fontWeight,r9(e.fontSize),e.fontFamily||"sans-serif"].join(" ")),t&&Xe(t)||e.textFont||e.font},t}(bs),Yf={left:!0,right:1,center:1},qf={top:1,bottom:1,middle:1},sl=["fontStyle","fontWeight","fontSize","fontFamily"];function r9(e){return typeof e=="string"&&(e.indexOf("px")!==-1||e.indexOf("rem")!==-1||e.indexOf("em")!==-1)?e:isNaN(+e)?sc+"px":e+"px"}function Wf(e,t){for(var s,o,n=0;n<sl.length;n++)s=sl[n],o=t[s],o!=null&&(e[s]=o)}function a9(e){return e.fontSize!=null||e.fontFamily||e.fontWeight}function i9(e){return Nf(e),t(e.rich,Nf),e}function Nf(e){if(e){e.font=A.makeFont(e);var t,s,n=e.align;n==="middle"&&(n="center"),e.align=n==null||Yf[n]?n:"left",t=e.verticalAlign,t==="center"&&(t="middle"),e.verticalAlign=t==null||qf[t]?t:"top",s=e.padding,s&&(e.padding=$c(e.padding))}}function Df(e,t){return e==null||t<=0||e==="transparent"||e==="none"?null:e.image||e.colorStops?"#000":e}function Tf(e){return e==null||e==="none"?null:e.image||e.colorStops?"#000":e}function Ff(e,t,n){return t==="right"?e-n[1]:t==="center"?e+n[3]/2-n[1]/2:e+n[3]}function Mf(e){var t=e.text;return t!=null&&(t+=""),t}function ml(e){return!!(e.backgroundColor||e.lineHeight||e.borderWidth&&e.borderColor)}y=S(),_f=function(e,t,n,s){if(s){var o=y(s);o.dataIndex=n,o.dataType=t,o.seriesIndex=e,s.type==="group"&&s.traverse(function(s){var o=y(s);o.seriesIndex=e,o.dataIndex=n,o.dataType=t})}},gl=1,vl={},bl=S(),dr=S(),yl=0,rr=1,ar=2,et=["emphasis","blur","select"],mo=["normal","emphasis","blur","select"],q8=10,$8=9,ln="highlight",io="downplay",Ws="select",Wo="unselect",Hn="toggleSelect";function qs(e){return e!=null&&e!=="none"}zl=new $n(100);function S8(e){if(i(e)){var s,t=zl.get(e);return t||(t=Nu(e,-.1),zl.put(e,t)),t}return ko(e)?(s=n({},e),s.colorStops=r(e.colorStops,function(e){return{offset:e.offset,color:Nu(e.color,-.1)}}),s):e}function qa(e,t,n){e.onHoverStateChange&&(e.hoverState||0)!==n&&e.onHoverStateChange(t),e.hoverState=n}function O8(e){qa(e,"emphasis",ar)}function y8(e){e.hoverState===ar&&qa(e,"normal",yl)}function Pl(e){qa(e,"blur",rr)}function j8(e){e.hoverState===rr&&qa(e,"normal",yl)}function o9(e){e.selected=!0}function s9(e){e.selected=!1}function Zm(e,t,n){t(e,n)}function Ot(e,t,n){Zm(e,t,n),e.isGroup&&e.traverse(function(e){Zm(e,t,n)})}function n9(e,t,n,s){for(var i,a,c,l=e.style,r={},o=0;o<t.length;o++)a=t[o],c=l[a],r[a]=c??(s&&s[a]);for(o=0;o<e.animators.length;o++)i=e.animators[o],i.__fromStateTransition&&i.__fromStateTransition.indexOf(n)<0&&i.targetName==="style"&&i.saveTo(r,t);return r}function t9(e,t,s,o){var i,a,r,l,d,u=s&&_(s,"select")>=0,c=!1;return e instanceof O&&(a=bl(e),r=u?a.selectFill||a.normalFill:a.normalFill,l=u?a.selectStroke||a.normalStroke:a.normalStroke,(qs(r)||qs(l))&&(o=o||{},i=o.style||{},i.fill==="inherit"?(c=!0,o=n({},o),i=n({},i),i.fill=r):!qs(i.fill)&&qs(r)?(c=!0,o=n({},o),i=n({},i),i.fill=S8(r)):!qs(i.stroke)&&qs(l)&&(c||(o=n({},o),i=n({},i)),i.stroke=S8(l)),o.style=i)),o&&o.z2==null&&(c||(o=n({},o)),d=e.z2EmphasisLift,o.z2=e.z2+(d??q8)),o}function e9(e,t,s){if(s&&s.z2==null){s=n({},s);var o=e.z2SelectLift;s.z2=e.z2+(o??$8)}return s}function Xv(e,t,s){var o,i=_(e.currentStates,t)>=0,a=e.style.opacity,r=i?null:n9(e,["opacity"],t,{opacity:1});return s=s||{},o=s.style||{},o.opacity==null&&(s=n({},s),o=n({opacity:i?a:r.opacity*.1},o),s.style=o),s}function Yl(e,t){var n=this.states[e];if(this.style){if(e==="emphasis")return t9(this,e,t,n);if(e==="blur")return Xv(this,e,n);if(e==="select")return e9(this,e,n)}return n}function Gv(e){e.stateProxy=Yl;var t=e.getTextContent(),n=e.getTextGuideLine();t&&(t.stateProxy=Yl),n&&(n.stateProxy=Yl)}function Lm(e,t){!jm(e,t)&&!e.__highByOuter&&Ot(e,O8)}function zm(e,t){!jm(e,t)&&!e.__highByOuter&&Ot(e,y8)}function Zl(e,t){e.__highByOuter|=1<<(t||0),Ot(e,O8)}function Jl(e,t){!(e.__highByOuter&=~(1<<(t||0)))&&Ot(e,y8)}function Vv(e){Ot(e,Pl)}function xm(e){Ot(e,j8)}function wm(e){Ot(e,o9)}function _m(e){Ot(e,s9)}function jm(e,t){return e.__highDownSilentOnTouch&&t.zrByTouch}function um(e){var t=e.getModel();t.eachComponent(function(t,n){var o,s=dr(n);s.isBlured&&(o=t==="series"?e.getViewOfSeriesModel(n):e.getViewOfComponentModel(n),o.group.traverse(function(e){j8(e)})),s.isBlured=!1})}function ad(e,t,n,s){var o,r,c,i=s.getModel();n=n||"coordinateSystem";function l(e,t){for(var s,n=0;n<t.length;n++)s=e.getItemGraphicEl(t[n]),s&&xm(s)}if(e==null)return;if(!t||t==="none")return;r=i.getSeriesByIndex(e),o=r.coordinateSystem,o&&o.master&&(o=o.master),c=[],i.eachSeries(function(e){var d,u,m,f,h=r===e,i=e.coordinateSystem;if(i&&i.master&&(i=i.master),m=i&&o?i===o:h,!(n==="series"&&!h||n==="coordinateSystem"&&!m||t==="series"&&h)){if(f=s.getViewOfSeriesModel(e),f.group.traverse(function(e){Pl(e)}),B(t))l(e.getData(),t);else if(a(t))for(u=k(t),d=0;d<u.length;d++)l(e.getData(u[d]),t[u[d]]);c.push(e),dr(e).isBlured=!0}}),i.eachComponent(function(e,t){if(e==="series")return;var n=s.getViewOfComponentModel(t);n&&n.blurSeries&&n.blurSeries(c,i)})}function rd(e,t,n){if(e==null||t==null)return;var s,o=n.getModel().getComponent(e,t);if(!o)return;if(dr(o).isBlured=!0,s=n.getViewOfComponentModel(o),!s||!s.focusBlurEnabled)return;s.group.traverse(function(e){Pl(e)})}function Bv(e,t,n){var o,i,r,c,l,u,h,d=e.seriesIndex,a=e.getData(t.dataType);if(!a){K("Unknown dataType "+t.dataType);return}if(o=Co(a,t),o=(s(o)?o[0]:o)||0,i=a.getItemGraphicEl(o),!i)for(u=a.count(),r=0;!i&&r<u;)i=a.getItemGraphicEl(r++);i?(c=y(i),ad(d,c.focus,c.blurScope,n)):(l=e.get(["emphasis","focus"]),h=e.get(["emphasis","blurScope"]),l!=null&&ad(d,l,h,n))}function ld(e,t,n,s){var o,i,a,c,l,r={focusSelf:!1,dispatchers:null};if(e==null||e==="series"||t==null||n==null)return r;if(c=s.getModel().getComponent(e,t),!c)return r;if(a=s.getViewOfComponentModel(c),!a||!a.findHighDownDispatchers)return r;for(o=a.findHighDownDispatchers(n),i=0;i<o.length;i++)if(Ps(o[i])||K("param should be highDownDispatcher"),y(o[i]).focus==="self"){l=!0;break}return{focusSelf:l,dispatchers:o}}function Iv(e,n,s){Ps(e)||K("param should be highDownDispatcher");var o=y(e),i=ld(o.componentMainType,o.componentIndex,o.componentHighDownName,s),a=i.dispatchers,r=i.focusSelf;a?(r&&rd(o.componentMainType,o.componentIndex,s),t(a,function(e){return Lm(e,n)})):(ad(o.seriesIndex,o.focus,o.blurScope,s),o.focus==="self"&&rd(o.componentMainType,o.componentIndex,s),Lm(e,n))}function Hv(e,n,s){Ps(e)||K("param should be highDownDispatcher"),um(s);var o=y(e),i=ld(o.componentMainType,o.componentIndex,o.componentHighDownName,s).dispatchers;i?t(i,function(e){return zm(e,n)}):zm(e,n)}function Lv(e,t){if(!wd(t))return;var i=t.dataType,a=e.getData(i),o=Co(a,t);s(o)||(o=[o]),e[t.type===Hn?"toggleSelect":t.type===Ws?"select":"unselect"](o,i)}function am(e){var n=e.getAllData();t(n,function(t){var n=t.data,s=t.type;n.eachItemGraphicEl(function(t,n){e.isSelected(n,s)?wm(t):_m(t)})})}function Nv(e){var n=[];return e.eachSeries(function(e){var s=e.getAllData();t(s,function(t){t.data;var s,o=t.type,i=e.getSelectedDataIndices();i.length>0&&(s={dataIndex:i,seriesIndex:e.seriesIndex},o!=null&&(s.dataType=o),n.push(s))})}),n}function im(e,t,n){jd(e,!0),Ot(e,Gv),Tv(e,t,n)}function Dv(e){jd(e,!1)}function zv(e,t,n,s){s?Dv(e):im(e,t,n)}function Tv(e,t,n){var s=y(e);t!=null?(s.focus=t,s.blurScope=n):s.focus&&(s.focus=null)}function jd(e,t){var s=t===!1,n=e;e.highDownSilentOnTouch&&(n.__highDownSilentOnTouch=e.highDownSilentOnTouch),(!s||n.__highDownDispatcher)&&(n.__highByOuter=n.__highByOuter||0,n.__highDownDispatcher=!s)}function Ps(e){return!!(e&&e.__highDownDispatcher)}function Fv(e){var t=vl[e];return t==null&&gl<=32&&(t=vl[e]=gl++),t}function wd(e){var t=e.type;return t===Ws||t===Wo||t===Hn}function Kh(e){var t=e.type;return t===ln||t===io}function Mv(e){var t,n=bl(e);n.normalFill=e.style.fill,n.normalStroke=e.style.stroke,t=e.states.select||{},n.selectFill=t.style&&t.style.fill||null,n.selectStroke=t.style&&t.style.stroke||null}bn=Jt.CMD,Vh=[[],[],[]],kd=Math.sqrt,Bh=Math.atan2;function Sv(e,t){if(!t)return;var s,o,i,a,r,c,l,d,u,h,m,f,n=e.data,_=e.len(),y=bn.M,j=bn.C,b=bn.L,p=bn.R,g=bn.A,v=bn.Q;for(s=0,i=0;s<_;){switch(f=n[s++],i=s,r=0,f){case y:r=1;break;case b:r=1;break;case j:r=3;break;case v:r=2;break;case g:m=t[4],h=t[5],d=kd(t[0]*t[0]+t[1]*t[1]),l=kd(t[2]*t[2]+t[3]*t[3]),u=Bh(-t[1]/l,t[0]/d),n[s]*=d,n[s++]+=m,n[s]*=l,n[s++]+=h,n[s++]*=d,n[s++]*=l,n[s++]+=u,n[s++]+=u,s+=2,i=s;break;case p:o[0]=n[s++],o[1]=n[s++],pe(o,o,t),n[i++]=o[0],n[i++]=o[1],o[0]+=n[s++],o[1]+=n[s++],pe(o,o,t),n[i++]=o[0],n[i++]=o[1]}for(c=0;c<r;c++)a=Vh[c],a[0]=n[s++],a[1]=n[s++],pe(a,a,t),n[i++]=a[0],n[i++]=a[1]}e.increaseVersion()}Ra=Math.sqrt,po=Math.sin,_o=Math.cos,Ds=Math.PI;function jh(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function Nd(e,t){return(e[0]*t[0]+e[1]*t[1])/(jh(e)*jh(t))}function fh(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*Math.acos(Nd(e,t))}function dh(e,t,n,s,o,i,a,r,c,l,d){var f,p,g,v,b,y,_,w,O,x,m=c*(Ds/180),u=_o(m)*(e-n)/2+po(m)*(t-s)/2,h=-1*po(m)*(e-n)/2+_o(m)*(t-s)/2,j=u*u/(a*a)+h*h/(r*r);j>1&&(a*=Ra(j),r*=Ra(j)),y=(o===i?-1:1)*Ra((a*a*(r*r)-a*a*(h*h)-r*r*(u*u))/(a*a*(h*h)+r*r*(u*u)))||0,p=y*a*h/r,g=y*-r*u/a,O=(e+n)/2+_o(m)*p-po(m)*g,w=(t+s)/2+po(m)*p+_o(m)*g,_=fh([1,0],[(u-p)/a,(h-g)/r]),v=[(u-p)/a,(h-g)/r],b=[(-1*u-p)/a,(-1*h-g)/r],f=fh(v,b),Nd(v,b)<=-1&&(f=Ds),Nd(v,b)>=1&&(f=0),f<0&&(x=Math.round(f/Ds*1e6)/1e6,f=Ds*2+x%2*Ds),d.addData(l,O,w,a,r,_,f,m,i)}lh=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/ig,rh=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function Av(e){var t,n,s,o,i,r,c,l,d,u,h,m,f,p,g,v,b,j,y,_,w,O,x,C,E,k,a=new Jt;if(!e)return a;if(s=0,o=0,w=s,x=o,r=Jt.CMD,O=e.match(lh),!O)return a;for(C=0;C<O.length;C++){for(k=O[C],f=k.charAt(0),i=void 0,t=k.match(rh)||[],E=t.length,g=0;g<E;g++)t[g]=parseFloat(t[g]);for(n=0;n<E;)switch(c=void 0,m=void 0,v=void 0,b=void 0,j=void 0,y=void 0,p=void 0,h=s,u=o,d=void 0,l=void 0,f){case"l":s+=t[n++],o+=t[n++],i=r.L,a.addData(i,s,o);break;case"L":s=t[n++],o=t[n++],i=r.L,a.addData(i,s,o);break;case"m":s+=t[n++],o+=t[n++],i=r.M,a.addData(i,s,o),w=s,x=o,f="l";break;case"M":s=t[n++],o=t[n++],i=r.M,a.addData(i,s,o),w=s,x=o,f="L";break;case"h":s+=t[n++],i=r.L,a.addData(i,s,o);break;case"H":s=t[n++],i=r.L,a.addData(i,s,o);break;case"v":o+=t[n++],i=r.L,a.addData(i,s,o);break;case"V":o=t[n++],i=r.L,a.addData(i,s,o);break;case"C":i=r.C,a.addData(i,t[n++],t[n++],t[n++],t[n++],t[n++],t[n++]),s=t[n-2],o=t[n-1];break;case"c":i=r.C,a.addData(i,t[n++]+s,t[n++]+o,t[n++]+s,t[n++]+o,t[n++]+s,t[n++]+o),s+=t[n-2],o+=t[n-1];break;case"S":c=s,m=o,d=a.len(),l=a.data,_===r.C&&(c+=s-l[d-4],m+=o-l[d-3]),i=r.C,h=t[n++],u=t[n++],s=t[n++],o=t[n++],a.addData(i,c,m,h,u,s,o);break;case"s":c=s,m=o,d=a.len(),l=a.data,_===r.C&&(c+=s-l[d-4],m+=o-l[d-3]),i=r.C,h=s+t[n++],u=o+t[n++],s+=t[n++],o+=t[n++],a.addData(i,c,m,h,u,s,o);break;case"Q":h=t[n++],u=t[n++],s=t[n++],o=t[n++],i=r.Q,a.addData(i,h,u,s,o);break;case"q":h=t[n++]+s,u=t[n++]+o,s+=t[n++],o+=t[n++],i=r.Q,a.addData(i,h,u,s,o);break;case"T":c=s,m=o,d=a.len(),l=a.data,_===r.Q&&(c+=s-l[d-4],m+=o-l[d-3]),s=t[n++],o=t[n++],i=r.Q,a.addData(i,c,m,s,o);break;case"t":c=s,m=o,d=a.len(),l=a.data,_===r.Q&&(c+=s-l[d-4],m+=o-l[d-3]),s+=t[n++],o+=t[n++],i=r.Q,a.addData(i,c,m,s,o);break;case"A":v=t[n++],b=t[n++],j=t[n++],y=t[n++],p=t[n++],h=s,u=o,s=t[n++],o=t[n++],i=r.A,dh(h,u,s,o,y,p,v,b,j,i,a);break;case"a":v=t[n++],b=t[n++],j=t[n++],y=t[n++],p=t[n++],h=s,u=o,s+=t[n++],o+=t[n++],i=r.A,dh(h,u,s,o,y,p,v,b,j,i,a);break}(f==="z"||f==="Z")&&(i=r.Z,a.addData(i),s=w,o=x),_=i}return a.toStatic(),a}Bd=function(e){o(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.applyTransform=function(){},t}(O);function oh(e){return e.setData!=null}function sh(e,t){var s=Av(e),o=n({},t);return o.buildPath=function(e){if(oh(e)){e.setData(s.data);var t=e.getContext();t&&e.rebuildPath(t,1)}else t=e,s.rebuildPath(t,1)},o.applyTransform=function(e){Sv(s,e),this.dirtyShape()},o}function kv(e,t){return new Bd(sh(e,t))}function Ev(e,t){var n=sh(e,t),s=function(e){o(t,e);function t(t){var s=e.call(this,t)||this;return s.applyTransform=n.applyTransform,s.buildPath=n.buildPath,s}return t}(Bd);return s}function Cv(e,t){for(var n,i,o=[],a=e.length,s=0;s<a;s++)i=e[s],o.push(i.getUpdatedPathProxy(!0));return n=new O(t),n.createPathProxy(),n.buildPath=function(e){if(oh(e)){e.appendPath(o);var t=e.getContext();t&&e.rebuildPath(t,1)}},n}Q3=function(){function e(){this.cx=0,this.cy=0,this.r=0}return e}(),ms=function(e){o(t,e);function t(t){return e.call(this,t)||this}return t.prototype.getDefaultShape=function(){return new Q3},t.prototype.buildPath=function(e,t){e.moveTo(t.cx+t.r,t.cy),e.arc(t.cx,t.cy,t.r,0,Math.PI*2)},t}(O),ms.prototype.type="circle",$3=function(){function e(){this.cx=0,this.cy=0,this.rx=0,this.ry=0}return e}(),Go=function(e){o(t,e);function t(t){return e.call(this,t)||this}return t.prototype.getDefaultShape=function(){return new $3},t.prototype.buildPath=function(e,t){var c=.5522848,n=t.cx,s=t.cy,o=t.rx,i=t.ry,a=o*c,r=i*c;e.moveTo(n-o,s),e.bezierCurveTo(n-o,s-r,n-a,s-i,n,s-i),e.bezierCurveTo(n+a,s-i,n+o,s-r,n+o,s),e.bezierCurveTo(n+o,s+r,n+a,s+i,n,s+i),e.bezierCurveTo(n-a,s+i,n-o,s+r,n-o,s),e.closePath()},t}(O),Go.prototype.type="ellipse",Qd=Math.PI,wa=Qd*2,sn=Math.sin,wn=Math.cos,C3=Math.acos,I=Math.atan2,su=Math.abs,is=Math.sqrt,ss=Math.max,$e=Math.min,Me=1e-4;function xv(e,t,n,s,o,i,a,r){var l=n-e,d=s-t,u=a-o,h=r-i,c=h*l-u*d;if(c*c<Me)return;return c=(u*(t-i)-h*(e-o))/c,[e+c*l,t+c*d]}function ia(e,t,n,s,o,i,a){var b=e-n,w=t-s,x=(a?i:-i)/is(b*b+w*w),_=x*w,y=-x*b,j=e+_,p=t+y,g=n+_,v=s+y,C=(j+g)/2,O=(p+v)/2,c=g-j,r=v-p,d=c*c+r*r,f=o-i,l=j*v-g*p,h=(r<0?-1:1)*is(ss(0,f*f*d-l*l)),m=(l*r-c*h)/d,u=(-l*c-r*h)/d,E=(l*r+c*h)/d,k=(-l*c+r*h)/d,A=m-C,S=u-O,M=E-C,F=k-O;return A*A+S*S>M*M+F*F&&(m=E,u=k),{cx:m,cy:u,x0:-_,y0:-y,x1:m*(o/f-1),y1:u*(o/f-1)}}function Ov(e){if(s(e)){var t,n=e.length;if(!n)return e;n===1?t=[e[0],e[0],0,0]:n===2?t=[e[0],e[0],e[1],e[1]]:n===3?t=e.concat(e[2]):t=e}else t=[e,e,e,e];return t}function wv(e,t){if(r=ss(t.r,0),i=ss(t.r0||0,0),q=r>0,G=i>0,!q&&!G)return;q||(r=i,i=0),i>r&&(Y=r,r=i,i=Y);var n,s,o,i,a,r,c,u,h,m,f,p,g,v,b,j,y,_,w,O,x,C,E,k,A,S,M,F,T,z,D,N,L,R,P,H,B,V,$,W,U,K,q,Y,G,l=t.startAngle,d=t.endAngle;if(isNaN(l)||isNaN(d))return;a=t.cx,o=t.cy,c=!!t.clockwise,g=su(d-l),K=g>wa&&g%wa,K>Me&&(g=K),r>Me?g>wa-Me?(e.moveTo(a+r*wn(l),o+r*sn(l)),e.arc(a,o,r,l,d,!c),i>Me&&(e.moveTo(a+i*wn(d),o+i*sn(d)),e.arc(a,o,i,d,l,c))):(M=void 0,D=void 0,z=void 0,T=void 0,V=void 0,P=void 0,H=void 0,$=void 0,C=void 0,O=void 0,f=void 0,p=void 0,w=void 0,_=void 0,x=void 0,A=void 0,b=r*wn(l),v=r*sn(l),y=i*wn(d),j=i*sn(d),N=g>Me,N&&(B=t.cornerRadius,B&&(E=Ov(B),M=E[0],D=E[1],z=E[2],T=E[3]),k=su(r-i)/2,V=$e(k,z),P=$e(k,T),H=$e(k,M),$=$e(k,D),f=C=ss(V,P),p=O=ss(H,$),(C>Me||O>Me)&&(w=r*wn(d),_=r*sn(d),x=i*wn(l),A=i*sn(l),g<Qd&&(m=xv(b,v,x,A,w,_,y,j),m&&(R=b-m[0],L=v-m[1],F=w-m[0],S=_-m[1],W=1/sn(C3((R*F+L*S)/(is(R*R+L*L)*is(F*F+S*S)))/2),U=is(m[0]*m[0]+m[1]*m[1]),f=$e(C,(r-U)/(W+1)),p=$e(O,(i-U)/(W-1)))))),N?f>Me?(h=$e(z,f),u=$e(T,f),n=ia(x,A,b,v,r,h,c),s=ia(w,_,y,j,r,u,c),e.moveTo(a+n.cx+n.x0,o+n.cy+n.y0),f<C&&h===u?e.arc(a+n.cx,o+n.cy,f,I(n.y0,n.x0),I(s.y0,s.x0),!c):(h>0&&e.arc(a+n.cx,o+n.cy,h,I(n.y0,n.x0),I(n.y1,n.x1),!c),e.arc(a,o,r,I(n.cy+n.y1,n.cx+n.x1),I(s.cy+s.y1,s.cx+s.x1),!c),u>0&&e.arc(a+s.cx,o+s.cy,u,I(s.y1,s.x1),I(s.y0,s.x0),!c))):(e.moveTo(a+b,o+v),e.arc(a,o,r,l,d,!c)):e.moveTo(a+b,o+v),!(i>Me)||!N?e.lineTo(a+y,o+j):p>Me?(h=$e(M,p),u=$e(D,p),n=ia(y,j,w,_,i,-u,c),s=ia(b,v,x,A,i,-h,c),e.lineTo(a+n.cx+n.x0,o+n.cy+n.y0),p<O&&h===u?e.arc(a+n.cx,o+n.cy,p,I(n.y0,n.x0),I(s.y0,s.x0),!c):(u>0&&e.arc(a+n.cx,o+n.cy,u,I(n.y0,n.x0),I(n.y1,n.x1),!c),e.arc(a,o,i,I(n.cy+n.y1,n.cx+n.x1),I(s.cy+s.y1,s.cx+s.x1),c),h>0&&e.arc(a+s.cx,o+s.cy,h,I(s.y1,s.x1),I(s.y0,s.x0),!c))):(e.lineTo(a+y,o+j),e.arc(a,o,i,d,l,c))):e.moveTo(a,o),e.closePath()}n3=function(){function e(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0,this.cornerRadius=0}return e}(),Ci=function(e){o(t,e);function t(t){return e.call(this,t)||this}return t.prototype.getDefaultShape=function(){return new n3},t.prototype.buildPath=function(e,t){wv(e,t)},t.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},t}(O),Ci.prototype.type="sector",t3=function(){function e(){this.cx=0,this.cy=0,this.r=0,this.r0=0}return e}(),Ei=function(e){o(t,e);function t(t){return e.call(this,t)||this}return t.prototype.getDefaultShape=function(){return new t3},t.prototype.buildPath=function(e,t){var n=t.cx,s=t.cy,o=Math.PI*2;e.moveTo(n+t.r,s),e.arc(n,s,t.r,0,o,!1),e.moveTo(n+t.r0,s),e.arc(n,s,t.r0,0,o,!0)},t}(O),Ei.prototype.type="ring";function _v(e,t,n,s){if(i=[],l=[],j=[],b=[],s){a=[1/0,1/0],r=[-(1/0),-(1/0)];for(var i,a,r,l,d,u,h,m,f,p,g,v,b,j,o=0,c=e.length;o<c;o++)Xt(a,a,e[o]),qt(r,r,e[o]);Xt(a,a,s[0]),qt(r,r,s[1])}for(o=0,c=e.length;o<c;o++){if(h=e[o],n)m=e[o?o-1:c-1],f=e[(o+1)%c];else{if(o===0||o===c-1){i.push(Zf(e[o]));continue}m=e[o-1],f=e[o+1]}Lf(l,f,m),ha(l,l,t),p=ra(h,m),g=ra(h,f),v=p+g,v!==0&&(p/=v,g/=v),ha(j,l,-p),ha(b,l,g),u=nl([],h,j),d=nl([],h,b),s&&(qt(u,u,a),Xt(u,u,r),qt(d,d,a),Xt(d,d,r)),i.push(u),i.push(d)}return n&&i.push(i.shift()),i}function Z2(e,t,n){if(a=t.smooth,s=t.points,s&&s.length>=2){if(a){r=_v(s,a,n,t.smoothConstraint),e.moveTo(s[0][0],s[0][1]);for(i=s.length,o=0;o<(n?i:i-1);o++)c=r[o*2],l=r[o*2+1],d=s[(o+1)%i],e.bezierCurveTo(c[0],c[1],l[0],l[1],d[0],d[1])}else{e.moveTo(s[0][0],s[0][1]);for(var s,i,a,r,c,l,d,o=1,u=s.length;o<u;o++)e.lineTo(s[o][0],s[o][1])}n&&e.closePath()}}z2=function(){function e(){this.points=null,this.smooth=0,this.smoothConstraint=null}return e}(),Qn=function(e){o(t,e);function t(t){return e.call(this,t)||this}return t.prototype.getDefaultShape=function(){return new z2},t.prototype.buildPath=function(e,t){Z2(e,t,!0)},t}(O),Qn.prototype.type="polygon",F2=function(){function e(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null}return e}(),Ln=function(e){o(t,e);function t(t){return e.call(this,t)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new F2},t.prototype.buildPath=function(e,t){Z2(e,t,!1)},t}(O),Ln.prototype.type="polyline",S2={},k2=function(){function e(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return e}(),Lt=function(e){o(t,e);function t(t){return e.call(this,t)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new k2},t.prototype.buildPath=function(e,t){if(this.subPixelOptimize){var n,s,o,i,a,r=m6(S2,t,this.style);i=r.x1,a=r.y1,s=r.x2,o=r.y2}else i=t.x1,a=t.y1,s=t.x2,o=t.y2;if(n=t.percent,n===0)return;e.moveTo(i,a),n<1&&(s=i*(1-n)+s*n,o=a*(1-n)+o*n),e.lineTo(s,o)},t.prototype.pointAt=function(e){var t=this.shape;return[t.x1*(1-e)+t.x2*e,t.y1*(1-e)+t.y2*e]},t}(O),Lt.prototype.type="line",ee=[],O2=function(){function e(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1}return e}();function y2(e,t,n){var s=e.cpx2,o=e.cpy2;return s!=null||o!=null?[(n?d3:R)(e.x1,e.cpx1,e.cpx2,e.x2,t),(n?d3:R)(e.y1,e.cpy1,e.cpy2,e.y2,t)]:[(n?U2:U)(e.x1,e.cpx1,e.x2,t),(n?U2:U)(e.y1,e.cpy1,e.y2,t)]}Mi=function(e){o(t,e);function t(t){return e.call(this,t)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new O2},t.prototype.buildPath=function(e,t){var l=t.x1,d=t.y1,s=t.x2,o=t.y2,i=t.cpx1,a=t.cpy1,r=t.cpx2,c=t.cpy2,n=t.percent;if(n===0)return;e.moveTo(l,d),r==null||c==null?(n<1&&(ac(l,i,s,n,ee),i=ee[1],s=ee[2],ac(d,a,o,n,ee),a=ee[1],o=ee[2]),e.quadraticCurveTo(i,a,s,o)):(n<1&&(Pr(l,i,r,s,n,ee),i=ee[1],r=ee[2],s=ee[3],Pr(d,a,c,o,n,ee),a=ee[1],c=ee[2],o=ee[3]),e.bezierCurveTo(i,a,r,c,s,o))},t.prototype.pointAt=function(e){return y2(this.shape,e,!1)},t.prototype.tangentAt=function(e){var t=y2(this.shape,e,!0);return sf(t,t)},t}(O),Mi.prototype.type="bezier-curve",b2=function(){function e(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return e}(),Wn=function(e){o(t,e);function t(t){return e.call(this,t)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new b2},t.prototype.buildPath=function(e,t){var o=t.cx,i=t.cy,n=Math.max(t.r,0),s=t.startAngle,a=t.endAngle,r=t.clockwise,c=Math.cos(s),l=Math.sin(s);e.moveTo(c*n+o,l*n+i),e.arc(o,i,n,s,a,!r)},t}(O),Wn.prototype.type="arc",Fu=function(e){o(t,e);function t(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="compound",t}return t.prototype._updatePathDirty=function(){for(var n=this.shape.paths,e=this.shapeChanged(),t=0;t<n.length;t++)e=e||n[t].shapeChanged();e&&this.dirtyShape()},t.prototype.beforeBrush=function(){this._updatePathDirty();for(var t=this.shape.paths||[],n=this.getGlobalScale(),e=0;e<t.length;e++)t[e].path||t[e].createPathProxy(),t[e].path.setScale(n[0],n[1],t[e].segmentIgnoreThreshold)},t.prototype.buildPath=function(e,t){for(var s=t.paths||[],n=0;n<s.length;n++)s[n].buildPath(e,s[n].shape,!0)},t.prototype.afterBrush=function(){for(var t=this.shape.paths||[],e=0;e<t.length;e++)t[e].pathUpdated()},t.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),O.prototype.getBoundingRect.call(this)},t}(O),Tu=function(){function e(e){this.colorStops=e||[]}return e.prototype.addColorStop=function(e,t){this.colorStops.push({offset:e,color:t})},e}(),Bi=function(e){o(t,e);function t(t,n,s,o,i,a){var r=e.call(this,i)||this;return r.x=t??0,r.y=n??0,r.x2=s??1,r.y2=o??0,r.type="linear",r.global=a||!1,r}return t}(Tu),Du=function(e){o(t,e);function t(t,n,s,o,i){var a=e.call(this,o)||this;return a.x=t??.5,a.y=n??.5,a.r=s??.5,a.type="radial",a.global=i||!1,a}return t}(Tu),Nt=[0,0],Dt=[0,0],lo=new h,Ri=new h,Ni=function(){function e(e,t){this._corners=[],this._axes=[],this._origin=[0,0];for(var n=0;n<4;n++)this._corners[n]=new h;for(n=0;n<2;n++)this._axes[n]=new h;e&&this.fromBoundingRect(e,t)}return e.prototype.fromBoundingRect=function(e,t){var s,n=this._corners,o=this._axes,i=e.x,a=e.y,r=i+e.width,c=a+e.height;if(n[0].set(i,a),n[1].set(r,a),n[2].set(r,c),n[3].set(i,c),t)for(s=0;s<4;s++)n[s].transform(t);h.sub(o[0],n[1],n[0]),h.sub(o[1],n[3],n[0]),o[0].normalize(),o[1].normalize();for(s=0;s<2;s++)this._origin[s]=o[s].dot(n[0])},e.prototype.intersect=function(e,t){var n=!0,s=!t;return lo.set(1/0,1/0),Ri.set(0,0),!this._intersectCheckOneSide(this,e,lo,Ri,s,1)&&(n=!1,s)?n:!this._intersectCheckOneSide(e,this,lo,Ri,s,-1)&&(n=!1,s)?n:(s||h.copy(t,n?lo:Ri),n)},e.prototype._intersectCheckOneSide=function(e,t,n,s,o,i){for(var a,r,l,d=!0,c=0;c<2;c++)if(l=this._axes[c],this._getProjMinMaxOnAxis(c,e._corners,Nt),this._getProjMinMaxOnAxis(c,t._corners,Dt),Nt[1]<Dt[0]||Nt[0]>Dt[1]){if(d=!1,o)return d;a=Math.abs(Dt[0]-Nt[1]),r=Math.abs(Nt[0]-Dt[1]),Math.min(a,r)>s.len()&&(a<r?h.scale(s,l,-a*i):h.scale(s,l,r*i))}else n&&(a=Math.abs(Dt[0]-Nt[1]),r=Math.abs(Nt[0]-Dt[1]),Math.min(a,r)<n.len()&&(a<r?h.scale(n,l,a*i):h.scale(n,l,-r*i)));return d},e.prototype._getProjMinMaxOnAxis=function(e,t,n){for(var a,r=this._axes[e],c=this._origin,l=t[0].dot(r)+c[e],s=l,o=l,i=1;i<t.length;i++)a=t[i].dot(r)+c[e],s=Math.min(a,s),o=Math.max(a,o);n[0]=s,n[1]=o},e}(),Q0=[],Bu=function(e){o(t,e);function t(){var t=e!==null&&e.apply(this,arguments)||this;return t.notClear=!0,t.incremental=!0,t._displayables=[],t._temporaryDisplayables=[],t._cursor=0,t}return t.prototype.traverse=function(e,t){e.call(t,this)},t.prototype.useStyle=function(){this.style={}},t.prototype.getCursor=function(){return this._cursor},t.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},t.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},t.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},t.prototype.addDisplayable=function(e,t){t?this._temporaryDisplayables.push(e):this._displayables.push(e),this.markRedraw()},t.prototype.addDisplayables=function(e,t){t=t||!1;for(var n=0;n<e.length;n++)this.addDisplayable(e[n],t)},t.prototype.getDisplayables=function(){return this._displayables},t.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},t.prototype.eachPendingDisplayable=function(e){for(var t=this._cursor;t<this._displayables.length;t++)e&&e(this._displayables[t]);for(t=0;t<this._temporaryDisplayables.length;t++)e&&e(this._temporaryDisplayables[t])},t.prototype.update=function(){this.updateTransform();for(var e,t=this._cursor;t<this._displayables.length;t++)e=this._displayables[t],e.parent=this,e.update(),e.parent=null;for(t=0;t<this._temporaryDisplayables.length;t++)e=this._temporaryDisplayables[t],e.parent=this,e.update(),e.parent=null},t.prototype.getBoundingRect=function(){if(!this._rect){for(var e,n,s=new b(1/0,1/0,-(1/0),-(1/0)),t=0;t<this._displayables.length;t++)e=this._displayables[t],n=e.getBoundingRect().clone(),e.needLocalTransform()&&n.applyTransform(e.getLocalTransform(Q0)),s.union(n);this._rect=s}return this._rect},t.prototype.contain=function(e,t){var n,o,s=this.transformCoordToLocal(e,t),i=this.getBoundingRect();if(i.contain(s[0],s[1]))for(n=0;n<this._displayables.length;n++)if(o=this._displayables[n],o.contain(e,t))return!0;return!1},t}(bs),S();function jv(e,t,n,s,o){if(t&&t.ecModel){var i,a,r,c,l,h,m,u=t.ecModel.getUpdatePayload();i=u&&u.animation}return h=t&&t.isAnimationEnabled(),l=e==="update",h?(a=void 0,c=void 0,r=void 0,s?(a=v(s.duration,200),c=v(s.easing,"cubicOut"),r=0):(a=t.getShallow(l?"animationDurationUpdate":"animationDuration"),c=t.getShallow(l?"animationEasingUpdate":"animationEasing"),r=t.getShallow(l?"animationDelayUpdate":"animationDelay")),i&&(i.duration!=null&&(a=i.duration),i.easing!=null&&(c=i.easing),i.delay!=null&&(r=i.delay)),d(r)&&(r=r(n,o)),d(a)&&(a=a(n)),m={duration:a||0,delay:r,easing:c},m):null}function $u(e,t,n,s,o,i,r){var c,l,h,m,f,p,g,u=!1;d(o)?(r=i,i=o,o=null):a(o)&&(i=o.cb,r=o.during,u=o.isFrom,m=o.removeOpt,o=o.dataIndex),l=e==="leave",l||t.stopAnimation("leave"),c=jv(e,s,o,l?m||{}:null,s&&s.getAnimationDelayParams?s.getAnimationDelayParams(t,o):null),c&&c.duration>0?(f=c.duration,p=c.delay,g=c.easing,h={duration:f,delay:p||0,easing:g,done:i,force:!!i||!!r,setToFinal:!l,scope:e,during:r},u?t.animateFrom(n,h):t.animateTo(n,h)):(t.stopAnimation(),!u&&t.attr(n),r&&r(1),i&&i())}function Rn(e,t,n,s,o,i){$u("update",e,t,n,s,o,i)}function Ti(e,t,n,s,o,i){$u("enter",e,t,n,s,o,i)}function Xn(e){if(!e.__zr)return!0;for(var n,t=0;t<e.animators.length;t++)if(n=e.animators[t],n.scope==="leave")return!0;return!1}function B0(e,t,n,s,o,i){if(Xn(e))return;$u("leave",e,t,n,s,o,i)}function P0(e,t,n,s){e.removeTextContent(),e.removeTextGuideLine(),B0(e,{style:{opacity:0}},t,n,s)}function vv(e,t,n){function s(){e.parent&&e.parent.remove(e)}e.isGroup?e.traverse(function(e){e.isGroup||P0(e,t,n,s)}):P0(e,t,n,s)}Si=Math.max,Ai=Math.min,Gi={};function N0(e){return O.extend(e)}S0=Ev;function A0(e,t){return S0(e,t)}function Ne(e,t){Gi[e]=t}function k0(e){if(Gi.hasOwnProperty(e))return Gi[e]}function ea(e,t,n,s){var o=kv(e,t);return n&&(s==="center"&&(n=x0(n,o.getBoundingRect())),c1(o,n)),o}function i1(e,t,n){var s=new Pe({style:{image:e,x:t.x,y:t.y,width:t.width,height:t.height},onload:function(e){if(n==="center"){var o={width:e.width,height:e.height};s.setStyle(x0(t,o))}}});return s}function x0(e,t){var s,i,a,o=t.width/t.height,n=e.height*o;return n<=e.width?s=e.height:(n=e.width,s=n/o),i=e.x+e.width/2,a=e.y+e.height/2,{x:i-n/2,y:a-s/2,width:n,height:s}}r1=Cv;function c1(e,t){if(!e.applyTransform)return;var n=e.getBoundingRect(),s=n.calculateTransform(t);e.applyTransform(s)}function dv(e){return m6(e.shape,e.shape,e.style),e}function lv(e){return h6(e.shape,e.shape,e.style),e}y0=xn;function yi(e,t){for(var n=Ys([]);e&&e!==t;)Wt(n,e.getLocalTransform(),n),e=e.parent;return n}function es(e,t,n){return t&&!B(t)&&(t=Eo.getLocalTransform(t)),n&&(t=go([],t)),pe([],e,t)}function v0(e,t,n){var o=t[4]===0||t[5]===0||t[0]===0?1:Math.abs(2*t[4]/t[0]),i=t[4]===0||t[5]===0||t[2]===0?1:Math.abs(2*t[4]/t[2]),s=[e==="left"?-o:e==="right"?o:0,e==="top"?-i:e==="bottom"?i:0],s=es(s,t,n);return Math.abs(s[0])>Math.abs(s[1])?s[0]>0?"right":"left":s[1]>0?"bottom":"top"}function h0(e){return!e.isGroup}function rv(e){return e.shape!=null}function av(e,t,s){if(!e||!t)return;function i(e){var t={};return e.traverse(function(e){h0(e)&&e.anid&&(t[e.anid]=e)}),t}function o(e){var t={x:e.x,y:e.y,rotation:e.rotation};return rv(e)&&(t.shape=n({},e.shape)),t}var a=i(e);t.traverse(function(e){if(h0(e)&&e.anid){var n,t=a[e.anid];t&&(n=o(e),e.attr(o(t)),Rn(e,n,s,y(e).dataIndex))}})}function r0(e,t){return r(e,function(e){var n=e[0],n=Si(n,t.x),n=Ai(n,t.x+t.width),s=e[1],s=Si(s,t.y),s=Ai(s,t.y+t.height);return[n,s]})}function a0(e,t){var n=Si(e.x,t.x),o=Ai(e.x+e.width,t.x+t.width),s=Si(e.y,t.y),i=Ai(e.y+e.height,t.y+t.height);if(o>=n&&i>=s)return{x:n,y:s,width:o-n,height:i-s}}function y1(e,t,s){var o=n({rectHover:!0},t),i=o.style={strokeNoScale:!0};if(s=s||{x:-1,y:-1,width:2,height:2},e)return e.indexOf("image://")===0?(i.image=e.slice(8),x(i,s),new Pe(o)):ea(e.replace("path://",""),o,s,"center")}function iv(e,t,n,s,o){for(var i,a=0,r=o[o.length-1];a<o.length;a++){if(i=o[a],o0(e,t,n,s,i[0],i[1],r[0],r[1]))return!0;r=i}}function o0(e,t,n,s,o,i,a,r){var l,d,u,h,m=n-e,f=s-t,p=a-o,g=r-i,c=O1(p,g,m,f);return!ov(c)&&(l=e-o,d=t-i,u=O1(l,d,m,f)/c,!(u<0||u>1)&&(h=O1(l,d,p,g)/c,!(h<0||h>1)))}function O1(e,t,n,s){return e*s-n*t}function ov(e){return e<=1e-6&&e>=-1e-6}function J4(e){var s,o,a=e.itemTooltipOption,l=e.componentModel,r=e.itemName,u=i(a)?{formatter:a}:a,c=l.mainType,d=l.componentIndex,n={componentType:c,name:r,$vars:["name"]};n[c+"Index"]=d,s=e.formatterParamsExtra,s&&t(k(s),function(e){st(n,e)||(n[e]=s[e],n.$vars.push(e))}),o=y(e.el),o.componentMainType=c,o.componentIndex=d,o.tooltipConfig={name:r,option:x({content:r,formatterParams:n},u)}}function Z4(e,t){var n;e.isGroup&&(n=t(e)),n||e.traverse(t)}function k1(e,t){if(e)if(s(e))for(var n=0;n<e.length;n++)Z4(e[n],t);else Z4(e,t)}Ne("circle",ms),Ne("ellipse",Go),Ne("sector",Ci),Ne("ring",Ei),Ne("polygon",Qn),Ne("polyline",Ln),Ne("rect",T),Ne("line",Lt),Ne("bezierCurve",Mi),Ne("arc",Wn),$4=Object.freeze({__proto__:null,Arc:Wn,BezierCurve:Mi,BoundingRect:b,Circle:ms,CompoundPath:Fu,Ellipse:Go,Group:Z,Image:Pe,IncrementalDisplayable:Bu,Line:Lt,LinearGradient:Bi,OrientedBoundingRect:Ni,Path:O,Point:h,Polygon:Qn,Polyline:Ln,RadialGradient:Du,Rect:T,Ring:Ei,Sector:Ci,Text:A,applyTransform:es,clipPointsByRect:r0,clipRectByRect:a0,createIcon:y1,extendPath:A0,extendShape:N0,getShapeClass:k0,getTransform:yi,groupTransition:av,initProps:Ti,isElementRemoved:Xn,lineLineIntersect:o0,linePolygonIntersect:iv,makeImage:i1,makePath:ea,mergePath:r1,registerShape:Ne,removeElement:B0,removeElementWithFadeOut:vv,resizePath:c1,setTooltipConfig:J4,subPixelOptimize:y0,subPixelOptimizeLine:dv,subPixelOptimizeRect:lv,transformDirection:v0,traverseElements:k1,updateProps:Rn}),vi={};function P4(e,t){for(var n,o,i,a,s=0;s<et.length;s++)o=et[s],i=t[o],n=e.ensureState(o),n.style=n.style||{},n.style.text=i;a=e.currentStates.slice(),e.clearStates(!0),e.setStyle({text:t.normal}),e.useStates(a,!0)}function F1(e,t,n){var s,i,a,c,l,o=e.labelFetcher,r=e.labelDataIndex,u=e.labelDimIndex,h=t.normal;o&&(s=o.getFormattedLabel(r,"normal",null,u,h&&h.get("formatter"),n!=null?{interpolatedValue:n}:null)),s==null&&(s=d(e.defaultText)?e.defaultText(r,e,n):e.defaultText);for(c={normal:s},i=0;i<et.length;i++)a=et[i],l=t[a],c[a]=v(o?o.getFormattedLabel(r,a,null,u,l&&l.get("formatter")):null,s);return c}function sv(e,t,n,s){n=n||vi;for(var o,i,r,l,d,u,h,m,f,g,c=e instanceof A,p=!1,a=0;a<mo.length;a++)if(i=t[mo[a]],i&&i.getShallow("show")){p=!0;break}if(o=c?e:e.getTextContent(),p){c||(o||(o=new A,e.setTextContent(o)),e.stateProxy&&(o.stateProxy=e.stateProxy)),m=F1(n,t),l=t.normal,u=!!l.getShallow("show"),d=Ve(l,s&&s.normal,n,!1,!c),d.text=m.normal,c||e.setTextConfig(A4(l,n,!1));for(a=0;a<et.length;a++)r=et[a],i=t[r],i&&(h=o.ensureState(r),f=!!v(i.getShallow("show"),u),f!==u&&(h.ignore=!f),h.style=Ve(i,s&&s[r],n,!0,!c),h.style.text=m[r],c||(g=e.ensureState(r),g.textConfig=A4(i,n,!0)));o.silent=!!l.getShallow("silent"),o.style.x!=null&&(d.x=o.style.x),o.style.y!=null&&(d.y=o.style.y),o.ignore=!u,o.useStyle(d),o.dirty(),n.enableTextSetter&&(aa(o).setLabelText=function(e){var s=F1(n,t,e);P4(o,s)})}else o&&(o.ignore=!0);e.dirty()}function z4(e,t){t=t||"label";for(var s,o={normal:e.getModel(t)},n=0;n<et.length;n++)s=et[n],o[s]=e.getModel([s,t]);return o}function Ve(e,t,s,o,i){var a={};return nv(a,e,s,o,i),t&&n(a,t),a}function A4(e,t,n){t=t||{};var s={},i=e.getShallow("rotate"),a=v(e.getShallow("distance"),n?null:5),r=e.getShallow("offset"),o=e.getShallow("position")||(n?null:"inside");return o==="outside"&&(o=t.defaultOutsidePosition||"top"),o!=null&&(s.position=o),r!=null&&(s.offset=r),i!=null&&(i*=Math.PI/180,s.rotation=i),a!=null&&(s.distance=a),s.outsideFill=e.get("color")==="inherit"?t.inheritColor||null:"auto",s}function nv(e,t,n,s,o){n=n||vi;var i,r,c,l,h,d=t.ecModel,u=d&&d.option.textStyle,a=ev(t);if(a){i={};for(r in a)a.hasOwnProperty(r)&&(h=t.getModel(["rich",r]),C4(i[r]={},h,u,n,s,o,!1,!0))}i&&(e.rich=i),c=t.get("overflow"),c&&(e.overflow=c),l=t.get("minMargin"),l!=null&&(e.margin=l),C4(e,t,u,n,s,o,!0,!1)}function ev(e){for(;e&&e!==e.ecModel;){var t,n,s,i,o=(e.option||vi).rich;if(o){t=t||{};for(s=k(o),n=0;n<s.length;n++)i=s[n],t[i]=1}e=e.parentModel}return t}P1=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],H1=["align","lineHeight","width","height","tag","verticalAlign"],I1=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function C4(e,t,n,s,o,i,a,r){n=!o&&n||vi;var c,l,h,p,g,b,j,y,m=s&&s.inheritColor,d=t.getShallow("color"),u=t.getShallow("textBorderColor"),f=v(t.getShallow("opacity"),n.opacity);(d==="inherit"||d==="auto")&&(d==="auto"&&z("color: 'auto'","color: 'inherit'"),m?d=m:d=null),(u==="inherit"||u==="auto")&&(u==="auto"&&z("color: 'auto'","color: 'inherit'"),m?u=m:u=null),i||(d=d||n.color,u=u||n.textBorderColor),d!=null&&(e.fill=d),u!=null&&(e.stroke=u),p=v(t.getShallow("textBorderWidth"),n.textBorderWidth),p!=null&&(e.lineWidth=p),g=v(t.getShallow("textBorderType"),n.textBorderType),g!=null&&(e.lineDash=g),b=v(t.getShallow("textBorderDashOffset"),n.textBorderDashOffset),b!=null&&(e.lineDashOffset=b),!o&&f==null&&!r&&(f=s&&s.defaultOpacity),f!=null&&(e.opacity=f),!o&&!i&&e.fill==null&&s.inheritColor&&(e.fill=s.inheritColor);for(c=0;c<P1.length;c++)l=P1[c],h=v(t.getShallow(l),n[l]),h!=null&&(e[l]=h);for(c=0;c<H1.length;c++)l=H1[c],h=t.getShallow(l),h!=null&&(e[l]=h);if(e.verticalAlign==null&&(j=t.getShallow("baseline"),j!=null&&(e.verticalAlign=j)),!a||!s.disableBox){for(c=0;c<I1.length;c++)l=I1[c],h=t.getShallow(l),h!=null&&(e[l]=h);y=t.getShallow("borderType"),y!=null&&(e.borderDash=y),(e.backgroundColor==="auto"||e.backgroundColor==="inherit")&&m&&(e.backgroundColor==="auto"&&z("backgroundColor: 'auto'","backgroundColor: 'inherit'"),e.backgroundColor=m),(e.borderColor==="auto"||e.borderColor==="inherit")&&m&&(e.borderColor==="auto"&&z("borderColor: 'auto'","borderColor: 'inherit'"),e.borderColor=m)}}function J7(e,t){var n=t&&t.getModel("textStyle");return Xe([e.fontStyle||n&&n.getShallow("fontStyle")||"",e.fontWeight||n&&n.getShallow("fontWeight")||"",(e.fontSize||n&&n.getShallow("fontSize")||12)+"px",e.fontFamily||n&&n.getShallow("fontFamily")||"sans-serif"].join(" "))}aa=S();function Z7(e,t,n,s,o){var a,r,c,i=aa(e);if(!i.valueAnimation||i.prevValue===i.value)return;a=i.defaultInterpolatedText,r=v(i.interpolatedValue,i.prevValue),c=i.value;function l(s){var d,l=ib(n,i.precision,r,c,s);i.interpolatedValue=s===1?null:l,d=F1({labelDataIndex:t,labelFetcher:o,defaultText:a?a(l):l+""},i.statesModels,l),P4(e,d)}e.percent=0,(i.prevValue==null?Ti:Rn)(e,{percent:1},s,t,null,l)}v4=["textStyle","color"],ca=["fontStyle","fontWeight","fontSize","fontFamily","padding","lineHeight","rich","width","height","overflow"],la=new A,p4=function(){function e(){}return e.prototype.getTextColor=function(e){var t=this.ecModel;return this.getShallow("color")||(!e&&t?t.get(v4):null)},e.prototype.getFont=function(){return J7({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},e.prototype.getTextRect=function(e){for(var n={text:e,verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline")},t=0;t<ca.length;t++)n[ca[t]]=this.getShallow(ca[t]);return la.useStyle(n),la.update(),la.getBoundingRect()},e}(),G1=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],f4=co(G1),u4=function(){function e(){}return e.prototype.getLineStyle=function(e){return f4(this,e)},e}(),Z1=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],o4=co(Z1),Wh=function(){function e(){}return e.prototype.getItemStyle=function(e,t){return o4(this,e,t)},e}(),C=function(){function e(e,t,n){this.parentModel=t,this.ecModel=n,this.option=e}return e.prototype.init=function(){},e.prototype.mergeOption=function(e){w(this.option,e,!0)},e.prototype.get=function(e,t){return e==null?this.option:this._doGet(this.parsePath(e),!t&&this.parentModel)},e.prototype.getShallow=function(e,t){var o,n=this.option,s=n==null?n:n[e];return s==null&&!t&&(o=this.parentModel,o&&(s=o.getShallow(e))),s},e.prototype.getModel=function(t,n){var s=t!=null,o=s?this.parsePath(t):null,i=s?this._doGet(o):this.option;return n=n||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(o)),new e(i,n,this.ecModel)},e.prototype.isEmpty=function(){return this.option==null},e.prototype.restoreData=function(){},e.prototype.clone=function(){var e=this.constructor;return new e(c(this.option))},e.prototype.parsePath=function(e){return typeof e=="string"?e.split("."):e},e.prototype.resolveParentPath=function(e){return e},e.prototype.isAnimationEnabled=function(){if(!l.node&&this.option){if(this.option.animation!=null)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},e.prototype._doGet=function(e,t){var s,n=this.option;if(!e)return n;for(s=0;s<e.length;s++){if(!e[s])continue;if(n=n&&typeof n=="object"?n[e[s]]:null,n==null)break}return n==null&&t&&(n=t._doGet(this.resolveParentPath(e),t.parentModel)),n},e}(),$l(C),Z9(C),Ye(C,u4),Ye(C,Wh),Ye(C,Q8),Ye(C,p4),n4=Math.round(Math.random()*10);function ua(e){return[e||"",n4++].join("_")}function G7(e){var t={};e.registerSubTypeDefaulter=function(e,n){var s=rt(e);t[s.main]=n},e.determineSubType=function(n,s){var i,o=s.type;return o||(i=rt(n).main,e.hasSubTypes(n)&&t[i]&&(o=t[i](s))),o}}function Y7(e,n){e.topologicalTravel=function(e,n,s,i){if(!e.length)return;var r,d,u,h=o(n),c=h.graph,l=h.noEntryList,a={};for(t(e,function(e){a[e]=!0});l.length;)r=l.pop(),d=c[r],u=!!a[r],u&&(s.call(i,r,d.originalDeps.slice()),delete a[r]),t(d.successor,u?f:m);t(a,function(){var t="";throw t=ne("Circular dependency may exists: ",a,e,n),new Error(t)});function m(e){c[e].entryCount--,c[e].entryCount===0&&l.push(e)}function f(e){a[e]=!0,m(e)}};function o(e){var o={},a=[];return t(e,function(r){var c=s(o,r),d=c.originalDeps=n(r),l=i(d,e);c.entryCount=l.length,c.entryCount===0&&a.push(r),t(l,function(e){_(c.predecessor,e)<0&&c.predecessor.push(e);var t=s(o,e);_(t.successor,e)<0&&t.successor.push(r)})}),{graph:o,noEntryList:a}}function s(e,t){return e[t]||(e[t]={predecessor:[],successor:[]}),e[t]}function i(e,n){var s=[];return t(e,function(e){_(n,e)>=0&&s.push(e)}),s}}function a4(e,t){return w(w({},e,!0),t,!0)}r4={time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}},c4={time:{month:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],monthAbbr:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],dayOfWeek:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],dayOfWeekAbbr:["日","一","二","三","四","五","六"]},legend:{selector:{all:"全选",inverse:"反选"}},toolbox:{brush:{title:{rect:"矩形选择",polygon:"圈选",lineX:"横向选择",lineY:"纵向选择",keep:"保持选择",clear:"清除选择"}},dataView:{title:"数据视图",lang:["数据视图","关闭","刷新"]},dataZoom:{title:{zoom:"区域缩放",back:"区域缩放还原"}},magicType:{title:{line:"切换为折线图",bar:"切换为柱状图",stack:"切换为堆叠",tiled:"切换为平铺"}},restore:{title:"还原"},saveAsImage:{title:"保存为图片",lang:["右键另存为图片"]}},series:{typeNames:{pie:"饼图",bar:"柱状图",line:"折线图",scatter:"散点图",effectScatter:"涟漪散点图",radar:"雷达图",tree:"树图",treemap:"矩形树图",boxplot:"箱型图",candlestick:"K线图",k:"K线图",heatmap:"热力图",map:"地图",parallel:"平行坐标图",lines:"线图",graph:"关系图",sankey:"桑基图",funnel:"漏斗图",gauge:"仪表盘图",pictorialBar:"象形柱图",themeRiver:"主题河流图",sunburst:"旭日图"}},aria:{general:{withTitle:"这是一个关于“{title}”的图表。",withoutTitle:"这是一个图表，"},series:{single:{prefix:"",withName:"图表类型是{seriesType}，表示{seriesName}。",withoutName:"图表类型是{seriesType}。"},multiple:{prefix:"它由{seriesCount}个图表系列组成。",withName:"第{seriesId}个系列是一个表示{seriesName}的{seriesType}，",withoutName:"第{seriesId}个系列是一个{seriesType}，",separator:{middle:"；",end:"。"}}},data:{allData:"其数据是——",partialData:"其中，前{displayCnt}项是——",withName:"{name}的数据是{value}",withoutName:"{value}",separator:{middle:"，",end:""}}}},di="ZH",ma="EN",ds=ma,oi={},fa={},X1=l.domSupported?function(){var e=(document.documentElement.lang||navigator.language||navigator.browserLanguage).toUpperCase();return e.indexOf(di)>-1?di:ds}():ds;function Y1(e,t){e=e.toUpperCase(),fa[e]=new C(t),oi[e]=t}function q7(e){if(i(e)){var t=oi[e.toUpperCase()]||{};return e===di||e===ma?c(t):w(c(t),c(oi[ds]),!1)}else return w(c(e),c(oi[ds]),!1)}function U1(e){return fa[e]}function K7(){return fa[ds]}Y1(ma,r4),Y1(di,c4),pa=1e3,ba=pa*60,us=ba*60,he=us*24,V1=he*365,fs={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{HH}:{mm}:{ss} {SSS}",none:"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}"},Uo="{yyyy}-{MM}-{dd}",R1={year:"{yyyy}",month:"{yyyy}-{MM}",day:Uo,hour:Uo+" "+fs.hour,minute:Uo+" "+fs.minute,second:Uo+" "+fs.second,millisecond:fs.none},Ea=["year","month","day","hour","minute","second","millisecond"],N1=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function Oe(e,t){return e+="","0000".substr(0,t-e.length)+e}function _s(e){switch(e){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return e}}function U7(e){return e===_s(e)}function W7(e){switch(e){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}function Ao(e,t,n,s){var o=le(e),f=o[T1(n)](),i=o[Rs(n)]()+1,p=Math.floor((i-1)/4)+1,l=o[Da(n)](),r=o["get"+(n?"UTC":"")+"Day"](),c=o[bo(n)](),d=(c-1)%12+1,u=o[Na(n)](),h=o[La(n)](),m=o[Ba(n)](),g=s instanceof C?s:U1(s||X1)||K7(),a=g.getModel("time"),v=a.get("month"),b=a.get("monthAbbr"),j=a.get("dayOfWeek"),y=a.get("dayOfWeekAbbr");return(t||"").replace(/{yyyy}/g,f+"").replace(/{yy}/g,f%100+"").replace(/{Q}/g,p+"").replace(/{MMMM}/g,v[i-1]).replace(/{MMM}/g,b[i-1]).replace(/{MM}/g,Oe(i,2)).replace(/{M}/g,i+"").replace(/{dd}/g,Oe(l,2)).replace(/{d}/g,l+"").replace(/{eeee}/g,j[r]).replace(/{ee}/g,y[r]).replace(/{e}/g,r+"").replace(/{HH}/g,Oe(c,2)).replace(/{H}/g,c+"").replace(/{hh}/g,Oe(d+"",2)).replace(/{h}/g,d+"").replace(/{mm}/g,Oe(u,2)).replace(/{m}/g,u+"").replace(/{ss}/g,Oe(h,2)).replace(/{s}/g,h+"").replace(/{SSS}/g,Oe(m,3)).replace(/{S}/g,m+"")}function V7(e,t,o,a,r){var l,u,h,m,f,p,c=null;if(i(o))c=o;else if(d(o))c=o(e.value,t,{level:e.level});else{if(u=n({},fs),e.level>0)for(l=0;l<Ea.length;++l)u[Ea[l]]="{primary|"+u[Ea[l]]+"}";if(h=o?o.inherit===!1?o:x(o,u):u,m=N4(e.value,r),h[m])c=h[m];else if(h.inherit){for(p=N1.indexOf(m),l=p-1;l>=0;--l)if(h[m]){c=h[m];break}c=c||u.none}s(c)&&(f=e.level==null?0:e.level>=0?e.level:c.length+e.level,f=Math.min(f,c.length-1),c=c[f])}return Ao(new Date(e.value),c,r,a)}function N4(e,t){var n=le(e),m=n[Rs(t)]()+1,h=n[Da(t)](),c=n[bo(t)](),u=n[Na(t)](),d=n[La(t)](),l=n[Ba(t)](),s=l===0,r=s&&d===0,a=r&&u===0,i=a&&c===0,o=i&&h===1,f=o&&m===1;return f?"year":o?"month":i?"day":a?"hour":r?"minute":s?"second":"millisecond"}function L4(e,t,n){var s=E(e)?le(e):e;switch(t=t||N4(e,n),t){case"year":return s[T1(n)]();case"half-year":return s[Rs(n)]()>=6?1:0;case"quarter":return Math.floor((s[Rs(n)]()+1)/4);case"month":return s[Rs(n)]();case"day":return s[Da(n)]();case"half-day":return s[bo(n)]()/24;case"hour":return s[bo(n)]();case"minute":return s[Na(n)]();case"second":return s[La(n)]();case"millisecond":return s[Ba(n)]()}}function T1(e){return e?"getUTCFullYear":"getFullYear"}function Rs(e){return e?"getUTCMonth":"getMonth"}function Da(e){return e?"getUTCDate":"getDate"}function bo(e){return e?"getUTCHours":"getHours"}function Na(e){return e?"getUTCMinutes":"getMinutes"}function La(e){return e?"getUTCSeconds":"getSeconds"}function Ba(e){return e?"getUTCMilliseconds":"getMilliseconds"}function H7(e){return e?"setUTCFullYear":"setFullYear"}function U4(e){return e?"setUTCMonth":"setMonth"}function K4(e){return e?"setUTCDate":"setDate"}function q4(e){return e?"setUTCHours":"setHours"}function Y4(e){return e?"setUTCMinutes":"setMinutes"}function G4(e){return e?"setUTCSeconds":"setSeconds"}function X4(e){return e?"setUTCMilliseconds":"setMilliseconds"}function P7(e,t,n,s,o,i,a,r){var c=new A({style:{text:e,font:t,align:n,verticalAlign:s,padding:o,rich:i,overflow:a?"truncate":null,lineHeight:r}});return c.getBoundingRect()}function E1(e){if(!Mu(e))return i(e)?e:"-";var t=(e+"").split(".");return t[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(t.length>1?"."+t[1]:"")}function C1(e,t){return e=(e||"").toLowerCase().replace(/-(.)/g,function(e,t){return t.toUpperCase()}),t&&e&&(e=e.charAt(0).toUpperCase()+e.slice(1)),e}Vs=$c,t0=/([&<>"'])/g,n0={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function ce(e){return e==null?"":(e+"").replace(t0,function(e,t){return n0[t]})}function w1(e,t,n){var s,o,i,a,l="{yyyy}-{MM}-{dd} {hh}:{mm}:{ss}";function r(e){return e&&Xe(e)?e:"-"}function c(e){return!!(e!=null&&!isNaN(e)&&isFinite(e))}if(s=t==="time",o=e instanceof Date,s||o){if(i=s?le(e):e,!isNaN(+i))return Ao(i,l,n);if(o)return"-"}return t==="ordinal"?zo(e)?r(e):E(e)?c(e)?e+"":"-":"-":(a=pt(e),c(a)?E1(a):zo(e)?r(e):typeof e=="boolean"?e+"":"-")}_1=["a","b","c","d","e","f","g"],Ka=function(e,t){return"{"+e+(t??"")+"}"};function b1(e,t,n){s(t)||(t=[t]);var o,i,a,r,c,l,d=t.length;if(!d)return"";for(a=t[0].$vars||[],r=0;r<a.length;r++)c=_1[r],e=e.replace(Ka(c),Ka(c,0));for(o=0;o<d;o++)for(i=0;i<a.length;i++)l=t[o][a[i]],e=e.replace(Ka(_1[i],o),n?ce(l):l);return e}function R7(e,n,s){return t(n,function(t,n){e=e.replace("{"+n+"}",s?ce(t):t)}),e}function l0(e,t){var o,r,n=i(e)?{color:e,extraCssText:t}:e||{},s=n.color,a=n.type;return t=n.extraCssText,o=n.renderMode||"html",s?o==="html"?a==="subItem"?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+ce(s)+";"+(t||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+ce(s)+";"+(t||"")+'"></span>':(r=n.markerId||"markerX",{renderMode:o,content:"{"+r+"|}  ",style:a==="subItem"?{width:4,height:4,borderRadius:2,backgroundColor:s}:{width:10,height:10,borderRadius:5,backgroundColor:s}}):""}function L7(e,t,n){z("echarts.format.formatTime","echarts.time.format"),(e==="week"||e==="month"||e==="quarter"||e==="half-year"||e==="year")&&(e=`MM-dd
yyyy`);var s=le(t),o=n?"getUTC":"get",i=s[o+"FullYear"](),a=s[o+"Month"]()+1,r=s[o+"Date"](),c=s[o+"Hours"](),l=s[o+"Minutes"](),d=s[o+"Seconds"](),u=s[o+"Milliseconds"]();return e=e.replace("MM",Oe(a,2)).replace("M",a).replace("yyyy",i).replace("yy",i%100+"").replace("dd",Oe(r,2)).replace("d",r).replace("hh",Oe(c,2)).replace("h",c).replace("mm",Oe(l,2)).replace("m",l).replace("ss",Oe(d,2)).replace("s",d).replace("SSS",Oe(u,3)),e}function N7(e){return e&&e.charAt(0).toUpperCase()+e.substr(1)}function Xs(e,t){return t=t||"transparent",i(e)?e:a(e)?e.colorStops&&(e.colorStops[0]||{}).color||t:t}function m0(e,t){if(t==="_blank"||t==="blank"){var n=window.open();n.opener=null,n.location.href=e}else window.open(e,t)}Zs=t,p0=["left","right","top","bottom","width","height"],Qt=[["width","left","right"],["height","top","bottom"]];function f1(e,t,n,s,o){var i,a=0,r=0;s==null&&(s=1/0),o==null&&(o=1/0),i=0,t.eachChild(function(c,l){var h,m,f,p,d=c.getBoundingRect(),g=t.childAt(l+1),u=g&&g.getBoundingRect();if(e==="horizontal"?(f=d.width+(u?-u.x+d.x:0),h=a+f,h>s||c.newline?(a=0,h=f,r+=i+n,i=d.height):i=Math.max(i,d.height)):(p=d.height+(u?-u.y+d.y:0),m=r+p,m>o||c.newline?(a+=i+n,r=0,m=p,i=d.width):i=Math.max(i,d.width)),c.newline)return;c.x=a,c.y=r,c.markRedraw(),e==="horizontal"?a=h+n:r=m+n})}b0=f1,se(f1,"vertical"),se(f1,"horizontal");function Us(e,t,n){n=Vs(n||0);var f,i=t.width,a=t.height,r=L(e.left,i),c=L(e.top,a),h=L(e.right,i),m=L(e.bottom,a),s=L(e.width,i),o=L(e.height,a),l=n[2]+n[0],d=n[1]+n[3],u=e.aspect;switch(isNaN(s)&&(s=i-h-d-r),isNaN(o)&&(o=a-m-l-c),u!=null&&(isNaN(s)&&isNaN(o)&&(u>i/a?s=i*.8:o=a*.8),isNaN(s)&&(s=u*o),isNaN(o)&&(o=s/u)),isNaN(r)&&(r=i-h-s-d),isNaN(c)&&(c=a-m-o-l),e.left||e.right){case"center":r=i/2-s/2-n[3];break;case"right":r=i-s-d;break}switch(e.top||e.bottom){case"middle":case"center":c=a/2-o/2-n[0];break;case"bottom":c=a-o-l;break}return r=r||0,c=c||0,isNaN(s)&&(s=i-d-r-(h||0)),isNaN(o)&&(o=a-l-c-(m||0)),f=new b(r+n[3],c+n[0],s,o),f.margin=n,f}function Pp(e,t,n,s,o,i){var a,r,c,l,m,d=!o||!o.hv||o.hv[0],u=!o||!o.hv||o.hv[1],h=o&&o.boundingMode||"all";return i=i||e,i.x=e.x,i.y=e.y,!(!d&&!u)&&(h==="raw"?a=e.type==="group"?new b(0,0,+t.width||0,+t.height||0):e.getBoundingRect():(a=e.getBoundingRect(),e.needLocalTransform()&&(m=e.getLocalTransform(),a=a.clone(),a.applyTransform(m))),r=Us(x({width:a.width,height:a.height},t),n,s),c=d?r.x-a.x:0,l=u?r.y-a.y:0,h==="raw"?(i.x=c,i.y=l):(i.x+=c,i.y+=l),i===e&&e.markRedraw(),!0)}function D7(e,t){return e[Qt[t][0]]!=null||e[Qt[t][1]]!=null&&e[Qt[t][2]]!=null}function Qa(e){var t=e.layoutMode||e.constructor.layoutMode;return a(t)?t:t?{type:t}:null}function no(e,t,n){var r,c,o=n&&n.ignoreSize;!s(o)&&(o=[o,o]),r=l(Qt[0],0),c=l(Qt[1],1),d(Qt[0],e,r),d(Qt[1],e,c);function l(n,s){var l,d,c={},u=0,r={},h=0,m=2;if(Zs(n,function(t){r[t]=e[t]}),Zs(n,function(e){a(t,e)&&(c[e]=r[e]=t[e]),i(c,e)&&u++,i(r,e)&&h++}),o[s])return i(t,n[1])?r[n[2]]=null:i(t,n[2])&&(r[n[1]]=null),r;if(h===m||!u)return r;if(u>=m)return c;for(d=0;d<n.length;d++)if(l=n[d],!a(c,l)&&a(e,l)){c[l]=e[l];break}return c}function a(e,t){return e.hasOwnProperty(t)}function i(e,t){return e[t]!=null&&e[t]!=="auto"}function d(e,t,n){Zs(e,function(e){t[e]=n[e]})}}function a1(e){return z7({},e)}function z7(e,t){return t&&e&&Zs(p0,function(n){t.hasOwnProperty(n)&&(e[n]=t[n])}),e}E0=S(),p=function(e){o(t,e);function t(t,n,s){var o=e.call(this,t,n,s)||this;return o.uid=ua("ec_cpt_model"),o}return t.prototype.init=function(e,t,n){this.mergeDefaultAndTheme(e,n)},t.prototype.mergeDefaultAndTheme=function(e,t){var n=Qa(this),s=n?a1(e):{},o=t.getTheme();w(e,o.get(this.mainType)),w(e,this.getDefaultOption()),n&&no(e,s,n)},t.prototype.mergeOption=function(e){w(this.option,e,!0);var n=Qa(this);n&&no(this.option,e,n)},t.prototype.optionUpdated=function(){},t.prototype.getDefaultOption=function(){var e,t,n,s,o,a,i=this.constructor;if(!eb(i))return i.defaultOption;if(t=E0(this),!t.defaultOption){for(n=[],e=i;e;)a=e.prototype.defaultOption,a&&n.push(a),e=e.superClass;for(s={},o=n.length-1;o>=0;o--)s=w(s,n[o],!0);t.defaultOption=s}return t.defaultOption},t.prototype.getReferringComponents=function(e,t){var n=e+"Index",s=e+"Id";return vo(this.ecModel,e,{index:this.get(n,!0),id:this.get(s,!0)},t)},t.prototype.getBoxLayoutParams=function(){var e=this;return{left:e.get("left"),top:e.get("top"),right:e.get("right"),bottom:e.get("bottom"),width:e.get("width"),height:e.get("height")}},t.prototype.getZLevelKey=function(){return""},t.prototype.setZLevel=function(e){this.option.zlevel=e},t.protoInitialize=function(){var e=t.prototype;e.type="component",e.id="",e.name="",e.mainType="",e.subType="",e.componentIndex=0}(),t}(C),F8(p,C),Ja(p),G7(p),Y7(p,T7);function T7(e){var n=[];return t(p.getClassesByMainType(e),function(e){n=n.concat(e.dependencies||e.prototype.dependencies||[])}),n=r(n,function(e){return rt(e).main}),e!=="dataset"&&_(n,"dataset")<=0&&n.unshift("dataset"),n}e1="",typeof navigator!="undefined"&&(e1=navigator.platform||""),kn="rgba(0, 0, 0, 0.2)",F0={darkMode:"auto",colorBy:"series",color:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],gradientColor:["#f6efa6","#d88273","#bf444c"],aria:{decal:{decals:[{color:kn,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:kn,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:kn,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:kn,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:kn,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:kn,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:e1.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1},sr=m(["tooltip","label","itemName","itemId","itemGroupId","seriesName"]),be="original",q="arrayRows",xe="objectRows",at="keyedColumns",it="typedArray",Yu="unknown",Ue="column",jn="row",oe={Must:1,Might:2,Not:3},Ku=S();function F7(e){Ku(e).datasetMap=m()}function M7(e,n,s){var r,c,l,d,u,h,f,p,o={},m=U0(n);if(!m||!e)return o;l=[],r=[],f=n.ecModel,u=Ku(f).datasetMap,h=m.uid+"_"+s.seriesLayoutBy,e=e.slice(),t(e,function(t,n){var s=a(t)?t:e[n]={name:t};s.type==="ordinal"&&d==null&&(d=n,p=g(s)),o[s.name]=[]}),c=u.get(h)||u.set(h,{categoryWayDim:p,valueWayDim:0}),t(e,function(e,t){var s,a=e.name,n=g(e);d==null?(s=c.valueWayDim,i(o[a],s,n),i(r,s,n),c.valueWayDim+=n):d===t?(i(o[a],0,n),i(l,0,n)):(s=c.categoryWayDim,i(o[a],s,n),i(r,s,n),c.categoryWayDim+=n)});function i(e,t,n){for(var s=0;s<n;s++)e.push(t+s)}function g(e){var t=e.dimsDef;return t?t.length:1}return l.length&&(o.itemName=l),r.length&&(o.seriesName=r),o}function U0(e){var t=e.get("data",!0);if(!t)return vo(e.ecModel,"dataset",{index:e.get("datasetIndex",!0),id:e.get("datasetId",!0)},rn).models[0]}function S7(e){return!e.get("transform",!0)&&!e.get("fromTransformResult",!0)?[]:vo(e.ecModel,"dataset",{index:e.get("fromDatasetIndex",!0),id:e.get("fromDatasetId",!0)},rn).models}function q0(e,t){return A7(e.data,e.sourceFormat,e.seriesLayoutBy,e.dimensionsDefine,e.startIndex,t)}function A7(e,t,n,o,r,c){var l,d,u,h,m,f,v,b,j,y,_,w,O,p=5;if(X(e))return oe.Not;if(o&&(m=o[c],a(m)?(h=m.name,b=m.type):i(m)&&(h=m)),b!=null)return b==="ordinal"?oe.Must:oe.Not;if(t===q){if(v=e,n===jn){for(u=v[c],l=0;l<(u||[]).length&&l<p;l++)if((d=g(u[r+l]))!=null)return d}else for(l=0;l<v.length&&l<p;l++)if(w=v[r+l],w&&(d=g(w[c]))!=null)return d}else if(t===xe){{if(j=e,!h)return oe.Not;for(l=0;l<j.length&&l<p;l++)if(f=j[l],f&&(d=g(f[h]))!=null)return d}}else if(t===at){{if(O=e,!h)return oe.Not;if(u=O[h],!u||X(u))return oe.Not;for(l=0;l<u.length&&l<p;l++)if((d=g(u[l]))!=null)return d}}else if(t===be)for(y=e,l=0;l<y.length&&l<p;l++){if(f=y[l],_=hi(f),!s(_))return oe.Not;if((d=g(_[c]))!=null)return d}function g(e){var t=i(e);if(e!=null&&isFinite(e)&&e!=="")return t?oe.Might:oe.Not;if(t&&e!=="-")return oe.Must}return oe.Not}G0=m();function k7(e,t,n){var s,o,i=G0.get(t);if(!i)return n;if(s=i(e),!s)return n;for(o=0;o<s.length;o++)u(gs(s[o]));return n.concat(s)}Iu=S(),S(),Wr=function(){function e(){}return e.prototype.getColorFromPalette=function(e,t,n){var s=N(this.get("color",!0)),o=this.get("colorLayer",!0);return C7(this,Iu,s,o,e,t,n)},e.prototype.clearColorPalette=function(){w7(this,Iu)},e}();function E7(e,t){for(var s=e.length,n=0;n<s;n++)if(e[n].length>t)return e[n];return e[s-1]}function C7(e,t,n,s,o,i,a){i=i||e;var r,d,c=t(i),u=c.paletteIdx||0,l=c.paletteNameMap=c.paletteNameMap||{};if(l.hasOwnProperty(o))return l[o];if(r=a==null||!s?n:E7(s,a),r=r||n,!r||!r.length)return;return d=r[u],o&&(l[o]=d),c.paletteIdx=(u+1)%r.length,d}function w7(e,t){t(e).paletteIdx=0,t(e).paletteNameMap={}}Xr="\0_ec_inner",Pu=1,r2={grid:"GridComponent",polar:"PolarComponent",geo:"GeoComponent",singleAxis:"SingleAxisComponent",parallel:"ParallelComponent",calendar:"CalendarComponent",graphic:"GraphicComponent",toolbox:"ToolboxComponent",tooltip:"TooltipComponent",axisPointer:"AxisPointerComponent",brush:"BrushComponent",title:"TitleComponent",timeline:"TimelineComponent",markPoint:"MarkPointComponent",markLine:"MarkLineComponent",markArea:"MarkAreaComponent",legend:"LegendComponent",dataZoom:"DataZoomComponent",visualMap:"VisualMapComponent",xAxis:"GridComponent",yAxis:"GridComponent",angleAxis:"PolarComponent",radiusAxis:"PolarComponent"},c2={line:"LineChart",bar:"BarChart",pie:"PieChart",scatter:"ScatterChart",radar:"RadarChart",map:"MapChart",tree:"TreeChart",treemap:"TreemapChart",graph:"GraphChart",gauge:"GaugeChart",funnel:"FunnelChart",parallel:"ParallelChart",sankey:"SankeyChart",boxplot:"BoxplotChart",candlestick:"CandlestickChart",effectScatter:"EffectScatterChart",lines:"LinesChart",heatmap:"HeatmapChart",pictorialBar:"PictorialBarChart",themeRiver:"ThemeRiverChart",sunburst:"SunburstChart",custom:"CustomChart"},ki={};function j7(e){t(e,function(e,t){if(!p.hasClass(t)){var n=r2[t];n&&!ki[n]&&(K("Component "+t+` is used but not imported.
import { `+n+` } from 'echarts/components';
echarts.use([`+n+"]);"),ki[n]=!0)}})}Jr=function(e){o(s,e);function s(){return e!==null&&e.apply(this,arguments)||this}return s.prototype.init=function(e,t,n,s,o,i){s=s||{},this.option=null,this._theme=new C(s),this._locale=new C(o),this._optionManager=i},s.prototype.setOption=function(e,t,n){u(e!=null,"option is null/undefined"),u(e[Xr]!==Pu,"please use chart.getOption()");var s=g2(t);this._optionManager.setOption(e,n,s),this._resetOption(null,s)},s.prototype.resetOption=function(e,t){return this._resetOption(e,g2(t))},s.prototype._resetOption=function(e,n){var o,a,r,s=!1,i=this._optionManager;return(!e||e==="recreate")&&(o=i.mountOption(e==="recreate"),j7(o),!this.option||e==="recreate"?o2(this,o):(this.restoreData(),this._mergeOption(o,n)),s=!0),(e==="timeline"||e==="media")&&this.restoreData(),(!e||e==="recreate"||e==="timeline")&&(a=i.getTimelineOption(this),a&&(s=!0,this._mergeOption(a,n))),(!e||e==="recreate"||e==="media")&&(r=i.getMediaOption(this),r.length&&t(r,function(e){s=!0,this._mergeOption(e,n)},this)),s},s.prototype.mergeOption=function(e){this._mergeOption(e,null)},s.prototype._mergeOption=function(e,s){var o=this.option,a=this._componentsMap,d=this._componentsCount,r=[],l=m(),i=s&&s.replaceMergeMainTypeMap;F7(this),t(e,function(e,t){if(e==null)return;p.hasClass(t)?t&&(r.push(t),l.set(t,!0)):o[t]=o[t]==null?c(e):w(o[t],e,!0)}),i&&i.each(function(e,t){p.hasClass(t)&&!l.get(t)&&(r.push(t),l.set(t,!0))}),p.topologicalTravel(r,p.getAllClassMainTypes(),u,this);function u(s){var r,c,l,m,f,g=k7(this,s,N(e[s])),u=a.get(s),v=u?i&&i.get(s)?"replaceMerge":"normalMerge":"replaceAll",h=_b(u,g,v);hb(h,s,p),o[s]=null,a.set(s,null),d.set(s,0),r=[],c=[],l=0,t(h,function(e,t){var i,d,u,h,g,o=e.existing,a=e.newOption;if(a){if(g=s==="series",d=p.getClass(s,e.keyInfo.subType,!g),!d){i=e.keyInfo.subType,u=c2[i],ki[i]||(ki[i]=!0,K(u?"Series "+i+` is used but not imported.
import { `+u+` } from 'echarts/charts';
echarts.use([`+u+"]);":"Unkown series "+i));return}if(s==="tooltip"){if(m){f||(uu("Currently only one tooltip component is allowed."),f=!0);return}m=!0}o&&o.constructor===d?(o.name=e.keyInfo.name,o.mergeOption(a,this),o.optionUpdated(a,!1)):(h=n({componentIndex:t},e.keyInfo),o=new d(a,this,this,h),n(o,h),e.brandNew&&(o.__requireNewView=!0),o.init(a,this,this),o.optionUpdated(null,!0))}else o&&(o.mergeOption({},this),o.optionUpdated({},!1));o?(r.push(o.option),c.push(o),l++):(r.push(void 0),c.push(void 0))},this),o[s]=r,a.set(s,c),d.set(s,l),s==="series"&&Gr(this)}this._seriesIndices||Gr(this)},s.prototype.getOption=function(){var e=c(this.option);return t(e,function(t,n){if(p.hasClass(n)){for(var s=N(t),i=s.length,a=!1,o=i-1;o>=0;o--)s[o]&&!gs(s[o])?a=!0:(s[o]=null,!a&&i--);s.length=i,e[n]=s}}),delete e[Xr],e},s.prototype.getTheme=function(){return this._theme},s.prototype.getLocaleModel=function(){return this._locale},s.prototype.setUpdatePayload=function(e){this._payload=e},s.prototype.getUpdatePayload=function(){return this._payload},s.prototype.getComponent=function(e,t){var s,o,n=this._componentsMap.get(e);if(n){if(o=n[t||0],o)return o;if(t==null)for(s=0;s<n.length;s++)if(n[s])return n[s]}},s.prototype.queryComponents=function(e){var n,s,o,i,a,r=e.mainType;return r?(o=e.index,i=e.id,a=e.name,n=this._componentsMap.get(r),!n||!n.length?[]:(o!=null?(s=[],t(N(o),function(e){n[e]&&s.push(n[e])})):i!=null?s=f2("id",i,n):a!=null?s=f2("name",a,n):s=F(n,function(e){return!!e}),p2(s,e))):[]},s.prototype.findComponents=function(e){var s=e.query,t=e.mainType,n=i(s),o=n?this.queryComponents(n):F(this._componentsMap.get(t),function(e){return!!e});return a(p2(o,e));function i(e){var n=t+"Index",s=t+"Id",o=t+"Name";return e&&(e[n]!=null||e[s]!=null||e[o]!=null)?{mainType:t,index:e[n],id:e[s],name:e[o]}:null}function a(t){return e.filter?F(t,e.filter):t}},s.prototype.eachComponent=function(e,t,n){var s,o,r,l,u,c=this._componentsMap;if(d(e))l=t,u=e,c.each(function(e,t){for(var n,s=0;e&&s<e.length;s++)n=e[s],n&&u.call(l,t,n,n.componentIndex)});else for(s=i(e)?c.get(e):a(e)?this.findComponents(e):null,o=0;s&&o<s.length;o++)r=s[o],r&&t.call(n,r,r.componentIndex)},s.prototype.getSeriesByName=function(e){var t=Be(e,null);return F(this._componentsMap.get("series"),function(e){return!!e&&t!=null&&e.name===t})},s.prototype.getSeriesByIndex=function(e){return this._componentsMap.get("series")[e]},s.prototype.getSeriesByType=function(e){return F(this._componentsMap.get("series"),function(t){return!!t&&t.subType===e})},s.prototype.getSeries=function(){return F(this._componentsMap.get("series"),function(e){return!!e})},s.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},s.prototype.eachSeries=function(e,n){ji(this),t(this._seriesIndices,function(t){var s=this._componentsMap.get("series")[t];e.call(n,s,t)},this)},s.prototype.eachRawSeries=function(e,n){t(this._componentsMap.get("series"),function(t){t&&e.call(n,t,t.componentIndex)})},s.prototype.eachSeriesByType=function(e,n,s){ji(this),t(this._seriesIndices,function(t){var o=this._componentsMap.get("series")[t];o.subType===e&&n.call(s,o,t)},this)},s.prototype.eachRawSeriesByType=function(e,n,s){return t(this.getSeriesByType(e),n,s)},s.prototype.isSeriesFiltered=function(e){return ji(this),this._seriesIndicesMap.get(e.componentIndex)==null},s.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},s.prototype.filterSeries=function(e,n){ji(this);var s=[];t(this._seriesIndices,function(t){var o=this._componentsMap.get("series")[t];e.call(n,o,t)&&s.push(t)},this),this._seriesIndices=s,this._seriesIndicesMap=m(s)},s.prototype.restoreData=function(e){Gr(this);var n=this._componentsMap,s=[];n.each(function(e,t){p.hasClass(t)&&s.push(t)}),p.topologicalTravel(s,p.getAllClassMainTypes(),function(s){t(n.get(s),function(t){t&&(s!=="series"||!b7(t,e))&&t.restoreData()})})},s.internalField=function(){Gr=function(e){var n=e._seriesIndices=[];t(e._componentsMap.get("series"),function(e){e&&n.push(e.componentIndex)}),e._seriesIndicesMap=m(n)},ji=function(e){if(!e._seriesIndices)throw new Error("Option should contains series.")},o2=function(e,t){e.option={},e.option[Xr]=Pu,e._componentsMap=m({series:[]}),e._componentsCount=m();var n=t.aria;a(n)&&n.enabled==null&&(n.enabled=!0),f7(t,e._theme.option),w(t,F0,!1),e._mergeOption(t,null)}}(),s}(C);function b7(e,t){if(t){var n=t.seriesIndex,s=t.seriesId,o=t.seriesName;return n!=null&&e.componentIndex!==n||s!=null&&e.id!==s||o!=null&&e.name!==o}}function f7(e,n){var s=e.color&&!e.colorLayer;t(n,function(t,n){if(n==="colorLayer"&&s)return;p.hasClass(n)||(typeof t=="object"?e[n]=e[n]?w(e[n],t,!1):c(t):e[n]==null&&(e[n]=t))})}function f2(e,n,o){if(s(n)){var i,a=m();return t(n,function(e){if(e!=null){var t=Be(e,null);t!=null&&a.set(e,!0)}}),F(o,function(t){return t&&a.get(t[e])})}return i=Be(n,null),F(o,function(t){return t&&i!=null&&t[e]===i})}function p2(e,t){return t.hasOwnProperty("subType")?F(e,function(e){return e&&e.subType===t.subType}):e}function g2(e){var n=m();return e&&t(N(e.replaceMerge),function(e){u(p.hasClass(e),'"'+e+'" is not valid component main type in "replaceMerge"'),n.set(e,!0)}),{replaceMergeMainTypeMap:n}}Ye(Jr,Wr),v2=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isSSR","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"],Su=function(){function e(e){t(v2,function(t){this[t]=f(e[t],e)},this)}return e}(),nc={},Un=function(){function e(){this._coordinateSystems=[]}return e.prototype.create=function(e,n){var s=[];t(nc,function(t){var i=t.create(e,n);s=s.concat(i||[])}),this._coordinateSystems=s},e.prototype.update=function(e,n){t(this._coordinateSystems,function(t){t.update&&t.update(e,n)})},e.prototype.getCoordinateSystems=function(){return this._coordinateSystems.slice()},e.register=function(e,t){nc[e]=t},e.get=function(e){return nc[e]},e}(),J1=/^(min|max)?(.+)$/,w2=function(){function e(e){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=e}return e.prototype.setOption=function(e,n){e&&(t(N(e.series),function(e){e&&e.data&&X(e.data)&&eo(e.data)}),t(N(e.dataset),function(e){e&&e.source&&X(e.source)&&eo(e.source)})),e=c(e);var i=this._optionBackup,o=h7(e,n,!i);this._newBaseOption=o.baseOption,i?(o.timelineOptions.length&&(i.timelineOptions=o.timelineOptions),o.mediaList.length&&(i.mediaList=o.mediaList),o.mediaDefault&&(i.mediaDefault=o.mediaDefault)):this._optionBackup=o},e.prototype.mountOption=function(e){var t=this._optionBackup;return this._timelineOptions=t.timelineOptions,this._mediaList=t.mediaList,this._mediaDefault=t.mediaDefault,this._currentMediaIndices=[],c(e?t.baseOption:this._newBaseOption)},e.prototype.getTimelineOption=function(e){var t,n,s=this._timelineOptions;return s.length&&(t=e.getComponent("timeline"),t&&(n=c(s[t.getCurrentIndex()]))),n},e.prototype.getMediaOption=function(){if(a=this._api.getWidth(),l=this._api.getHeight(),n=this._mediaList,s=this._mediaDefault,t=[],o=[],!n.length&&!s)return o;for(var t,n,s,o,a,l,i=0,d=n.length;i<d;i++)u7(n[i].query,a,l)&&t.push(i);return!t.length&&s&&(t=[-1]),t.length&&!l7(t,this._currentMediaIndices)&&(o=r(t,function(e){return c(e===-1?s.option:n[e].option)})),this._currentMediaIndices=t,o},e}();function h7(e,n,o){var i,l,c=[],r=e.baseOption,h=e.timeline,d=e.options,m=e.media,f=!!e.media,p=!!(d||h||r&&r.timeline);r?(i=r,i.timeline||(i.timeline=h)):((p||f)&&(e.options=e.media=null),i=e),f&&(s(m)?t(m,function(e){e&&!e.option&&a(e.query)&&a(e.query.option)&&K("Illegal media option. Must be like { media: [ { query: {}, option: {} } ] }"),e&&e.option&&(e.query?c.push(e):l||(l=e))}):K("Illegal media option. Must be an array. Like { media: [ {...}, {...} ] }")),u(i),t(d,function(e){return u(e)}),t(c,function(e){return u(e.option)});function u(e){t(n,function(t){t(e,o)})}return{baseOption:i,timelineOptions:d||[],mediaDefault:l,mediaList:c}}function u7(e,n,s){var i={width:n,height:s,aspectratio:n/s},o=!0;return t(e,function(e,t){var s,a,n=t.match(J1);if(!n||!n[1]||!n[2])return;s=n[1],a=n[2].toLowerCase(),d7(i[a],e,s)||(o=!1)}),o}function d7(e,t,n){return n==="min"?e>=t:n==="max"?e<=t:e===t}function l7(e,t){return e.join(",")===t.join(",")}ye=t,Vn=a,wu=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function _u(e){if(o=e&&e.itemStyle,!o)return;for(var t,n,s,o,i=0,a=wu.length;i<a;i++)t=wu[i],n=o.normal,s=o.emphasis,n&&n[t]&&(z("itemStyle.normal."+t,t),e[t]=e[t]||{},e[t].normal?w(e[t].normal,n[t]):e[t].normal=n[t],n[t]=null),s&&s[t]&&(z("itemStyle.emphasis."+t,"emphasis."+t),e[t]=e[t]||{},e[t].emphasis?w(e[t].emphasis,s[t]):e[t].emphasis=s[t],s[t]=null)}function W(e,t,n){if(e&&e[t]&&(e[t].normal||e[t].emphasis)){var o=e[t].normal,s=e[t].emphasis;o&&(Ge("'normal' hierarchy in "+t+" has been removed since 4.0. All style properties are configured in "+t+" directly now."),n?(e[t].normal=e[t].emphasis=null,x(e[t],o)):e[t]=o),s&&(Ge(t+".emphasis has been changed to emphasis."+t+" since 4.0"),e.emphasis=e.emphasis||{},e.emphasis[t]=s,s.focus&&(e.emphasis.focus=s.focus),s.blurScope&&(e.emphasis.blurScope=s.blurScope))}}function Li(e){W(e,"itemStyle"),W(e,"lineStyle"),W(e,"areaStyle"),W(e,"label"),W(e,"labelLine"),W(e,"upperLabel"),W(e,"edgeLabel")}function M(e,t){if(n=Vn(e)&&e[t],s=Vn(n)&&n.textStyle,s){Ge("textStyle hierarchy in "+t+" has been removed since 4.0. All textStyle properties are configured in "+t+" directly now.");for(var n,s,o,i=0,a=iu.length;i<a;i++)o=iu[i],s.hasOwnProperty(o)&&(n[o]=s[o])}}function Le(e){e&&(Li(e),M(e,"label"),e.emphasis&&M(e.emphasis,"label"))}function c7(e){if(!Vn(e))return;_u(e),Li(e),M(e,"label"),M(e,"upperLabel"),M(e,"edgeLabel"),e.emphasis&&(M(e.emphasis,"label"),M(e.emphasis,"upperLabel"),M(e.emphasis,"edgeLabel"));var n,o,a,r,c,l,d,i=e.markPoint;if(i&&(_u(i),Le(i)),o=e.markLine,o&&(_u(o),Le(o)),l=e.markArea,l&&Le(l),a=e.data,e.type==="graph"){if(a=a||e.nodes,c=e.links||e.edges,c&&!X(c))for(n=0;n<c.length;n++)Le(c[n]);t(e.categories,function(e){Li(e)})}if(a&&!X(a))for(n=0;n<a.length;n++)Le(a[n]);if(i=e.markPoint,i&&i.data)for(d=i.data,n=0;n<d.length;n++)Le(d[n]);if(o=e.markLine,o&&o.data)for(r=o.data,n=0;n<r.length;n++)s(r[n])?(Le(r[n][0]),Le(r[n][1])):Le(r[n]);e.type==="gauge"?(M(e,"axisLabel"),M(e,"title"),M(e,"detail")):e.type==="treemap"?(W(e.breadcrumb,"itemStyle"),t(e.levels,function(e){Li(e)})):e.type==="tree"&&Li(e.leaves)}function ft(e){return s(e)?e:e?[e]:[]}function R2(e){return(s(e)?e[0]:e)||{}}function r7(e,n){ye(ft(e.series),function(e){Vn(e)&&c7(e)});var o=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];n&&o.push("valueAxis","categoryAxis","logAxis","timeAxis"),ye(o,function(t){ye(ft(e[t]),function(e){e&&(M(e,"axisLabel"),M(e.axisPointer,"label"))})}),ye(ft(e.parallel),function(e){var t=e&&e.parallelAxisDefault;M(t,"axisLabel"),M(t&&t.axisPointer,"label")}),ye(ft(e.calendar),function(e){W(e,"itemStyle"),M(e,"dayLabel"),M(e,"monthLabel"),M(e,"yearLabel")}),ye(ft(e.radar),function(e){M(e,"name"),e.name&&e.axisName==null&&(e.axisName=e.name,delete e.name,Ge("name property in radar component has been changed to axisName")),e.nameGap!=null&&e.axisNameGap==null&&(e.axisNameGap=e.nameGap,delete e.nameGap,Ge("nameGap property in radar component has been changed to axisNameGap")),ye(e.indicator,function(e){e.text&&z("text","name","radar.indicator")})}),ye(ft(e.geo),function(e){Vn(e)&&(Le(e),ye(ft(e.regions),function(e){Le(e)}))}),ye(ft(e.timeline),function(e){Le(e),W(e,"label"),W(e,"itemStyle"),W(e,"controlStyle",!0);var n=e.data;s(n)&&t(n,function(e){a(e)&&(W(e,"label"),W(e,"itemStyle"))})}),ye(ft(e.toolbox),function(e){W(e,"iconStyle"),ye(e.feature,function(e){W(e,"iconStyle")})}),M(R2(e.axisPointer),"label"),M(R2(e.tooltip).axisPointer,"label")}function a7(e,t){for(var o=t.split(","),n=e,s=0;s<o.length;s++)if(n=n&&n[o[s]],n==null)break;return n}function i7(e,t,n,s){for(var r,a=t.split(","),o=e,i=0;i<a.length-1;i++)r=a[i],o[r]==null&&(o[r]={}),o=o[r];(s||o[a[i]]==null)&&(o[a[i]]=n)}function B2(e){e&&t(V2,function(t){t[0]in e&&!(t[1]in e)&&(e[t[1]]=e[t[0]])})}V2=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],$2=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],Kr=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function ui(e){var t,s,o,n=e&&e.itemStyle;if(n)for(t=0;t<Kr.length;t++)s=Kr[t][1],o=Kr[t][0],n[s]!=null&&(n[o]=n[s],z(s,o))}function K2(e){if(!e)return;e.alignTo==="edge"&&e.margin!=null&&e.edgeDistance==null&&(z("label.margin","label.edgeDistance","pie"),e.edgeDistance=e.margin)}function q2(e){if(!e)return;e.downplay&&!e.blur&&(e.blur=e.downplay,z("downplay","blur","sunburst"))}function n7(e){if(!e)return;e.focusNodeAdjacency!=null&&(e.emphasis=e.emphasis||{},e.emphasis.focus==null&&(z("focusNodeAdjacency","emphasis: { focus: 'adjacency'}","graph/sankey"),e.emphasis.focus="adjacency"))}function G2(e,t){if(e)for(var n=0;n<e.length;n++)t(e[n]),e[n]&&G2(e[n].children,t)}function X2(e,n){r7(e,n),e.series=N(e.series),t(e.series,function(e){if(!a(e))return;var t,n,o,i,s=e.type;if(s==="line")e.clipOverflow!=null&&(e.clip=e.clipOverflow,z("clipOverflow","clip","line"));else if(s==="pie"||s==="gauge"){if(e.clockWise!=null&&(e.clockwise=e.clockWise,z("clockWise","clockwise")),K2(e.label),t=e.data,t&&!X(t))for(n=0;n<t.length;n++)K2(t[n]);e.hoverOffset!=null&&(e.emphasis=e.emphasis||{},(e.emphasis.scaleSize=null)&&(z("hoverOffset","emphasis.scaleSize"),e.emphasis.scaleSize=e.hoverOffset))}else if(s==="gauge")o=a7(e,"pointer.color"),o!=null&&i7(e,"itemStyle.color",o);else if(s==="bar"){if(ui(e),ui(e.backgroundStyle),ui(e.emphasis),t=e.data,t&&!X(t))for(n=0;n<t.length;n++)typeof t[n]=="object"&&(ui(t[n]),ui(t[n]&&t[n].emphasis))}else s==="sunburst"?(i=e.highlightPolicy,i&&(e.emphasis=e.emphasis||{},e.emphasis.focus||(e.emphasis.focus=i,z("highlightPolicy","emphasis.focus","sunburst"))),q2(e),G2(e.data,q2)):s==="graph"||s==="sankey"?n7(e):s==="map"&&(e.mapType&&!e.map&&(z("mapType","map","map"),e.map=e.mapType),e.mapLocation&&(Ge("`mapLocation` is not used anymore."),x(e,e.mapLocation)));e.hoverAnimation!=null&&(e.emphasis=e.emphasis||{},e.emphasis&&e.emphasis.scale==null&&(z("hoverAnimation","emphasis.scale"),e.emphasis.scale=e.hoverAnimation)),B2(e)}),e.dataRange&&(e.visualMap=e.dataRange),t($2,function(n){var o=e[n];o&&(s(o)||(o=[o]),t(o,function(e){B2(e)}))})}function t7(e){var t=m();e.eachSeries(function(e){var n,s,o,i=e.get("stack");if(i){if(s=t.get(i)||t.set(i,[]),n=e.getData(),o={stackResultDimension:n.getCalculationInfo("stackResultDimension"),stackedOverDimension:n.getCalculationInfo("stackedOverDimension"),stackedDimension:n.getCalculationInfo("stackedDimension"),stackedByDimension:n.getCalculationInfo("stackedByDimension"),isStackedByIndex:n.getCalculationInfo("isStackedByIndex"),data:n,seriesModel:e},!o.stackedDimension||!o.isStackedByIndex&&!o.stackedByDimension)return;s.length&&n.setCalculationInfo("stackedOnSeries",s[s.length-1].seriesModel),s.push(o)}}),t.each(e7)}function e7(e){t(e,function(t,n){var o=[],a=[NaN,NaN],r=[t.stackResultDimension,t.stackedOverDimension],s=t.data,i=t.isStackedByIndex;s.modify(r,function(r,c,l){var u,h,m,f,p,g,d=s.get(t.stackedDimension,l);if(isNaN(d))return a;i?m=s.getRawIndex(l):g=s.get(t.stackedByDimension,l);for(p=NaN,f=n-1;f>=0;f--)if(u=e[f],i||(m=u.data.rawIndexOf(u.stackedByDimension,g)),m>=0&&(h=u.data.getByRawIndex(u.stackResultDimension,m),d>=0&&h>0||d<=0&&h<0)){d=Cb(d,h),p=h;break}return o[0]=d,o[1]=p,o})})}Yo=function(){function e(e){this.data=e.data||(e.sourceFormat===at?{}:[]),this.sourceFormat=e.sourceFormat||Yu,this.seriesLayoutBy=e.seriesLayoutBy||Ue,this.startIndex=e.startIndex||0,this.dimensionsDetectedCount=e.dimensionsDetectedCount,this.metaRawOption=e.metaRawOption;var t,s,n=this.dimensionsDefine=e.dimensionsDefine;if(n)for(t=0;t<n.length;t++)s=n[t],s.type==null&&q0(this,t)===oe.Must&&(s.type="ordinal")}return e}();function pu(e){return e instanceof Yo}function fu(e,t,n){n=n||o3(e);var o=t.seriesLayoutBy,s=X5(e,n,o,t.sourceHeader,t.dimensions),i=new Yo({data:e,sourceFormat:n,seriesLayoutBy:o,dimensionsDefine:s.dimensionsDefine,startIndex:s.startIndex,dimensionsDetectedCount:s.dimensionsDetectedCount,metaRawOption:c(t)});return i}function hu(e){return new Yo({data:e,sourceFormat:X(e)?it:be})}function Q5(e){return new Yo({data:e.data,sourceFormat:e.sourceFormat,seriesLayoutBy:e.seriesLayoutBy,dimensionsDefine:c(e.dimensionsDefine),startIndex:e.startIndex,dimensionsDetectedCount:e.dimensionsDetectedCount})}function o3(e){if(t=Yu,X(e))t=it;else if(s(e)){{e.length===0&&(t=q);for(var t,n,i,o=0,r=e.length;o<r;o++){if(n=e[o],n==null)continue;if(s(n)){t=q;break}if(a(n)){t=xe;break}}}}else if(a(e))for(i in e)if(st(e,i)&&B(e[i])){t=at;break}return t}function X5(e,n,o,a,r){if(!e)return{dimensionsDefine:r3(r),startIndex:c,dimensionsDetectedCount:d};if(n===q){var c,d,h,l=e;a==="auto"||a==null?c3(function(e){e!=null&&e!=="-"&&(i(e)?c==null&&(c=1):c=0)},o,l,10):c=E(a)?a:a?1:0,!r&&c===1&&(r=[],c3(function(e,t){r[t]=e!=null?e+"":""},o,l,1/0)),d=r?r.length:o===jn?l.length:l[0]?l[0].length:null}else n===xe?r||(r=G5(e)):n===at?r||(r=[],t(e,function(e,t){r.push(t)})):n===be?(h=hi(e[0]),d=s(h)&&h.length||1):n===it&&u(!!r,"dimensions must be given if data is TypedArray.");return{startIndex:c,dimensionsDefine:r3(r),dimensionsDetectedCount:d}}function G5(e){for(var n,s,o=0;o<e.length&&!(n=e[o++]););if(n)return s=[],t(n,function(e,t){s.push(t)}),s}function r3(e){if(!e)return;var t=m();return r(e,function(e){e=a(e)?e:{name:e};var o,s={name:e.name,displayName:e.displayName,type:e.type};return s.name==null?s:(s.name+="",s.displayName==null&&(s.displayName=s.name),o=t.get(s.name),o?s.name+="-"+o.count++:t.set(s.name,{count:1}),s)})}function c3(e,t,n,s){if(t===jn)for(var i,o=0;o<n.length&&o<s;o++)e(n[o]?n[o][0]:null,o);else for(i=n[0]||[],o=0;o<i.length&&o<s;o++)e(i[o],o)}function l3(e){var t=e.sourceFormat;return t===xe||t===at}cu=function(){function e(e,t){var s,n=pu(e)?e:hu(e);if(this._source=n,s=this._data=n.data,n.sourceFormat===it){if(t==null)throw new Error("Typed array data must specify dimension size");this._offset=0,this._dimSize=t,this._data=s}f3(this,s,n)}return e.prototype.getSource=function(){return this._source},e.prototype.count=function(){return 0},e.prototype.getItem=function(){},e.prototype.appendData=function(){},e.prototype.clean=function(){},e.protoInitialize=function(){var t=e.prototype;t.pure=!1,t.persistent=!0}(),e.internalField=function(){f3=function(e,t,s){var m,p,r=s.sourceFormat,c=s.seriesLayoutBy,l=s.startIndex,d=s.dimensionsDefine,h=m3[tu(r,c)];u(h,"Invalide sourceFormat: "+r),n(e,h),r===it?(e.getItem=o,e.count=a,e.fillStorage=i):(m=b3(r,c),e.getItem=f(m,null,t,l,d),p=_3(r,c),e.count=f(p,null,t,l,d))};var e,o=function(e,t){e=e-this._offset,t=t||[];for(var o=this._data,s=this._dimSize,i=s*e,n=0;n<s;n++)t[n]=o[i+n];return t},i=function(e,t,n,s){for(var o,i,r,c,l,u,h,m=this._data,d=this._dimSize,a=0;a<d;a++){for(o=s[a],c=o[0]==null?1/0:o[0],l=o[1]==null?-(1/0):o[1],u=t-e,h=n[a],r=0;r<u;r++)i=m[r*d+a],h[e+r]=i,i<c&&(c=i),i>l&&(l=i);o[0]=c,o[1]=l}},a=function(){return this._data?this._data.length/this._dimSize:0};m3=(e={},e[q+"_"+Ue]={pure:!0,appendData:s},e[q+"_"+jn]={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},e[xe]={pure:!0,appendData:s},e[at]={pure:!0,appendData:function(e){var n=this._data;t(e,function(e,t){for(var o=n[t]||(n[t]=[]),s=0;s<(e||[]).length;s++)o.push(e[s])})}},e[be]={appendData:s},e[it]={persistent:!1,pure:!0,appendData:function(e){u(X(e),"Added data must be TypedArray if data in initialization is TypedArray"),this._data=e},clean:function(){this._offset+=this.count(),this._data=null}},e);function s(e){for(var t=0;t<e.length;t++)this._data.push(e[t])}}(),e}(),ru=function(e,t,n,s){return e[s]},v3=(gn={},gn[q+"_"+Ue]=function(e,t,n,s){return e[s+t]},gn[q+"_"+jn]=function(e,t,n,s,o){s+=t;for(var a,r=o||[],c=e,i=0;i<c.length;i++)a=c[i],r[i]=a?a[s]:null;return r},gn[xe]=ru,gn[at]=function(e,t,n,s,o){for(var a,r,c=o||[],i=0;i<n.length;i++){if(a=n[i].name,a==null)throw new Error;r=e[a],c[i]=r?r[s]:null}return c},gn[be]=ru,gn);function b3(e,t){var n=v3[tu(e,t)];return u(n,'Do not support get item on "'+e+'", "'+t+'".'),n}au=function(e){return e.length},y3=(fn={},fn[q+"_"+Ue]=function(e,t){return Math.max(0,e.length-t)},fn[q+"_"+jn]=function(e,t){var s=e[0];return s?Math.max(0,s.length-t):0},fn[xe]=au,fn[at]=function(e,t,n){var s,o=n[0].name;if(o==null)throw new Error;return s=e[o],s?s.length:0},fn[be]=au,fn);function _3(e,t){var n=y3[tu(e,t)];return u(n,'Do not suppport count on "'+e+'", "'+t+'".'),n}kr=function(e,t){return e[t]},O3=(yn={},yn[q]=kr,yn[xe]=function(e,t,n){return e[n]},yn[at]=kr,yn[be]=function(e,t){var s=hi(e);return s instanceof Array?s[t]:s},yn[it]=kr,yn);function x3(e){var t=O3[e];return u(t,'Do not suppport get value on "'+e+'".'),t}function tu(e,t){return e===q?e+"_"+t:e}function hr(e,t,n){if(!e)return;var o,i,a,r,c,s=e.getRawDataItem(t);if(s==null)return;return o=e.getStore(),i=o.getSource().sourceFormat,n!=null?(a=e.getDimensionIndex(n),c=o.getDimensionProperty(a),x3(i)(s,a,c)):(r=s,i===be&&(r=hi(s)),r)}k3=/\{@(.+?)\}/g,A3=function(){function e(){}return e.prototype.getDataParams=function(e,t){var n=this.getData(t),r=this.getRawValue(e,t),c=n.getRawIndex(e),l=n.getName(e),d=n.getRawDataItem(e),s=n.getItemVisual(e,"style"),u=s&&s[n.getItemVisual(e,"drawType")||"fill"],h=s&&s.stroke,a=this.mainType,i=a==="series",o=n.userOutput&&n.userOutput.get();return{componentType:a,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:i?this.subType:null,seriesIndex:this.seriesIndex,seriesId:i?this.id:null,seriesName:i?this.name:null,name:l,dataIndex:c,data:d,dataType:t,value:r,color:u,borderColor:h,dimensionNames:o?o.fullDimensions:null,encode:o?o.encode:null,$vars:["seriesName","name","value"]}},e.prototype.getFormattedLabel=function(e,t,n,o,a,r){t=t||"normal";var u,h,l=this.getData(n),c=this.getDataParams(e,n);if(r&&(c.value=r.interpolatedValue),o!=null&&s(c.value)&&(c.value=c.value[o]),a||(u=l.getItemModel(e),a=u.get(t==="normal"?["label","formatter"]:[t,"label","formatter"])),d(a))return c.status=t,c.dimensionIndex=o,a(c);if(i(a))return h=b1(a,c),h.replace(k3,function(t,n){var i,a,c=n.length,o=n;return o.charAt(0)==="["&&o.charAt(c-1)==="]"&&(o=+o.slice(1,c-1),isNaN(o)&&K("Invalide label formatter: @"+n+", only support @[0], @[1], @[2], ...")),i=hr(l,e,o),r&&s(r.interpolatedValue)&&(a=l.getDimensionIndex(o),a>=0&&(i=r.interpolatedValue[a])),i!=null?i+"":""})},e.prototype.getRawValue=function(e,t){return hr(this.getData(t),e)},e.prototype.formatTooltip=function(){},e}();function S3(e){var t,n;return a(e)?e.type?n=e:console.warn("The return type of `formatTooltip` is not supported: "+ne(e)):t=e,{text:t,frag:n}}function yo(e){return new F3(e)}F3=function(){function e(e){e=e||{},this._reset=e.reset,this._plan=e.plan,this._count=e.count,this._onDirty=e.onDirty,this._dirty=!0}return e.prototype.perform=function(e){var t,o,i,a,r,c,d,h,m,f,p,g,b,n=this._upstream,l=e&&e.skip;this._dirty&&n&&(d=this.context,d.data=d.outputData=n.context.outputData),this.__pipeline&&(this.__pipeline.currentTask=this),this._plan&&!l&&(h=this._plan(this.context)),p=v(this._modBy),b=this._modDataCount||0,o=v(e&&e.modBy),i=e&&e.modDataCount||0,(p!==o||b!==i)&&(h="reset");function v(e){return!(e>=1)&&(e=1),e}if((this._dirty||h==="reset")&&(this._dirty=!1,g=this._doReset(l)),this._modBy=o,this._modDataCount=i,f=e&&e.step,n?(u(n._outputDueEnd!=null),this._dueEnd=n._outputDueEnd):(u(!this._progress||this._count),this._dueEnd=this._count?this._count(this.context):1/0),this._progress){if(c=this._dueIndex,t=Math.min(f!=null?this._dueIndex+f:1/0,this._dueEnd),!l&&(g||c<t))if(a=this._progress,s(a))for(r=0;r<a.length;r++)this._doProgress(a[r],c,t,o,i);else this._doProgress(a,c,t,o,i);this._dueIndex=t,m=this._settedOutputEnd!=null?this._settedOutputEnd:t,u(m>=this._outputDueEnd),this._outputDueEnd=m}else this._dueIndex=this._outputDueEnd=this._settedOutputEnd!=null?this._settedOutputEnd:this._dueEnd;return this.unfinished()},e.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},e.prototype._doProgress=function(e,t,n,s,o){Jd.reset(t,n,s,o),this._callingProgress=e,this._callingProgress({start:t,end:n,count:n-t,next:Jd.next},this.context)},e.prototype._doReset=function(e){this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null,!e&&this._reset&&(t=this._reset(this.context),t&&t.progress&&(n=t.forceFirstProgress,t=t.progress),s(t)&&!t.length&&(t=null)),this._progress=t,this._modBy=this._modDataCount=null;var t,n,o=this._downstream;return o&&o.dirty(),n},e.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},e.prototype.pipe=function(e){u(e&&!e._disposed&&e!==this),(this._downstream!==e||this._dirty)&&(this._downstream=e,e._upstream=this,e.dirty())},e.prototype.dispose=function(){if(this._disposed)return;this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0},e.prototype.getUpstream=function(){return this._upstream},e.prototype.getDownstream=function(){return this._downstream},e.prototype.setOutputEnd=function(e){this._outputDueEnd=this._settedOutputEnd=e},e}(),Jd=function(){var e,t,n,s,o,i={reset:function(c,l,d,u){e=c,s=l,t=d,n=u,o=Math.ceil(n/t),i.next=t>1&&n>0?r:a}};return i;function a(){return e<s?e++:null}function r(){var i=e%o*t+Math.ceil(e/o),a=e>=s?null:i<n?i:e;return e++,a}}();function Za(e,t){var n=t&&t.type;return n==="ordinal"?e:(n==="time"&&!E(e)&&e!=null&&e!=="-"&&(e=+le(e)),e==null||e===""?NaN:+e)}D3=m({number:function(e){return parseFloat(e)},time:function(e){return+le(e)},trim:function(e){return i(e)?Xe(e):e}});function N3(e){return D3.get(e)}Zd={lt:function(e,t){return e<t},lte:function(e,t){return e<=t},gt:function(e,t){return e>t},gte:function(e,t){return e>=t}},R3=function(){function e(e,t){if(!E(t)){var n="";n='rvalue of "<", ">", "<=", ">=" can only be number in filter.',g(n)}this._opFn=Zd[e],this._rvalFloat=pt(t)}return e.prototype.evaluate=function(e){return E(e)?this._opFn(e,this._rvalFloat):this._opFn(pt(e),this._rvalFloat)},e}(),Xd=function(){function e(e,t){var n=e==="desc";this._resultLT=n?1:-1,t==null&&(t=n?"min":"max"),this._incomparable=t==="min"?-(1/0):1/0}return e.prototype.evaluate=function(e,t){var o,a,n=E(e)?e:pt(e),s=E(t)?t:pt(t),r=isNaN(n),c=isNaN(s);return r&&(n=this._incomparable),c&&(s=this._incomparable),r&&c&&(o=i(e),a=i(t),o&&(n=a?e:0),a&&(s=o?t:0)),n<s?this._resultLT:n>s?-this._resultLT:0},e}(),H3=function(){function e(e,t){this._rval=t,this._isEQ=e,this._rvalTypeof=typeof t,this._rvalFloat=pt(t)}return e.prototype.evaluate=function(e){var n,t=e===this._rval;return t||(n=typeof e,n!==this._rvalTypeof&&(n==="number"||this._rvalTypeof==="number")&&(t=pt(e)===this._rvalFloat)),this._isEQ?t:!t},e}();function $5(e,t){return e==="eq"||e==="ne"?new H3(e==="eq",t):st(Zd,e)?new R3(e,t):null}B3=function(){function e(){}return e.prototype.getRawData=function(){throw new Error("not supported")},e.prototype.getRawDataItem=function(){throw new Error("not supported")},e.prototype.cloneRawData=function(){},e.prototype.getDimensionInfo=function(){},e.prototype.cloneAllDimensionInfo=function(){},e.prototype.count=function(){},e.prototype.retrieveValue=function(){},e.prototype.retrieveValueFromItem=function(){},e.prototype.convertValue=function(e,t){return Za(e,t)},e}();function V5(e,n){var o,i,a,l,u,m,p,v,s=new B3,d=e.data,c=s.sourceFormat=e.sourceFormat,r=e.startIndex,h="";if(e.seriesLayoutBy!==Ue&&(h='`seriesLayoutBy` of upstream dataset can only be "column" in data transform.',g(h)),o=[],a={},l=e.dimensionsDefine,l)t(l,function(e,t){var s,n=e.name,i={index:t,name:n,displayName:e.displayName};o.push(i),n!=null&&(s="",st(a,n)&&(s='dimension name "'+n+'" duplicated.',g(s)),a[n]=i)});else for(i=0;i<e.dimensionsDetectedCount||0;i++)o.push({index:i});return u=b3(c,Ue),n.__isBuiltIn&&(s.getRawDataItem=function(e){return u(d,r,o,e)},s.getRawData=f(B5,null,e)),s.cloneRawData=f(I5,null,e),m=_3(c,Ue),s.count=f(m,null,d,r,o),p=x3(c),s.retrieveValue=function(e,t){var n=u(d,r,o,e);return v(n,t)},v=s.retrieveValueFromItem=function(e,t){if(e==null)return;var n=o[t];if(n)return p(e,t,n.name)},s.getDimensionInfo=f(H5,null,o,a),s.cloneAllDimensionInfo=f(N5,null,o),s}function B5(e){var t,n=e.sourceFormat;return qd(n)||(t="",t="`getRawData` is not supported in source format "+n,g(t)),e.data}function I5(e){if(s=e.sourceFormat,o=e.data,qd(s)||(a="",a="`cloneRawData` is not supported in source format "+s,g(a)),s===q){for(var s,o,a,i=[],t=0,r=o.length;t<r;t++)i.push(o[t].slice());return i}if(s===xe){for(i=[],t=0,r=o.length;t<r;t++)i.push(n({},o[t]));return i}}function H5(e,t,n){if(n==null)return;if(E(n)||!isNaN(n)&&!st(t,n))return e[n];if(st(t,n))return t[n]}function N5(e){return c(e)}Yd=m();function D5(e){e=c(e);var s,o,t=e.type,n="";t||(n="Must have a `type` when `registerTransform`.",g(n)),s=t.split(":"),s.length!==2&&(n='Name must include namespace like "ns:regression".',g(n)),o=!1,s[0]==="echarts"&&(t=s[1],o=!0),e.__isBuiltIn=o,Yd.set(t,e)}function z5(e,t,n){i=N(e),o=i.length,a="",o||(a="If `transform` declared, it should at least contain one transform.",g(a));for(var o,i,a,c,s=0,r=o;s<r;s++)c=i[s],t=M5(c,t,n,o===1?null:s),s!==r-1&&(t.length=Math.max(t.length,1));return t}function M5(e,t,n,s){var i,l,d,u,h,o="";return t.length||(o="Must have at least one upstream dataset.",g(o)),a(e)||(o="transform declaration must be an object rather than "+typeof e+".",g(o)),l=e.type,i=Yd.get(l),i||(o='Can not find transform on type "'+l+'".',g(o)),d=r(t,function(e){return V5(e,i)}),u=N(i.transform({upstream:d[0],upstreamList:d,config:c(e.config)})),e.print&&(h=r(u,function(e){var t=s!=null?" === pipe index: "+s:"";return["=== dataset index: "+n.datasetIndex+t+" ===","- transform result data:",ne(e.data),"- transform result dimensions:",ne(e.dimensions)].join(`
`)}).join(`
`),Ob(h)),r(u,function(e,n){var o,i,r,c,s="";return a(e)||(s="A transform should not return some empty results.",g(s)),e.data||(s="Transform result data should be not be null or undefined",g(s)),c=o3(e.data),qd(c)||(s="Transform result data should be array rows or object rows.",g(s)),o=t[0],o&&n===0&&!e.dimensions?(i=o.startIndex,i&&(e.data=o.data.slice(0,i).concat(e.data)),r={seriesLayoutBy:Ue,sourceHeader:i,dimensions:o.metaRawOption.dimensions}):r={seriesLayoutBy:Ue,sourceHeader:0,dimensions:e.dimensions},fu(e.data,r,null)})}function qd(e){return e===q||e===xe}Js="undefined",J3=typeof Uint32Array===Js?Array:Uint32Array,eh=typeof Uint16Array===Js?Array:Uint16Array,Ud=typeof Int32Array===Js?Array:Int32Array,Wd=typeof Float64Array===Js?Array:Float64Array,$d={float:Wd,int:Ud,ordinal:Array,number:Array,time:Wd};function Qs(e){return e>65535?J3:eh}function Is(){return[1/0,-(1/0)]}function E5(e){var t=e.constructor;return t===Array?e.slice():new t(e)}function ch(e,t,n,s,o){var i,a,r,c,l=$d[n||"float"];if(o){if(a=e[t],r=a&&a.length,r!==s){for(c=new l(s),i=0;i<r;i++)c[i]=a[i];e[t]=c}}else e[t]=new l(s)}za=function(){function e(){this._chunks=[],this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=m()}return e.prototype.initData=function(e,t,n){u(d(e.getItem)&&d(e.count),"Inavlid data provider."),this._provider=e,this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var o,s=e.getSource(),i=this.defaultDimValueGetter=Vd[s.sourceFormat];this._dimValueGetter=n||i,this._rawExtent=[],o=l3(s),this._dimensions=r(t,function(e){return o&&u(e.property!=null),{type:e.type,property:e.property}}),this._initDataFromProvider(0,e.count())},e.prototype.getProvider=function(){return this._provider},e.prototype.getSource=function(){return this._provider.getSource()},e.prototype.ensureCalculationDimension=function(e,t){var o=this._calcDimNameToIdx,s=this._dimensions,n=o.get(e);if(n!=null){if(s[n].type===t)return n}else n=s.length;return s[n]={type:t},o.set(e,n),this._chunks[n]=new $d[t||"float"](this._rawCount),this._rawExtent[n]=Is(),n},e.prototype.collectOrdinalMeta=function(e,t){var n,s,a,i=this._chunks[e],o=this._dimensions[e],r=this._rawExtent,c=o.ordinalOffset||0,l=i.length;c===0&&(r[e]=Is());for(n=r[e],s=c;s<l;s++)a=i[s]=t.parseAndCollect(i[s]),n[0]=Math.min(a,n[0]),n[1]=Math.max(a,n[1]);o.ordinalMeta=t,o.ordinalOffset=l,o.type="ordinal"},e.prototype.getOrdinalMeta=function(e){var t=this._dimensions[e],n=t.ordinalMeta;return n},e.prototype.getDimensionProperty=function(e){var t=this._dimensions[e];return t&&t.property},e.prototype.appendData=function(e){u(!this._indices,"appendData can only be called on raw data.");var t,s=this._provider,n=this.count();return s.appendData(e),t=s.count(),s.persistent||(t+=n),n<t&&this._initDataFromProvider(n,t,!0),[n,t]},e.prototype.appendValues=function(e,t){for(var n,s,o,i,c,d,m,h=this._chunks,u=this._dimensions,f=u.length,p=this._rawExtent,l=this.count(),r=l+Math.max(e.length,t||0),a=0;a<f;a++)c=u[a],ch(h,a,c.type,r,!0);for(m=[],o=l;o<r;o++)for(d=o-l,n=0;n<f;n++)c=u[n],s=Vd.arrayRows.call(this,e[d]||m,c.property,d,n),h[n][o]=s,i=p[n],s<i[0]&&(i[0]=s),s>i[1]&&(i[1]=s);return this._rawCount=this._count=r,{start:l,end:r}},e.prototype._initDataFromProvider=function(e,t,n){for(var s,o,c,l,u,p,g,a=this._provider,m=this._chunks,h=this._dimensions,f=h.length,d=this._rawExtent,v=r(h,function(e){return e.property}),i=0;i<f;i++)p=h[i],d[i]||(d[i]=Is()),ch(m,i,p.type,t,n);if(a.fillStorage)a.fillStorage(e,t,m,d);else for(u=[],o=e;o<t;o++){u=a.getItem(o,u);for(s=0;s<f;s++)g=m[s],c=this._dimValueGetter(u,v[s],o,s),g[o]=c,l=d[s],c<l[0]&&(l[0]=c),c>l[1]&&(l[1]=c)}!a.persistent&&a.clean&&a.clean(),this._rawCount=this._count=t,this._extent=[]},e.prototype.count=function(){return this._count},e.prototype.get=function(e,t){if(!(t>=0&&t<this._count))return NaN;var n=this._chunks[e];return n?n[this.getRawIndex(t)]:NaN},e.prototype.getValues=function(e,t){if(o=[],s=[],t==null){t=e,e=[];for(n=0;n<this._dimensions.length;n++)s.push(n)}else s=e;for(var s,o,n=0,i=s.length;n<i;n++)o.push(this.get(s[n],t));return o},e.prototype.getByRawIndex=function(e,t){if(!(t>=0&&t<this._rawCount))return NaN;var n=this._chunks[e];return n?n[t]:NaN},e.prototype.getSum=function(e){if(o=this._chunks[e],t=0,o)for(var t,s,o,n=0,i=this.count();n<i;n++)s=this.get(e,n),isNaN(s)||(t+=s);return t},e.prototype.getMedian=function(e){var t,n,s=[];return this.each([e],function(e){isNaN(e)||s.push(e)}),n=s.sort(function(e,t){return e-t}),t=this.count(),t===0?0:t%2===1?n[(t-1)/2]:(n[t/2]+n[t/2-1])/2},e.prototype.indexOfRawIndex=function(e){if(e>=this._rawCount||e<0)return-1;if(!this._indices)return e;var t,n,s,o=this._indices,i=o[e];if(i!=null&&i<this._count&&i===e)return e;for(n=0,s=this._count-1;n<=s;)if(t=(n+s)/2|0,o[t]<e)n=t+1;else if(o[t]>e)s=t-1;else return t;return-1},e.prototype.indicesOfNearest=function(e,t,n){if(u=this._chunks,r=u[e],s=[],!r)return s;n==null&&(n=1/0);for(var s,o,i,r,u,h,c=1/0,l=-1,d=0,a=0,m=this.count();a<m;a++)h=this.getRawIndex(a),o=t-r[h],i=Math.abs(o),i<=n&&((i<c||i===c&&o>=0&&l<0)&&(c=i,l=o,d=0),o===l&&(s[d++]=a));return s.length=d,s},e.prototype.getIndices=function(){var e,t,n,o,s=this._indices;if(s)if(n=s.constructor,o=this._count,n===Array){t=new n(o);for(e=0;e<o;e++)t[e]=s[e]}else t=new n(s.buffer,0,o);else{n=Qs(this._rawCount),t=new n(this.count());for(e=0;e<t.length;e++)t[e]=e}return t},e.prototype.filter=function(e,t){if(!this._count)return this;for(var s,i,a,m,n=this.clone(),d=n.count(),p=Qs(n._rawCount),h=new p(d),l=[],c=e.length,r=0,f=e[0],u=n._chunks,o=0;o<d;o++){if(i=void 0,a=n.getRawIndex(o),c===0)i=t(o);else if(c===1)m=u[f][a],i=t(m,o);else{for(s=0;s<c;s++)l[s]=u[e[s]][a];l[s]=o,i=t.apply(null,l)}i&&(h[r++]=a)}return r<d&&(n._indices=h),n._count=r,n._extent=[],n._updateGetRawIdx(),n},e.prototype.selectRange=function(e){var t,n,o,i,a,r,c,l,d,u,h,m,f,p,g,v,b,y,_,w,O,x,C,s=this.clone(),j=s._count;if(!j)return this;if(o=k(e),r=o.length,!r)return this;if(d=s.count(),C=Qs(s._rawCount),c=new C(d),i=0,_=o[0],f=e[_][0],b=e[_][1],a=s._chunks,h=!1,!s._indices)if(u=0,r===1){for(p=a[o[0]],t=0;t<j;t++)n=p[t],(n>=f&&n<=b||isNaN(n))&&(c[i++]=u),u++;h=!0}else if(r===2){for(p=a[o[0]],x=a[o[1]],O=e[o[1]][0],w=e[o[1]][1],t=0;t<j;t++)n=p[t],m=x[t],(n>=f&&n<=b||isNaN(n))&&(m>=O&&m<=w||isNaN(m))&&(c[i++]=u),u++;h=!0}if(!h)if(r===1)for(t=0;t<d;t++)l=s.getRawIndex(t),n=a[o[0]][l],(n>=f&&n<=b||isNaN(n))&&(c[i++]=l);else for(t=0;t<d;t++){for(y=!0,l=s.getRawIndex(t),v=0;v<r;v++)g=o[v],n=a[g][l],(n<e[g][0]||n>e[g][1])&&(y=!1);y&&(c[i++]=s.getRawIndex(t))}return i<d&&(s._indices=c),s._count=i,s._extent=[],s._updateGetRawIdx(),s},e.prototype.map=function(e,t){var n=this.clone(e);return this._updateDims(n,e,t),n},e.prototype.modify=function(e,t){this._updateDims(this,e,t)},e.prototype._updateDims=function(e,t,n){for(var o,i,a,r,c,d,u,h,f=e._chunks,g=[],p=t.length,v=e.count(),l=[],m=e._rawExtent,s=0;s<t.length;s++)m[t[s]]=Is();for(r=0;r<v;r++){for(d=e.getRawIndex(r),a=0;a<p;a++)l[a]=f[t[a]][d];if(l[p]=r,o=n&&n.apply(null,l),o!=null){typeof o!="object"&&(g[0]=o,o=g);for(s=0;s<o.length;s++)u=t[s],i=o[s],c=m[u],h=f[u],h&&(h[d]=i),i<c[0]&&(c[0]=i),i>c[1]&&(c[1]=i)}}},e.prototype.lttbDownSample=function(e,t){var n,s,o,r,d,u,m,f,v,b,j,y,_,w,O,a=this.clone([e],!0),x=a._chunks,p=x[e],i=this.count(),h=0,c=Math.floor(1/t),g=this.getRawIndex(0),l=new(Qs(this._rawCount))(Math.ceil(i/c)+2);l[h++]=g;for(s=1;s<i-1;s+=c){for(f=Math.min(s+c,i-1),d=Math.min(s+c*2,i),w=(d+f)/2,m=0,n=f;n<d;n++){if(r=this.getRawIndex(n),o=p[r],isNaN(o))continue;m+=o}m/=d-f,j=s,O=Math.min(s+c,i),y=s-1,_=p[g],v=-1,u=j;for(n=j;n<O;n++){if(r=this.getRawIndex(n),o=p[r],isNaN(o))continue;b=Math.abs((y-w)*(o-_)-(y-n)*(m-_)),b>v&&(v=b,u=r)}l[h++]=u,g=u}return l[h++]=this.getRawIndex(i-1),a._count=h,a._indices=l,a.getRawIndex=this._getRawIdx,a},e.prototype.downSample=function(e,t,n,s){for(var o,l,h,g,r=this.clone([e],!0),v=r._chunks,d=[],a=Math.floor(1/t),m=v[e],c=this.count(),u=r._rawExtent[e]=Is(),f=new(Qs(this._rawCount))(Math.ceil(c/a)),p=0,i=0;i<c;i+=a){a>c-i&&(a=c-i,d.length=a);for(l=0;l<a;l++)g=this.getRawIndex(i+l),d[l]=m[g];o=n(d),h=this.getRawIndex(Math.min(i+s(d,o)||0,c-1)),m[h]=o,o<u[0]&&(u[0]=o),o>u[1]&&(u[1]=o),f[p++]=h}return r._count=p,r._indices=f,r._updateGetRawIdx(),r},e.prototype.each=function(e,t){if(!this._count)return;for(var s,o,a,r=e.length,i=this._chunks,n=0,c=this.count();n<c;n++)switch(o=this.getRawIndex(n),r){case 0:t(n);break;case 1:t(i[e[0]][o],n);break;case 2:t(i[e[0]][o],i[e[1]][o],n);break;default:for(s=0,a=[];s<r;s++)a[s]=i[e[s]][o];a[s]=n,t.apply(null,a)}},e.prototype.getDataExtent=function(e){var t,n,s,o,i,c,l,d,a=this._chunks[e],r=Is();if(!a)return r;if(c=this.count(),l=!this._indices,l)return this._rawExtent[e].slice();if(t=this._extent[e],t)return t.slice();for(t=r,s=t[0],o=t[1],i=0;i<c;i++)d=this.getRawIndex(i),n=a[d],n<s&&(s=n),n>o&&(o=n);return t=[s,o],this._extent[e]=t,t},e.prototype.getRawDataItem=function(e){var t,n,s,o=this.getRawIndex(e);if(this._provider.persistent)return this._provider.getItem(o);for(n=[],s=this._chunks,t=0;t<s.length;t++)n.push(s[t][o]);return n},e.prototype.clone=function(t,n){var s,o=new e,i=this._chunks,a=t&&tt(t,function(e,t){return e[t]=!0,e},{});if(a)for(s=0;s<i.length;s++)o._chunks[s]=a[s]?E5(i[s]):i[s];else o._chunks=i;return this._copyCommonProps(o),n||(o._indices=this._cloneIndices()),o._updateGetRawIdx(),o},e.prototype._copyCommonProps=function(e){e._count=this._count,e._rawCount=this._rawCount,e._provider=this._provider,e._dimensions=this._dimensions,e._extent=c(this._extent),e._rawExtent=c(this._rawExtent)},e.prototype._cloneIndices=function(){if(this._indices){var e,s,n=this._indices.constructor,t=void 0;if(n===Array){s=this._indices.length,t=new n(s);for(e=0;e<s;e++)t[e]=this._indices[e]}else t=new n(this._indices);return t}return null},e.prototype._getRawIdxIdentity=function(e){return e},e.prototype._getRawIdx=function(e){return e<this._count&&e>=0?this._indices[e]:-1},e.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},e.internalField=function(){function e(e,t,n,s){return Za(e[s],this._dimensions[s])}Vd={arrayRows:e,objectRows:function(e,t,n,s){return Za(e[t],this._dimensions[s])},keyedColumns:e,original:function(e,t,n,s){var o=e&&(e.value==null?e:e.value);return Za(o instanceof Array?o[s]:o,this._dimensions[s])},typedArray:function(e,t,n,s){return e[s]}}}(),e}(),Rd=function(){function e(e){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=e}return e.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},e.prototype._setLocalSource=function(e,t){this._sourceList=e,this._upstreamSignList=t,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},e.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},e.prototype.prepareSource=function(){this._isDirty()&&(this._createSource(),this._dirty=!1)},e.prototype._createSource=function(){this._setLocalSource([],[]);var e,t,n,s,o,i,a,r,d,h,m,f,p,g,b,j,c=this._sourceHost,l=this._getUpstreamSourceManagers(),y=!!l.length;wo(c)?(p=c,o=void 0,i=void 0,e=void 0,y?(a=l[0],a.prepareSource(),e=a.getSource(),o=e.data,i=e.sourceFormat,n=[a._getVersionSign()]):(o=p.get("data",!0),i=X(o)?it:be,n=[]),r=this._getSourceMetaRawOption()||{},t=e&&e.metaRawOption||{},m=v(r.seriesLayoutBy,t.seriesLayoutBy)||null,f=v(r.sourceHeader,t.sourceHeader),h=v(r.dimensions,t.dimensions),g=m!==t.seriesLayoutBy||!!f!==!!t.sourceHeader||h,s=g?[fu(o,{seriesLayoutBy:m,sourceHeader:f,dimensions:h},i)]:[]):(b=c,y?(d=this._applyTransform(l),s=d.sourceList,n=d.upstreamSignList):(j=b.get("source",!0),s=[fu(j,this._getSourceMetaRawOption(),null)],n=[])),u(s&&n),this._setLocalSource(s,n)},e.prototype._applyTransform=function(e){var s,a,r,c,o=this._sourceHost,i=o.get("transform",!0),n=o.get("fromTransformResult",!0);return u(n!=null||i!=null),n!=null&&(a="",e.length!==1&&(a="When using `fromTransformResult`, there should be only one upstream dataset",mh(a))),s=[],c=[],t(e,function(e){e.prepareSource();var t=e.getSource(n||0),o="";n!=null&&!t&&(o="Can not retrieve result by `fromTransformResult`: "+n,mh(o)),s.push(t),c.push(e._getVersionSign())}),i?r=z5(i,s,{datasetIndex:o.componentIndex}):n!=null&&(r=[Q5(s[0])]),{sourceList:r,upstreamSignList:c}},e.prototype._isDirty=function(){if(this._dirty)return!0;for(var t,n=this._getUpstreamSourceManagers(),e=0;e<n.length;e++)if(t=n[e],t._isDirty()||this._upstreamSignList[e]!==t._getVersionSign())return!0},e.prototype.getSource=function(e){e=e||0;var t,n=this._sourceList[e];return n||(t=this._getUpstreamSourceManagers(),t[0]&&t[0].getSource(e))},e.prototype.getSharedDataStore=function(e){u(wo(this._sourceHost),"Can only call getDataStore on series source manager.");var t=e.makeStoreSchema();return this._innerGetDataStore(t.dimensions,e.source,t.hash)},e.prototype._innerGetDataStore=function(e,t,n){var s,i,a=0,r=this._storeList,o=r[a];return o||(o=r[a]={}),s=o[n],s||(i=this._getUpstreamSourceManagers()[0],wo(this._sourceHost)&&i?s=i._innerGetDataStore(e,t,n):(s=new za,s.initData(new cu(t,e.length),e)),o[n]=s),s},e.prototype._getUpstreamSourceManagers=function(){var t,e=this._sourceHost;return wo(e)?(t=U0(e),t?[t.getSourceManager()]:[]):r(S7(e),function(e){return e.getSourceManager()})},e.prototype._getSourceMetaRawOption=function(){var t,n,s,o,e=this._sourceHost;return wo(e)?(n=e.get("seriesLayoutBy",!0),s=e.get("sourceHeader",!0),o=e.get("dimensions",!0)):this._getUpstreamSourceManagers().length||(t=e,n=t.get("seriesLayoutBy",!0),s=t.get("sourceHeader",!0),o=t.get("dimensions",!0)),{seriesLayoutBy:n,sourceHeader:s,dimensions:o}},e}();function uh(e){var t=e.option.transform;t&&eo(e.option.transform)}function wo(e){return e.mainType==="series"}function mh(e){throw new Error(e)}Ld="line-height:1";function ph(e,t){var n=e.color||"#6e7079",s=e.fontSize||12,o=e.fontWeight||"400",i=e.color||"#464646",a=e.fontSize||14,r=e.fontWeight||"900";return t==="html"?{nameStyle:"font-size:"+ce(s+"")+"px;color:"+ce(n)+";font-weight:"+ce(o+""),valueStyle:"font-size:"+ce(a+"")+"px;color:"+ce(i)+";font-weight:"+ce(r+"")}:{nameStyle:{fontSize:s,fill:n,fontWeight:o},valueStyle:{fontSize:a,fill:i,fontWeight:r}}}gh=[0,10,20,30],vh=["",`
`,`

`,`


`];function Oo(e,t){return t.type=e,t}function Dd(e){return e.type==="section"}function yh(e){return Dd(e)?C5:x5}function _h(e){if(Dd(e)){var n=0,s=e.blocks.length,o=s>1||s>0&&!e.noHeader;return t(e.blocks,function(e){var t=_h(e);t>=n&&(n=t+ +(o&&(!t||Dd(e)&&!e.noHeader)))}),n}return 0}function C5(e,o,i,a){var c,d,m,f,p,v,g=o.noHeader,l=O5(_h(o)),h=[],r=o.blocks||[];return u(!r||s(r)),r=r||[],c=e.orderMode,o.sortBlocks&&c&&(r=r.slice(),m={valueAsc:"asc",valueDesc:"desc"},st(m,c)?(v=new Xd(m[c],null),r.sort(function(e,t){return v.evaluate(e.sortParam,t.sortParam)})):c==="seriesDesc"&&r.reverse()),t(r,function(t,s){var i=o.valueFormatter,r=yh(t)(i?n(n({},e),{valueFormatter:i}):e,t,s>0?l.html:0,a);r!=null&&h.push(r)}),d=e.renderMode==="richText"?h.join(l.richText):Fd(h.join(""),g?i:l.html),g?d:(f=w1(o.header,"ordinal",e.useUTC),p=ph(a,e.renderMode).nameStyle,e.renderMode==="richText"?Sh(e,f,p)+l.richText+d:Fd('<div style="'+p+";"+Ld+';">'+ce(f)+"</div>"+d,i))}function x5(e,t,n,o){if(l=e.renderMode,i=t.noName,c=t.noValue,a=!t.markerType,p=t.name,u=e.useUTC,f=t.valueFormatter||e.valueFormatter||function(e){return e=s(e)?e:[e],r(e,function(e,t){return w1(e,s(d)?d[t]:d,u)})},i&&c)return;var i,a,c,l,u,f,p,m=a?"":e.markupStyleCreator.makeTooltipMarker(t.markerType,t.markerColor||"#333",l),h=i?"":w1(p,"ordinal",u),d=t.valueType,g=c?[]:f(t.value),v=!a||!i,b=!a&&i,j=ph(o,l),y=j.nameStyle,_=j.valueStyle;return l==="richText"?(a?"":m)+(i?"":Sh(e,h,y))+(c?"":y5(e,g,v,b,_)):Fd((a?"":m)+(i?"":w5(h,!a,y))+(c?"":_5(g,v,b,_)),n)}function xh(e,t,n,s,o,i){if(!e)return;var a=yh(e),r={useUTC:o,renderMode:n,orderMode:s,markupStyleCreator:t,valueFormatter:e.valueFormatter};return a(r,e,0,i)}function O5(e){return{html:gh[e],richText:vh[e]}}function Fd(e,t){var n='<div style="clear:both"></div>',s="margin: "+t+"px 0 0";return'<div style="'+s+";"+Ld+';">'+e+n+"</div>"}function w5(e,t,n){var s=t?"margin-left:2px":"";return'<span style="'+n+";"+s+'">'+ce(e)+"</span>"}function _5(e,t,n,o){var i=n?"10px":"20px",a=t?"float:right;margin-left:"+i:"";return e=s(e)?e:[e],'<span style="'+a+";"+o+'">'+r(e,function(e){return ce(e)}).join("&nbsp;&nbsp;")+"</span>"}function Sh(e,t,n){return e.markupStyleCreator.wrapRichTextStyle(t,n)}function y5(e,t,n,o,i){var a=[i],r=o?10:20;return n&&a.push({padding:[0,0,0,r],align:"right"}),e.markupStyleCreator.wrapRichTextStyle(s(t)?t.join("  "):t,a)}function j5(e,t){var n=e.getData().getItemVisual(t,"style"),s=n[e.visualDrawType];return Xs(s)}function Th(e,t){var n=e.get("padding");return n??(t==="richText"?[8,10]:10)}Aa=function(){function e(){this.richTextStyles={},this._nextStyleNameId=j2()}return e.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},e.prototype.makeTooltipMarker=function(e,t,n){var o=n==="richText"?this._generateStyleName():null,s=l0({color:t,type:e,renderMode:n,markerId:o});return i(s)?s:(u(o),this.richTextStyles[o]=s.style,s.content)},e.prototype.wrapRichTextStyle=function(e,o){var a,i={};return s(o)?t(o,function(e){return n(i,e)}):n(i,o),a=this._generateStyleName(),this.richTextStyles[a]=i,"{"+a+"|"+e+"}"},e}();function b5(e){var o,i,c,d,h,m,f,g,b,j,t=e.series,n=e.dataIndex,v=e.multipleSeries,l=t.getData(),r=l.mapDimensionsAll("defaultedTooltip"),u=r.length,a=t.getRawValue(n),p=s(a),y=j5(t,n);return u>1||p&&!u?(o=g5(a,t,n,r,y),c=o.inlineValues,m=o.inlineValueTypes,b=o.blocks,i=o.inlineValues[0]):u?(g=l.getDimensionInfo(r[0]),i=c=hr(l,n,r[0]),m=g.type):i=c=p?a[0]:a,d=q3(t),f=d&&t.name||"",j=l.getName(n),h=v?f:j,Oo("section",{header:f,noHeader:v||!d,sortParam:i,blocks:[Oo("nameValue",{markerType:"item",markerColor:y,name:h,noName:!Xe(h),value:c,valueType:m})].concat(b||[])})}function g5(e,n,s,o,i){var a=n.getData(),u=tt(e,function(e,t,n){var s=a.getDimensionInfo(n);return e=e||s&&s.tooltip!==!1&&s.displayName!=null},!1),r=[],c=[],l=[];o.length?t(o,function(e){d(hr(a,s,e),e)}):t(e,d);function d(e,t){var n=a.getDimensionInfo(t);if(!n||n.otherDims.tooltip===!1)return;u?l.push(Oo("nameValue",{markerType:"subItem",markerColor:i,name:n.displayName,value:e,valueType:n.type})):(r.push(e),c.push(n.type))}return{inlineValues:r,inlineValueTypes:c,blocks:l}}ht=S();function ka(e,t){return e.getName(t)||e.getId(t)}Ph="__universalTransitionEnabled",Te=function(e){o(t,e);function t(){var t=e!==null&&e.apply(this,arguments)||this;return t._selectedDataIndicesMap={},t}return t.prototype.init=function(e,t,n){this.seriesIndex=this.componentIndex,this.dataTask=yo({count:f5,reset:m5}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(e,n);var s,o=ht(this).sourceManager=new Rd(this);o.prepareSource(),s=this.getInitialData(e,n),Uh(s,this),this.dataTask.context.data=s,u(s,"getInitialData returned invalid data."),ht(this).dataBeforeProcessed=s,Ih(this),this._initSelectedMapFromData(s)},t.prototype.mergeDefaultAndTheme=function(e,t){var n=Qa(this),o=n?a1(e):{},s=this.subType;p.hasClass(s)&&(s+="Series"),w(e,t.getTheme().get(this.subType)),w(e,this.getDefaultOption()),j3(e,"label",["show"]),this.fillDataTextStyle(e.data),n&&no(e,o,n)},t.prototype.mergeOption=function(e,t){e=w(this.option,e,!0),this.fillDataTextStyle(e.data);var n,s,o=Qa(this);o&&no(this.option,e,o),s=ht(this).sourceManager,s.dirty(),s.prepareSource(),n=this.getInitialData(e,t),Uh(n,this),this.dataTask.dirty(),this.dataTask.context.data=n,ht(this).dataBeforeProcessed=n,Ih(this),this._initSelectedMapFromData(n)},t.prototype.fillDataTextStyle=function(e){if(e&&!X(e))for(var n=["show"],t=0;t<e.length;t++)e[t]&&e[t].label&&j3(e[t],"label",n)},t.prototype.getInitialData=function(){},t.prototype.appendData=function(e){var t=this.getRawData();t.appendData(e.data)},t.prototype.getData=function(e){var t,n=_d(this);return n?(t=n.context.data,e==null?t:t.getLinkedData(e)):ht(this).data},t.prototype.getAllData=function(){var e=this.getData();return e&&e.getLinkedDataAll?e.getLinkedDataAll():[{data:e}]},t.prototype.setData=function(e){var n,t=_d(this);t&&(n=t.context,n.outputData=e,t!==this.dataTask&&(n.data=e)),ht(this).data=e},t.prototype.getEncode=function(){var e=this.get("encode",!0);if(e)return m(e)},t.prototype.getSourceManager=function(){return ht(this).sourceManager},t.prototype.getSource=function(){return this.getSourceManager().getSource()},t.prototype.getRawData=function(){return ht(this).dataBeforeProcessed},t.prototype.getColorBy=function(){var e=this.get("colorBy");return e||"series"},t.prototype.isColorBySeries=function(){return this.getColorBy()==="series"},t.prototype.getBaseAxis=function(){var e=this.coordinateSystem;return e&&e.getBaseAxis&&e.getBaseAxis()},t.prototype.formatTooltip=function(e,t){return b5({series:this,dataIndex:e,multipleSeries:t})},t.prototype.isAnimationEnabled=function(){var e,t=this.ecModel;return!(l.node&&!(t&&t.ssr))&&(e=this.getShallow("animation"),e&&this.getData().count()>this.getShallow("animationThreshold")&&(e=!1),!!e)},t.prototype.restoreData=function(){this.dataTask.dirty()},t.prototype.getColorFromPalette=function(e,t,n){var o=this.ecModel,s=Wr.prototype.getColorFromPalette.call(this,e,t,n);return s||(s=o.getColorFromPalette(e,t,n)),s},t.prototype.coordDimToDataDim=function(e){return this.getRawData().mapDimensionsAll(e)},t.prototype.getProgressive=function(){return this.get("progressive")},t.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},t.prototype.select=function(e,t){this._innerSelect(this.getData(t),e)},t.prototype.unselect=function(e,t){var n,o,i,a,r,s=this.option.selectedMap;if(!s)return;if(i=this.option.selectedMode,a=this.getData(t),i==="series"||s==="all"){this.option.selectedMap={},this._selectedDataIndicesMap={};return}for(n=0;n<e.length;n++)r=e[n],o=ka(a,r),s[o]=!1,this._selectedDataIndicesMap[o]=-1},t.prototype.toggleSelect=function(e,t){for(var s=[],n=0;n<e.length;n++)s[0]=e[n],this.isSelected(e[n],t)?this.unselect(s,t):this.select(s,t)},t.prototype.getSelectedDataIndices=function(){if(this.option.selectedMap==="all")return[].slice.call(this.getData().getIndices());for(var t,n=this._selectedDataIndicesMap,s=k(n),o=[],e=0;e<s.length;e++)t=n[s[e]],t>=0&&o.push(t);return o},t.prototype.isSelected=function(e,t){var s,n=this.option.selectedMap;return!!n&&(s=this.getData(t),(n==="all"||n[ka(s,e)])&&!s.getItemModel(e).get(["select","disabled"]))},t.prototype.isUniversalTransitionEnabled=function(){if(this[Ph])return!0;var e=this.option.universalTransition;return!!e&&(e===!0||e&&e.enabled)},t.prototype._innerSelect=function(e,t){var s,i,r,c,d,u,h,n=this.option,o=n.selectedMode,l=t.length;if(!o||!l)return;if(o==="series")n.selectedMap="all";else if(o==="multiple"){a(n.selectedMap)||(n.selectedMap={});for(h=n.selectedMap,i=0;i<l;i++)d=t[i],s=ka(e,d),h[s]=!0,this._selectedDataIndicesMap[s]=e.getRawIndex(d)}else(o==="single"||o===!0)&&(u=t[l-1],s=ka(e,u),n.selectedMap=(r={},r[s]=!0,r),this._selectedDataIndicesMap=(c={},c[s]=e.getRawIndex(u),c))},t.prototype._initSelectedMapFromData=function(e){if(this.option.selectedMap)return;var t=[];e.hasItemOption&&e.each(function(n){var s=e.getRawDataItem(n);s&&s.selected&&t.push(n)}),t.length>0&&this._innerSelect(e,t)},t.registerClass=function(e){return p.registerClass(e)},t.protoInitialize=function(){var e=t.prototype;e.type="series.__base__",e.seriesIndex=0,e.ignoreStyleOnData=!1,e.hasSymbolVisual=!1,e.defaultSymbol="circle",e.visualStyleAccessPath="itemStyle",e.visualDrawType="fill"}(),t}(p),Ye(Te,A3),Ye(Te,Wr),F8(Te,p);function Ih(e){var t=e.name;q3(e)||(e.name=p5(e)||t)}function p5(e){var n=e.getRawData(),o=n.mapDimensionsAll("seriesName"),s=[];return t(o,function(e){var t=n.getDimensionInfo(e);t.displayName&&s.push(t.displayName)}),s.join(" ")}function f5(e){return e.model.getRawData().count()}function m5(e){var t=e.model;return t.setData(t.getRawData().cloneShallow()),u5}function u5(e,t){t.outputData&&e.end>t.outputData.count()&&t.model.getRawData().cloneShallow(t.outputData)}function Uh(e,n){t(d6(e.CHANGABLE_METHODS,e.DOWNSAMPLE_METHODS),function(t){e.wrapMethod(t,se(d5,n))})}function d5(e,t){var n=_d(e);return n&&n.setOutputEnd((t||this).count()),t}function _d(e){var t,n,s=(e.ecModel||{}).scheduler,o=s&&s.getPipeline(e.uid);if(o)return t=o.currentTask,t&&(n=t.agentStubMap,n&&(t=n.get(e.uid))),t}$=function(){function e(){this.group=new Z,this.uid=ua("viewComponent")}return e.prototype.init=function(){},e.prototype.render=function(){},e.prototype.dispose=function(){},e.prototype.updateView=function(){},e.prototype.updateLayout=function(){},e.prototype.updateVisual=function(){},e.prototype.blurSeries=function(){},e.prototype.eachRendered=function(e){var t=this.group;t&&t.traverse(e)},e}(),$l($),Ja($);function l5(){var e=S();return function(t){var n=e(t),s=t.pipelineContext,o=!!n.large,i=!!n.progressiveRender,a=n.large=!!(s&&s.large),r=n.progressiveRender=!!(s&&s.progressiveRender);return(o!==a||i!==r)&&"reset"}}vd=S(),Qh=l5(),Re=function(){function e(){this.group=new Z,this.uid=ua("viewChart"),this.renderTask=yo({plan:c5,reset:r5}),this.renderTask.context={view:this}}return e.prototype.init=function(){},e.prototype.render=function(){throw new Error("render method must been implemented")},e.prototype.highlight=function(e,t,n,s){var o=e.getData(s&&s.dataType);if(!o){K("Unknown dataType "+s.dataType);return}em(o,s,"emphasis")},e.prototype.downplay=function(e,t,n,s){var o=e.getData(s&&s.dataType);if(!o){K("Unknown dataType "+s.dataType);return}em(o,s,"normal")},e.prototype.remove=function(){this.group.removeAll()},e.prototype.dispose=function(){},e.prototype.updateView=function(e,t,n,s){this.render(e,t,n,s)},e.prototype.updateLayout=function(e,t,n,s){this.render(e,t,n,s)},e.prototype.updateVisual=function(e,t,n,s){this.render(e,t,n,s)},e.prototype.eachRendered=function(e){k1(this.group,e)},e.markUpdateMethod=function(e,t){vd(e).updateMethod=t},e.protoInitialize=function(){var t=e.prototype;t.type="chart"}(),e}();function Jh(e,t,n){e&&Ps(e)&&(t==="emphasis"?Zl:Jl)(e,n)}function em(e,n,s){var o=Co(e,n),i=n&&n.highlightKey!=null?Fv(n.highlightKey):null;o!=null?t(N(o),function(t){Jh(e.getItemGraphicEl(t),s,i)}):e.eachItemGraphicEl(function(e){Jh(e,s,i)})}$l(Re,["dispose"]),Ja(Re);function c5(e){return Qh(e.model)}function r5(e){var o=e.model,a=e.ecModel,r=e.api,t=e.payload,c=o.pipelineContext.progressiveRender,i=e.view,n=t&&vd(t).updateMethod,s=c?"incrementalPrepareRender":n&&i[n]?n:"render";return s!=="render"&&i[s](o,a,r,t),sm[s]}sm={incrementalPrepareRender:{progress:function(e,t){t.view.incrementalRender(e,t.model,t.ecModel,t.api,t.payload)}},render:{forceFirstProgress:!0,progress:function(e,t){t.view.render(t.model,t.ecModel,t.api,t.payload)}}},Do="\0__throttleOriginMethod",pd="\0__throttleRate",md="\0__throttleType";function ud(e,t,n){var o,i,a,r,u,h,l=0,d=0,s=null;t=t||0;function c(){d=(new Date).getTime(),s=null,e.apply(u,h||[])}return i=function(){for(var i,m,f=[],e=0;e<arguments.length;e++)f[e]=arguments[e];a=(new Date).getTime(),u=this,h=f,i=o||t,m=o||n,o=null,r=a-(m?l:d)-i,clearTimeout(s),m?s=setTimeout(c,i):r>=0?c():s=setTimeout(c,-r),l=a},i.clear=function(){s&&(clearTimeout(s),s=null)},i.debounceNextCall=function(e){o=e},i}function cm(e,t,n,s){var i,a,r,o=e[t];if(!o)return;if(i=o[Do]||o,a=o[md],r=o[pd],r!==n||a!==s){if(n==null||!s)return e[t]=i;o=e[t]=ud(i,n,s==="debounce"),o[Do]=i,o[md]=s,o[pd]=n}return o}function dd(e,t){var n=e[t];n&&n[Do]&&(n.clear&&n.clear(),e[t]=n[Do])}cd=S(),id={itemStyle:co(Z1,!0),lineStyle:co(G1,!0)},hm={lineStyle:"stroke",itemStyle:"fill"};function mm(e,t){var n=e.visualStyleMapper||id[t];return n||(console.warn("Unkown style type '"+t+"'."),id.itemStyle)}function fm(e,t){var n=e.visualDrawType||hm[t];return n||(console.warn("Unkown style type '"+t+"'."),"fill")}pm={createOnAllSeries:!0,performRawSeries:!0,reset:function(e,t){var o,a,r,u,m,i=e.getData(),c=e.visualStyleAccessPath||"itemStyle",h=e.getModel(c),f=mm(e,c),s=f(h),l=h.getShallow("decal");if(l&&(i.setVisual("decal",l),l.dirty=!0),o=fm(e,c),u=s[o],a=d(u)?u:null,m=s.fill==="auto"||s.stroke==="auto",(!s[o]||a||m)&&(r=e.getColorFromPalette(e.name,null,t.getSeriesCount()),s[o]||(s[o]=r,i.setVisual("colorFromPalette",!0)),s.fill=s.fill==="auto"||d(s.fill)?r:s.fill,s.stroke=s.stroke==="auto"||d(s.stroke)?r:s.stroke),i.setVisual("style",s),i.setVisual("drawType",o),!t.isSeriesFiltered(e)&&a)return i.setVisual("colorFromPalette",!1),{dataEach:function(t,i){var c=e.getDataParams(i),r=n({},s);r[o]=a(c),t.setItemVisual(i,"style",r)}}}},ws=new C,vm={createOnAllSeries:!0,performRawSeries:!0,reset:function(e,t){if(e.ignoreStyleOnData||t.isSeriesFiltered(e))return;var o=e.getData(),s=e.visualStyleAccessPath||"itemStyle",i=mm(e,s),a=o.getVisual("drawType");return{dataEach:o.hasItemOption?function(e,t){var r,c,o=e.getRawDataItem(t);o&&o[s]&&(ws.option=o[s],r=i(ws),c=e.ensureUniqueItemVisual(t,"style"),n(c,r),ws.option.decal&&(e.setItemVisual(t,"decal",ws.option.decal),ws.option.decal.dirty=!0),a in r&&e.setItemVisual(t,"colorFromPalette",!1))}:null}}},bm={performRawSeries:!0,overallReset:function(e){var t=m();e.eachSeries(function(e){var n,s,o=e.getColorBy();if(e.isColorBySeries())return;s=e.type+"-"+o,n=t.get(s),n||(n={},t.set(s,n)),cd(e).scope=n}),e.eachSeries(function(t){if(t.isColorBySeries()||e.isSeriesFiltered(t))return;var s=t.getRawData(),o={},n=t.getData(),i=cd(t).scope,a=t.visualStyleAccessPath||"itemStyle",r=fm(t,a);n.each(function(e){var t=n.getRawIndex(e);o[t]=e}),s.each(function(e){var c,l,d,a=o[e],u=n.getItemVisual(a,"colorFromPalette");u&&(c=n.ensureUniqueItemVisual(a,"style"),l=s.getName(e)||e+"",d=s.count(),c[r]=t.getColorFromPalette(l,i,d))})})}},Bo=Math.PI;function a5(e,t){t=t||{},x(t,{text:"loading",textColor:"#000",fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#5470c6",spinnerRadius:10,lineWidth:5,zlevel:0});var s,o,i,n=new Z,a=new T({style:{fill:t.maskColor},zlevel:t.zlevel,z:1e4});return n.add(a),o=new A({style:{text:t.text,fill:t.textColor,fontSize:t.fontSize,fontWeight:t.fontWeight,fontStyle:t.fontStyle,fontFamily:t.fontFamily},zlevel:t.zlevel,z:10001}),i=new T({style:{fill:"none"},textContent:o,textConfig:{position:"right",distance:10},zlevel:t.zlevel,z:10001}),n.add(i),t.showSpinner&&(s=new Wn({shape:{startAngle:-Bo/2,endAngle:-Bo/2+.1,r:t.spinnerRadius},style:{stroke:t.color,lineCap:"round",lineWidth:t.lineWidth},zlevel:t.zlevel,z:10001}),s.animateShape(!0).when(1e3,{endAngle:Bo*3/2}).start("circularInOut"),s.animateShape(!0).when(1e3,{startAngle:Bo*3/2}).delay(300).start("circularInOut"),n.add(s)),n.resize=function(){var n=o.getBoundingRect().width,r=t.showSpinner?t.spinnerRadius:0,c=(e.getWidth()-r*2-(t.showSpinner&&n?10:0)-n)/2-(t.showSpinner&&n?0:5+n/2)+(t.showSpinner?0:n/2)+(n?0:r),l=e.getHeight()/2;t.showSpinner&&s.setShape({cx:c,cy:l}),i.setShape({x:c-r,y:l-r,width:r*2,height:r*2}),a.setShape({x:0,y:0,width:e.getWidth(),height:e.getHeight()})},n.resize(),n}sd=function(){function e(e,t,n,s){this._stageTaskMap=m(),this.ecInstance=e,this.api=t,n=this._dataProcessorHandlers=n.slice(),s=this._visualHandlers=s.slice(),this._allHandlers=n.concat(s)}return e.prototype.restoreData=function(e,t){e.restoreData(t),this._stageTaskMap.each(function(e){var t=e.overallTask;t&&t.dirty()})},e.prototype.getPerformArgs=function(e,t){if(!e.__pipeline)return;var n=this._pipelineMap.get(e.__pipeline.id),s=n.context,a=!t&&n.progressiveEnabled&&(!s||s.progressiveRender)&&e.__idxInPipeline>n.blockIndex,i=a?n.step:null,o=s&&s.modDataCount,r=o!=null?Math.ceil(o/i):null;return{step:i,modBy:r,modDataCount:o}},e.prototype.getPipeline=function(e){return this._pipelineMap.get(e)},e.prototype.updateStreamModes=function(e,t){var n=this._pipelineMap.get(e.uid),o=e.getData(),s=o.count(),i=n.progressiveEnabled&&t.incrementalPrepareRender&&s>=n.threshold,a=e.get("large")&&s>=e.get("largeThreshold"),r=e.get("progressiveChunkMode")==="mod"?s:null;e.pipelineContext=n.context={progressiveRender:i,modDataCount:r,large:a}},e.prototype.restorePipelines=function(e){var t=this,n=t._pipelineMap=m();e.eachSeries(function(e){var s=e.getProgressive(),o=e.uid;n.set(o,{id:o,head:null,tail:null,threshold:e.getProgressiveThreshold(),progressiveEnabled:s&&!(e.preventIncremental&&e.preventIncremental()),blockIndex:-1,step:Math.round(s||700),count:0}),t._pipe(e,e.dataTask)})},e.prototype.prepareStageTasks=function(){var e=this._stageTaskMap,n=this.api.getModel(),s=this.api;t(this._allHandlers,function(t){var o=e.get(t.uid)||e.set(t.uid,{}),i="";i='"reset" and "overallReset" must not be both specified.',u(!t.reset||!t.overallReset,i),t.reset&&this._createSeriesStageTask(t,o,n,s),t.overallReset&&this._createOverallStageTask(t,o,n,s)},this)},e.prototype.prepareView=function(e,t,n,s){var o=e.renderTask,i=o.context;i.model=t,i.ecModel=n,i.api=s,o.__block=!e.incrementalPrepareRender,this._pipe(t,o)},e.prototype.performDataProcessorTasks=function(e,t){this._performStageTasks(this._dataProcessorHandlers,e,t,{block:!0})},e.prototype.performVisualTasks=function(e,t,n){this._performStageTasks(this._visualHandlers,e,t,n)},e.prototype._performStageTasks=function(e,n,s,o){o=o||{};var a=!1,i=this;t(e,function(e){if(o.visualType&&o.visualType!==e.visualType)return;var l,d,m,u=i._stageTaskMap.get(e.uid),h=u.seriesTaskMap,c=u.overallTask;c?(l=c.agentStubMap,l.each(function(e){r(o,e)&&(e.dirty(),m=!0)}),m&&c.dirty(),i.updatePayload(c,s),d=i.getPerformArgs(c,o.block),l.each(function(e){e.perform(d)}),c.perform(d)&&(a=!0)):h&&h.each(function(t){r(o,t)&&t.dirty();var l=i.getPerformArgs(t,o.block);l.skip=!e.performRawSeries&&n.isSeriesFiltered(t.context.model),i.updatePayload(t,s),t.perform(l)&&(a=!0)})});function r(e,t){return e.setDirty&&(!e.dirtyMap||e.dirtyMap.get(t.__pipeline.id))}this.unfinished=a||this.unfinished},e.prototype.performSeriesTasks=function(e){var t;e.eachSeries(function(e){t=e.dataTask.perform()||t}),this.unfinished=t||this.unfinished},e.prototype.plan=function(){this._pipelineMap.each(function(e){var t=e.tail;do{if(t.__block){e.blockIndex=t.__idxInPipeline;break}t=t.getUpstream()}while(t)})},e.prototype.updatePayload=function(e,t){t!=="remain"&&(e.context.payload=t)},e.prototype._createSeriesStageTask=function(e,t,n,s){var i=this,a=t.seriesTaskMap,l=t.seriesTaskMap=m(),r=e.seriesType,c=e.getTargetSeries;e.createOnAllSeries?n.eachRawSeries(o):r?n.eachRawSeriesByType(r,o):c&&c(n,s).each(o);function o(t){var o=t.uid,r=l.set(o,a&&a.get(o)||yo({plan:Zg,reset:Xg,count:Gg}));r.context={model:t,ecModel:n,api:s,useClearVisual:e.isVisual&&!e.isLayout,plan:e.plan,reset:e.reset,scheduler:i},i._pipe(t,r)}},e.prototype._createOverallStageTask=function(e,n,s,o){var a,r,c,l,d,h,g,p=this,i=n.overallTask=n.overallTask||yo({reset:i5});i.context={ecModel:s,api:o,overallReset:e.overallReset,scheduler:p},r=i.agentStubMap,g=i.agentStubMap=m(),c=e.seriesType,l=e.getTargetSeries,a=!0,d=!1,h="",h='"createOnAllSeries" do not supported for "overallReset", becuase it will block all streams.',u(!e.createOnAllSeries,h),c?s.eachRawSeriesByType(c,f):l?l(s,o).each(f):(a=!1,t(s.getSeries(),f));function f(e){var n=e.uid,t=g.set(n,r&&r.get(n)||(d=!0,yo({reset:o5,onDirty:n5})));t.context={model:e,overallProgress:a},t.agent=i,t.__block=a,p._pipe(e,t)}d&&i.dirty()},e.prototype._pipe=function(e,t){var s=e.uid,n=this._pipelineMap.get(s);!n.head&&(n.head=t),n.tail&&n.tail.pipe(t),n.tail=t,t.__idxInPipeline=n.count++,t.__pipeline=n},e.wrapStageHandler=function(e,t){return d(e)&&(e={overallReset:e,seriesType:Yg(e)}),e.uid=ua("stageHandler"),t&&(e.visualType=t),e},e}();function i5(e){e.overallReset(e.ecModel,e.api,e.payload)}function o5(e){return e.overallProgress&&s5}function s5(){this.agent.dirty(),this.getDownstream().dirty()}function n5(){this.agent&&this.agent.dirty()}function Zg(e){return e.plan?e.plan(e.model,e.ecModel,e.api,e.payload):null}function Xg(e){e.useClearVisual&&e.data.clearAllVisual();var t=e.resetDefines=N(e.reset(e.model,e.ecModel,e.api,e.payload));return t.length>1?r(t,function(e,t){return Sm(t)}):Am}Am=Sm(0);function Sm(e){return function(t,n){var o,i=n.data,s=n.resetDefines[e];if(s&&s.dataEach)for(o=t.start;o<t.end;o++)s.dataEach(i,o);else s&&s.progress&&s.progress(t,i)}}function Gg(e){return e.data.count()}function Yg(e){ya=null;try{e(hs,Ql)}catch{}return ya}hs={},Ql={},Nm(hs,Jr),Nm(Ql,Su),hs.eachSeriesByType=hs.eachRawSeriesByType=function(e){ya=e},hs.eachComponent=function(e){e.mainType==="series"&&e.subType&&(ya=e.subType)};function Nm(e,t){for(var n in t.prototype)e[n]=G}Xl=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"],Rm={color:Xl,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],Xl]},Y="#B9B8CE",Gl="#100C2A",li=function(){return{axisLine:{lineStyle:{color:Y}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}}},ql=["#4992ff","#7cffb2","#fddd60","#ff6e76","#58d9f9","#05c091","#ff8a45","#8d48e3","#dd79ff"],Kl={darkMode:!0,color:ql,backgroundColor:Gl,axisPointer:{lineStyle:{color:"#817f91"},crossStyle:{color:"#817f91"},label:{color:"#fff"}},legend:{textStyle:{color:Y}},textStyle:{color:Y},title:{textStyle:{color:"#EEF1FA"},subtextStyle:{color:"#B9B8CE"}},toolbox:{iconStyle:{borderColor:Y}},dataZoom:{borderColor:"#71708A",textStyle:{color:Y},brushStyle:{color:"rgba(135,163,206,0.3)"},handleStyle:{color:"#353450",borderColor:"#C5CBE3"},moveHandleStyle:{color:"#B0B6C3",opacity:.3},fillerColor:"rgba(135,163,206,0.2)",emphasis:{handleStyle:{borderColor:"#91B7F2",color:"#4D587D"},moveHandleStyle:{color:"#636D9A",opacity:.7}},dataBackground:{lineStyle:{color:"#71708A",width:1},areaStyle:{color:"#71708A"}},selectedDataBackground:{lineStyle:{color:"#87A3CE"},areaStyle:{color:"#87A3CE"}}},visualMap:{textStyle:{color:Y}},timeline:{lineStyle:{color:Y},label:{color:Y},controlStyle:{color:Y,borderColor:Y}},calendar:{itemStyle:{color:Gl},dayLabel:{color:Y},monthLabel:{color:Y},yearLabel:{color:Y}},timeAxis:li(),logAxis:li(),valueAxis:li(),categoryAxis:li(),line:{symbol:"circle"},graph:{color:ql},gauge:{title:{color:Y},axisLine:{lineStyle:{color:[[1,"rgba(207,212,219,0.2)"]]}},axisLabel:{color:Y},detail:{color:"#EEF1FA"}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}}},Kl.categoryAxis.splitLine.show=!1,$m=function(){function e(){}return e.prototype.normalizeQuery=function(e){var s,o,c,n={},a={},r={};return i(e)?(s=rt(e),n.mainType=s.main||null,n.subType=s.sub||null):(o=["Index","Name","Id"],c={name:1,dataIndex:1,dataType:1},t(e,function(e,t){for(var s,i,u,l=!1,d=0;d<o.length;d++)s=o[d],i=t.lastIndexOf(s),i>0&&i===t.length-s.length&&(u=t.slice(0,i),u!=="data"&&(n.mainType=u,n[s.toLowerCase()]=e,l=!0));c.hasOwnProperty(t)&&(a[t]=e,l=!0),l||(r[t]=e)})),{cptQuery:n,dataQuery:a,otherQuery:r}},e.prototype.filter=function(e,t){var s,o,a,r,c,l,i=this.eventInfo;return!i||(l=i.targetEl,a=i.packedEvent,s=i.model,r=i.view,!s||!r||(o=t.cptQuery,c=t.dataQuery,n(o,s,"mainType")&&n(o,s,"subType")&&n(o,s,"index","componentIndex")&&n(o,s,"name")&&n(o,s,"id")&&n(c,a,"name")&&n(c,a,"dataIndex")&&n(c,a,"dataType")&&(!r.filterForExposedEvent||r.filterForExposedEvent(e,t.otherQuery,l,a))));function n(e,t,n,s){return e[n]==null||t[s||n]===e[n]}},e.prototype.afterTrigger=function(){this.eventInfo=null},e}(),da=["symbol","symbolSize","symbolRotate","symbolOffset"],Ul=da.concat(["symbolKeepAspect"]),Km={createOnAllSeries:!0,performRawSeries:!0,reset:function(e,t){var s,o,i,a,r,c,l,u=e.getData();if(e.legendIcon&&u.setVisual("legendIcon",e.legendIcon),!e.hasSymbolVisual)return;for(s={},o={},c=!1,i=0;i<da.length;i++)a=da[i],r=e.get(a),d(r)?(c=!0,o[a]=r):s[a]=r;if(s.symbol=s.symbol||e.defaultSymbol,u.setVisual(n({legendIcon:e.legendIcon||s.symbol,symbolKeepAspect:e.get("symbolKeepAspect")},s)),t.isSeriesFiltered(e))return;l=k(o);function h(t,n){for(var i,a=e.getRawValue(n),r=e.getDataParams(n),s=0;s<l.length;s++)i=l[s],t.setItemVisual(n,i,o[i](a,r))}return{dataEach:c?h:null}}},qm={createOnAllSeries:!0,performRawSeries:!0,reset:function(e,t){if(!e.hasSymbolVisual)return;if(t.isSeriesFiltered(e))return;var n=e.getData();function s(e,t){for(var s,o,i=e.getItemModel(t),n=0;n<Ul.length;n++)s=Ul[n],o=i.getShallow(s,!0),o!=null&&e.setItemVisual(t,s,o)}return{dataEach:n.hasItemOption?s:null}}};function Ym(e,t,n){switch(n){case"color":var s=e.getItemVisual(t,"style");return s[e.getVisual("drawType")];case"opacity":return e.getItemVisual(t,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return e.getItemVisual(t,n);default:console.warn("Unknown visual type "+n)}}function Gm(e,t){switch(t){case"color":var n=e.getVisual("style");return n[e.getVisual("drawType")];case"opacity":return e.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return e.getVisual(t);default:console.warn("Unknown visual type "+t)}}function qg(e,t,n,s){switch(n){case"color":var o=e.ensureUniqueItemVisual(t,"style");o[e.getVisual("drawType")]=s,e.setItemVisual(t,"colorFromPalette",!1);break;case"opacity":e.ensureUniqueItemVisual(t,"style").opacity=s;break;case"symbol":case"symbolSize":case"liftZ":e.setItemVisual(t,n,s);break;default:console.warn("Unknown visual type "+n)}}function ts(e,t,o,a,r){var c=e+t;o.isSilent(c)||(Ge("event "+c+" is deprecated."),a.eachComponent({mainType:"series",subType:"pie"},function(e){for(var t,a,h=e.seriesIndex,l=e.option.selectedMap,u=r.selected,d=0;d<u.length;d++)u[d].seriesIndex===h&&(t=e.getData(),a=Co(t,r.fromActionPayload),o.trigger(c,{type:c,seriesId:e.id,name:s(a)?t.getName(a[0]):t.getName(a),selected:i(l)?l:n({},l)}))}))}function Kg(e,t,n){e.on("selectchanged",function(e){var s=n.getModel();e.isFromClick?(ts("map","selectchanged",t,s,e),ts("pie","selectchanged",t,s,e)):e.fromAction==="select"?(ts("map","selected",t,s,e),ts("pie","selected",t,s,e)):e.fromAction==="unselect"&&(ts("map","unselected",t,s,e),ts("pie","unselected",t,s,e))})}function Oi(e,t,n){for(var s;e;){if(t(e)&&(s=e,n))break;e=e.__hostTarget||e.parent}return s}e8=Math.round(Math.random()*9),t8=typeof Object.defineProperty=="function",n8=function(){function e(){this._id="__ec_inner_"+e8++}return e.prototype.get=function(e){return this._guard(e)[this._id]},e.prototype.set=function(e,t){var n=this._guard(e);return t8?Object.defineProperty(n,this._id,{value:t,enumerable:!1,configurable:!0}):n[this._id]=t,this},e.prototype.delete=function(e){return!!this.has(e)&&(delete this._guard(e)[this._id],!0)},e.prototype.has=function(e){return!!this._guard(e)[this._id]},e.prototype._guard=function(e){if(e!==Object(e))throw TypeError("Value of WeakMap is not a non-null object.");return e},e}(),s8=O.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(e,t){var n=t.cx,s=t.cy,i=t.width/2,o=t.height/2;e.moveTo(n,s-o),e.lineTo(n+i,s+o),e.lineTo(n-i,s+o),e.closePath()}}),o8=O.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(e,t){var n=t.cx,s=t.cy,o=t.width/2,i=t.height/2;e.moveTo(n,s-i),e.lineTo(n+o,s),e.lineTo(n,s+i),e.lineTo(n-o,s),e.closePath()}}),i8=O.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(e,t){var s=t.x,c=t.y,m=t.width/5*3,d=Math.max(m,t.height),n=m/2,o=n*n/(d-n),i=c-d+n+o,a=Math.asin(o/n),r=Math.cos(a)*n,u=Math.sin(a),h=Math.cos(a),l=n*.6,f=n*.7;e.moveTo(s-r,i+o),e.arc(s,i,n,Math.PI-a,Math.PI*2+a),e.bezierCurveTo(s+r-u*l,i+o+h*l,s,c-f,s,c),e.bezierCurveTo(s,c-f,s-r+u*l,i+o+h*l,s-r,i+o),e.closePath()}}),a8=O.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(e,t){var o=t.height,a=t.width,n=t.x,s=t.y,i=a/3*2;e.moveTo(n,s),e.lineTo(n+i,s+o),e.lineTo(n,s+o/4*3),e.lineTo(n-i,s+o),e.lineTo(n,s),e.closePath()}}),r8={line:Lt,rect:T,roundRect:T,square:T,circle:ms,diamond:o8,pin:i8,arrow:a8,triangle:s8},c8={line:function(e,t,n,s,o){o.x1=e,o.y1=t+s/2,o.x2=e+n,o.y2=t+s/2},rect:function(e,t,n,s,o){o.x=e,o.y=t,o.width=n,o.height=s},roundRect:function(e,t,n,s,o){o.x=e,o.y=t,o.width=n,o.height=s,o.r=Math.min(n,s)/4},square:function(e,t,n,s,o){var i=Math.min(n,s);o.x=e,o.y=t,o.width=i,o.height=i},circle:function(e,t,n,s,o){o.cx=e+n/2,o.cy=t+s/2,o.r=Math.min(n,s)/2},diamond:function(e,t,n,s,o){o.cx=e+n/2,o.cy=t+s/2,o.width=n,o.height=s},pin:function(e,t,n,s,o){o.x=e+n/2,o.y=t+s/2,o.width=n,o.height=s},arrow:function(e,t,n,s,o){o.x=e+n/2,o.y=t+s/2,o.width=n,o.height=s},triangle:function(e,t,n,s,o){o.cx=e+n/2,o.cy=t+s/2,o.width=n,o.height=s}},Zi={},t(r8,function(e,t){Zi[t]=new e}),d8=O.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(e,t,n){var s=x4(e,t,n),o=this.shape;return o&&o.symbolType==="pin"&&t.position==="inside"&&(s.y=n.y+n.height*.4),s},buildPath:function(e,t,n){var s,o=t.symbolType;o!=="none"&&(s=Zi[o],s||(o="rect",s=Zi[o]),c8[o](t.x,t.y,t.width,t.height,s.shape),s.buildPath(e,s.shape,n))}});function Bg(e,t){if(this.type!=="image"){var n=this.style;this.__isEmptyBrush?(n.stroke=e,n.fill=t||"#fff",n.lineWidth=2):this.shape.symbolType==="line"?n.stroke=e:n.fill=e,this.markRedraw()}}function Kn(e,t,n,s,o,i,a){var r,c=e.indexOf("empty")===0;return c&&(e=e.substr(5,1).toLowerCase()+e.substr(6)),e.indexOf("image://")===0?r=i1(e.slice(8),new b(t,n,s,o),a?"center":"cover"):e.indexOf("path://")===0?r=ea(e.slice(7),{},new b(t,n,s,o),a?"center":"cover"):r=new d8({shape:{symbolType:e,x:t,y:n,width:s,height:o}}),r.__isEmptyBrush=c,r.setColor=Bg,i&&r.setColor(i),r}function Hg(e,t){if(e==null)return;return s(e)||(e=[e,e]),[L(e[0],t[0])||0,L(v(e[1],e[0]),t[1])||0]}function Pg(e,t,n){var r,s=t.x==null?0:t.x,o=t.x2==null?1:t.x2,i=t.y==null?0:t.y,a=t.y2==null?0:t.y2;return t.global||(s=s*n.width+n.x,o=o*n.width+n.x,i=i*n.height+n.y,a=a*n.height+n.y),s=isNaN(s)?0:s,o=isNaN(o)?1:o,i=isNaN(i)?0:i,a=isNaN(a)?0:a,r=e.createLinearGradient(s,i,o,a),r}function Rg(e,t,n){var c,a=n.width,r=n.height,l=Math.min(a,r),s=t.x==null?.5:t.x,o=t.y==null?.5:t.y,i=t.r==null?.5:t.r;return t.global||(s=s*a+n.x,o=o*r+n.y,i=i*l),c=e.createRadialGradient(s,o,0,s,o,i),c}function Il(e,t,n){for(var i=t.type==="radial"?Rg(e,t,n):Pg(e,t,n),o=t.colorStops,s=0;s<o.length;s++)i.addColorStop(o[s].offset,o[s].color);return i}function Lg(e,t){if(e===t||!e&&!t)return!1;if(!e||!t||e.length!==t.length)return!0;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!0;return!1}function Hi(e){return parseInt(e,10)}function Ii(e,t,n){var o,s=["width","height"][t],i=["clientWidth","clientHeight"][t],a=["paddingLeft","paddingTop"][t],r=["paddingRight","paddingBottom"][t];return n[s]!=null&&n[s]!=="auto"?parseFloat(n[s]):(o=document.defaultView.getComputedStyle(e),(e[i]||Hi(o[s])||Hi(e.style[s]))-(Hi(o[a])||0)-(Hi(o[r])||0)|0)}function Ng(e,t){return!e||e==="solid"||!(t>0)?null:e==="dashed"?[4*t,2*t]:e==="dotted"?[t]:E(e)?[e]:s(e)?e:null}function _8(e){var n,t=e.style,s=t.lineDash&&t.lineWidth>0&&Ng(t.lineDash,t.lineWidth),o=t.lineDashOffset;return s&&(n=t.strokeNoScale&&e.getLineScale?e.getLineScale():1,n&&n!==1&&(s=r(s,function(e){return e/n}),o/=n)),[s,o]}w8=new Jt(!0);function Vi(e){var t=e.stroke;return!(t==null||t==="none"||!(e.lineWidth>0))}function x8(e){return typeof e=="string"&&e!=="none"}function Ui(e){var t=e.fill;return t!=null&&t!=="none"}function E8(e,t){if(t.fillOpacity!=null&&t.fillOpacity!==1){var n=e.globalAlpha;e.globalAlpha=t.fillOpacity*t.opacity,e.fill(),e.globalAlpha=n}else e.fill()}function k8(e,t){if(t.strokeOpacity!=null&&t.strokeOpacity!==1){var n=e.globalAlpha;e.globalAlpha=t.strokeOpacity*t.opacity,e.stroke(),e.globalAlpha=n}else e.stroke()}function Nl(e,t,n){var s,o,i=Z8(t.image,t.__image,n);if(cr(i))return s=e.createPattern(i,t.repeat||"repeat"),typeof DOMMatrix=="function"&&s&&s.setTransform&&(o=new DOMMatrix,o.translateSelf(t.x||0,t.y||0),o.rotateSelf(0,0,(t.rotation||0)*Yc),o.scaleSelf(t.scaleX||1,t.scaleY||1),s.setTransform(o)),s}function Dg(e,t,n,s){var o,i,a,l,d,u,h,m,f,p,g,v,b,j,y,_,O,E,r=Vi(n),c=Ui(n),C=n.strokePercent,w=C<1,x=!t.path;(!t.silent||w)&&x&&t.createPathProxy(),o=t.path||w8,i=t.__dirty,s||(d=n.fill,l=n.stroke,f=c&&!!d.colorStops,p=r&&!!l.colorStops,y=c&&!!d.image,j=r&&!!l.image,h=void 0,u=void 0,a=void 0,v=void 0,g=void 0,(f||p)&&(g=t.getBoundingRect()),f&&(h=i?Il(e,d,g):t.__canvasFillGradient,t.__canvasFillGradient=h),p&&(u=i?Il(e,l,g):t.__canvasStrokeGradient,t.__canvasStrokeGradient=u),y&&(a=i||!t.__canvasFillPattern?Nl(e,d,t):t.__canvasFillPattern,t.__canvasFillPattern=a),j&&(v=i||!t.__canvasStrokePattern?Nl(e,l,t):t.__canvasStrokePattern,t.__canvasStrokePattern=a),f?e.fillStyle=h:y&&(a?e.fillStyle=a:c=!1),p?e.strokeStyle=u:j&&(v?e.strokeStyle=v:r=!1)),_=t.getGlobalScale(),o.setScale(_[0],_[1],t.segmentIgnoreThreshold),e.setLineDash&&n.lineDash&&(b=_8(t),m=b[0],E=b[1]),O=!0,(x||i&Sn)&&(o.setDPR(e.dpr),w?o.setContext(null):(o.setContext(e),O=!1),o.reset(),t.buildPath(o,t.shape,s),o.toStatic(),t.pathUpdated()),O&&o.rebuildPath(e,w?C:1),m&&(e.setLineDash(m),e.lineDashOffset=E),s||(n.strokeFirst?(r&&k8(e,n),c&&E8(e,n)):(c&&E8(e,n),r&&k8(e,n))),m&&e.setLineDash([])}function zg(e,t,n){var s,o,a,r,c,l,d,u,h,i=t.__image=Z8(n.image,t.__image,t,t.onload);if(!i||!cr(i))return;c=n.x||0,l=n.y||0,s=t.getWidth(),o=t.getHeight(),d=i.width/i.height,s==null&&o!=null?s=o*d:o==null&&s!=null?o=s/d:s==null&&o==null&&(s=i.width,o=i.height),n.sWidth&&n.sHeight?(a=n.sx||0,r=n.sy||0,e.drawImage(i,a,r,n.sWidth,n.sHeight,c,l,s,o)):n.sx&&n.sy?(a=n.sx,r=n.sy,u=s-a,h=o-r,e.drawImage(i,a,r,u,h,c,l,s,o)):e.drawImage(i,c,l,s,o)}function Tg(e,t,n){var o,i,a,s=n.text;s!=null&&(s+=""),s&&(e.font=n.font||St,e.textAlign=n.textAlign,e.textBaseline=n.textBaseline,o=void 0,a=void 0,e.setLineDash&&n.lineDash&&(i=_8(t),o=i[0],a=i[1]),o&&(e.setLineDash(o),e.lineDashOffset=a),n.strokeFirst?(Vi(n)&&e.strokeText(s,n.x,n.y),Ui(n)&&e.fillText(s,n.x,n.y)):(Ui(n)&&e.fillText(s,n.x,n.y),Vi(n)&&e.strokeText(s,n.x,n.y)),o&&e.setLineDash([]))}Fl=["shadowBlur","shadowOffsetX","shadowOffsetY"],Ml=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function D8(e,t,n,s,o){var a,r,c,i=!1;if(!s&&(n=n||{},t===n))return!1;(s||t.opacity!==n.opacity)&&(te(e,o),i=!0,c=Math.max(Math.min(t.opacity,1),0),e.globalAlpha=isNaN(c)?un.opacity:c),(s||t.blend!==n.blend)&&(i||(te(e,o),i=!0),e.globalCompositeOperation=t.blend||un.blend);for(r=0;r<Fl.length;r++)a=Fl[r],(s||t[a]!==n[a])&&(i||(te(e,o),i=!0),e[a]=e.dpr*(t[a]||0));return(s||t.shadowColor!==n.shadowColor)&&(i||(te(e,o),i=!0),e.shadowColor=t.shadowColor||un.shadowColor),i}function N8(e,t,n,s,o){var a,c,l,d,u,h,i=bi(t,o.inHover),r=s?null:n&&bi(n,o.inHover)||{};if(i===r)return!1;a=D8(e,i,r,s,o),(s||i.fill!==r.fill)&&(a||(te(e,o),a=!0),x8(i.fill)&&(e.fillStyle=i.fill)),(s||i.stroke!==r.stroke)&&(a||(te(e,o),a=!0),x8(i.stroke)&&(e.strokeStyle=i.stroke)),(s||i.opacity!==r.opacity)&&(a||(te(e,o),a=!0),e.globalAlpha=i.opacity==null?1:i.opacity),t.hasStroke()&&(h=i.lineWidth,d=h/(i.strokeNoScale&&t.getLineScale?t.getLineScale():1),e.lineWidth!==d&&(a||(te(e,o),a=!0),e.lineWidth=d));for(l=0;l<Ml.length;l++)u=Ml[l],c=u[0],(s||i[c]!==r[c])&&(a||(te(e,o),a=!0),e[c]=i[c]||u[1]);return a}function Fg(e,t,n,s,o){return D8(e,bi(t,o.inHover),n&&bi(n,o.inHover),s,o)}function R8(e,t){var s=t.transform,n=e.dpr||1;s?e.setTransform(n*s[0],n*s[1],n*s[2],n*s[3],n*s[4],n*s[5]):e.setTransform(n,0,0,n,0,0)}function Mg(e,t,n){for(var s,o=!1,i=0;i<e.length;i++)s=e[i],o=o||s.isZeroArea(),R8(t,s),t.beginPath(),s.buildPath(t,s.shape),t.clip();n.allClipped=o}function Sg(e,t){return e&&t?e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||e[3]!==t[3]||e[4]!==t[4]||e[5]!==t[5]:!!e||!!t}Sl=1,Al=2,kl=3,El=4;function Ag(e){var t=Ui(e),n=Vi(e);return!(e.lineDash||!(+t^+n)||t&&typeof e.fill!="string"||n&&typeof e.stroke!="string"||e.strokePercent<1||e.strokeOpacity<1||e.fillOpacity<1)}function te(e,t){t.batchFill&&e.fill(),t.batchStroke&&e.stroke(),t.batchFill="",t.batchStroke=""}function bi(e,t){return t?e.__hoverStyle||e.style:e.style}function Cl(e,t){An(e,t,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function An(e,t,n,s){var o,i,a,r,c,l,d,u=t.transform;if(!t.shouldBePainted(n.viewWidth,n.viewHeight,!1,!1)){t.__dirty&=~ae,t.__isRendered=!1;return}if(i=t.__clipPaths,l=n.prevElClipPaths,d=!1,o=!1,(!l||Lg(i,l))&&(l&&l.length&&(te(e,n),e.restore(),o=d=!0,n.prevElClipPaths=null,n.allClipped=!1,n.prevEl=null),i&&i.length&&(te(e,n),e.save(),Mg(i,e,n),d=!0),n.prevElClipPaths=i),n.allClipped){t.__isRendered=!1;return}t.beforeBrush&&t.beforeBrush(),t.innerBeforeBrush(),a=n.prevEl,a||(o=d=!0),r=t instanceof O&&t.autoBatch&&Ag(t.style),d||Sg(u,a.transform)?(te(e,n),R8(e,t)):r||te(e,n),c=bi(t,n.inHover),t instanceof O?(n.lastDrawType!==Sl&&(o=!0,n.lastDrawType=Sl),N8(e,t,a,o,n),(!r||!n.batchFill&&!n.batchStroke)&&e.beginPath(),Dg(e,t,c,r),r&&(n.batchFill=c.fill||"",n.batchStroke=c.stroke||"")):t instanceof To?(n.lastDrawType!==kl&&(o=!0,n.lastDrawType=kl),N8(e,t,a,o,n),Tg(e,t,c)):t instanceof Pe?(n.lastDrawType!==Al&&(o=!0,n.lastDrawType=Al),Fg(e,t,a,o,n),zg(e,t,c)):t.getTemporalDisplayables&&(n.lastDrawType!==El&&(o=!0,n.lastDrawType=El),kg(e,t,n)),r&&s&&te(e,n),t.innerAfterBrush(),t.afterBrush&&t.afterBrush(),n.prevEl=t,t.__dirty=0,t.__isRendered=!0}function kg(e,t,n){r=t.getDisplayables(),c=t.getTemporalDisplayables(),e.save(),o={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:n.viewWidth,viewHeight:n.viewHeight,inHover:n.inHover};for(i=t.getCursor(),l=r.length;i<l;i++)s=r[i],s.beforeBrush&&s.beforeBrush(),s.innerBeforeBrush(),An(e,s,o,i===l-1),s.innerAfterBrush(),s.afterBrush&&s.afterBrush(),o.prevEl=s;for(var s,o,i,r,c,l,a=0,d=c.length;a<d;a++)s=c[a],s.beforeBrush&&s.beforeBrush(),s.innerBeforeBrush(),An(e,s,o,a===d-1),s.innerAfterBrush(),s.afterBrush&&s.afterBrush(),o.prevEl=s;t.clearTemporalDisplayables(),t.notClear=!0,e.restore()}sa=new n8,Ol=new $n(100),wl=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function J8(e,t){if(e==="none")return null;var n,a,c,r=t.getDevicePixelRatio(),l=t.getZr(),o=l.painter.type==="svg";return e.dirty&&sa.delete(e),c=sa.get(e),c||(n=x(e,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512}),n.backgroundColor==="none"&&(n.backgroundColor=null),a={repeat:"repeat"},d(a),a.rotation=n.rotation,a.scaleX=a.scaleY=o?1:1/r,sa.set(e,a),e.dirty=!1,a);function d(e){for(var t,a,c,d,u,h,m,f,p,g,v,b,_=[r],y=!0,j=0;j<wl.length;++j){if(u=n[wl[j]],u!=null&&!s(u)&&!i(u)&&!E(u)&&typeof u!="boolean"){y=!1;break}_.push(u)}y&&(b=_.join(",")+(o?"-svg":""),p=Ol.get(b),p&&(o?e.svgElement=p:e.image=p)),a=tf(n.dashArrayX),c=Og(n.dashArrayY),h=ef(n.symbol),g=bg(a),v=af(c),t=!o&&Ae.createCanvas(),f=o&&{tag:"g",attrs:{},key:"dcl",children:[]},d=w(),t&&(t.width=d.width*r,t.height=d.height*r,m=t.getContext("2d")),O(),y&&Ol.put(b,t||f),e.image=t,e.svgElement=f,e.svgWidth=d.width,e.svgHeight=d.height;function w(){for(var s,i,a,t=1,e=0,o=g.length;e<o;++e)t=E2(t,g[e]);for(s=1,e=0,o=h.length;e<o;++e)s=E2(s,h[e].length);return t*=s,i=v*g.length*h.length,a=function(e){console.warn("Calculated decal size is greater than "+e+" due to decal option settings so "+e+" is used for the decal size. Please consider changing the decal option to make a smaller decal or set "+e+" to be larger to avoid incontinuity.")},t>n.maxTileWidth&&a("maxTileWidth"),i>n.maxTileHeight&&a("maxTileHeight"),{width:Math.max(1,Math.min(t,n.maxTileWidth)),height:Math.max(1,Math.min(i,n.maxTileHeight))}}function O(){m&&(m.clearRect(0,0,t.width,t.height),n.backgroundColor&&(m.fillStyle=n.backgroundColor,m.fillRect(0,0,t.width,t.height)));for(var e,s,i,p,g,b,j,y,_,w,x,C,E,k,A,O=0,u=0;u<c.length;++u)O+=c[u];if(O<=0)return;for(g=-v,s=0,b=0,e=0;g<d.height;){if(s%2===0){for(j=b/2%h.length,p=0,i=0,y=0;p<d.width*2;){for(_=0,u=0;u<a[e].length;++u)_+=a[e][u];if(_<=0)break;i%2===0&&(w=(1-n.symbolSize)*.5,x=p+a[e][i]*w,C=g+c[s]*w,E=a[e][i]*n.symbolSize,k=c[s]*n.symbolSize,A=y/2%h[j].length,S(x,C,E,k,h[j][A])),p+=a[e][i],++y,++i,i===a[e].length&&(i=0)}++e,e===a.length&&(e=0)}g+=c[s],++b,++s,s===c.length&&(s=0)}function S(e,t,s,i,a){var d,c=o?1:r,u=Kn(a,e*c,t*c,s*c,i*c,n.color,n.symbolKeepAspect);o?(d=l.painter.renderOneToVNode(u),d&&f.children.push(d)):Cl(m,u)}}}}function ef(e){if(!e||e.length===0)return[["rect"]];if(i(e))return[[e]];for(var n,s=!0,t=0;t<e.length;++t)if(!i(e[t])){s=!1;break}if(s)return ef([e]);for(n=[],t=0;t<e.length;++t)i(e[t])?n.push([e[t]]):n.push(e[t]);return n}function tf(e){if(!e||e.length===0)return[[0,0]];if(E(e)){var n,s,o,t=Math.ceil(e);return[[t,t]]}for(o=!0,n=0;n<e.length;++n)if(!E(e[n])){o=!1;break}if(o)return tf([e]);for(s=[],n=0;n<e.length;++n)E(e[n])?(t=Math.ceil(e[n]),s.push([t,t])):(t=r(e[n],function(e){return Math.ceil(e)}),t.length%2===1?s.push(t.concat(t)):s.push(t));return s}function Og(e){if(!e||typeof e=="object"&&e.length===0)return[0,0];if(E(e)){var t,n=Math.ceil(e);return[n,n]}return t=r(e,function(e){return Math.ceil(e)}),e.length%2?t.concat(t):t}function bg(e){return r(e,function(e){return af(e)})}function af(e){for(var t=0,n=0;n<e.length;++n)t+=e[n];return e.length%2===1?t*2:t}function vg(e,t){e.eachRawSeries(function(n){if(e.isSeriesFiltered(n))return;var o,i,s=n.getData();s.hasItemVisual()&&s.each(function(e){var o,n=s.getItemVisual(e,"decal");n&&(o=s.ensureUniqueItemVisual(e,"style"),o.decal=J8(n,t))}),o=s.getVisual("decal"),o&&(i=s.getVisual("style"),i.decal=J8(o,t))})}De=new qe,ti={};function gg(e,t){ti[e]&&K("Already has an implementation of "+e+"."),ti[e]=t}function uf(e){return ti[e]||K("Implementation of "+e+" doesn't exists."),ti[e]}jl=typeof window!="undefined",mf="5.3.0",ff={zrender:"5.3.0"},pf=1,gf=800,vf=900,bf=1e3,jf=2e3,yf=5e3,pl=1e3,wf=1100,va=2e3,fl=3e3,Cf=4e3,ei=4500,kf=4600,Af=5e3,Sf=6e3,hl=7e3,ul={PROCESSOR:{FILTER:bf,SERIES_FILTER:gf,STATISTIC:yf},VISUAL:{LAYOUT:pl,PROGRESSIVE_LAYOUT:wf,GLOBAL:va,CHART:fl,POST_CHART_LAYOUT:kf,COMPONENT:Cf,BRUSH:Af,CHART_ITEM:ei,ARIA:Sf,DECAL:hl}},P="__flagInMainProcess",Q="__pendingUpdate",ja="__needsUpdateStatus",cl=/^[a-zA-Z0-9_]+$/,_a="__connectUpdateStatus",rl=0,Pf=1,Hf=2;function If(e){return function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];if(this.isDisposed()){je(this.id);return}return Vf(this,e,n)}}function Bf(e){return function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];return Vf(this,e,n)}}function Vf(e,t,n){return n[0]=n[0]&&n[0].toLowerCase(),qe.prototype[t].apply(e,n)}al=function(e){o(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(qe),il=al.prototype,il.on=Bf("on"),il.off=Bf("off"),uo=function(e){o(s,e);function s(t,n,s){var a,r,l,d,u,h,o=e.call(this,new $m)||this;o._chartsViews=[],o._chartsMap={},o._componentsViews=[],o._componentsMap={},o._pendingActions=[],s=s||{},i(n)&&(n=Ic[n]),o._dom=t,r="canvas",l=!1,d=jl?window:global,r=d.__ECHARTS__DEFAULT__RENDERER__||r,u=d.__ECHARTS__DEFAULT__USE_DIRTY_RECT__,l=u??l,a=o._zr=q1(t,{renderer:s.renderer||r,devicePixelRatio:s.devicePixelRatio,width:s.width,height:s.height,ssr:s.ssr,useDirtyRect:s.useDirtyRect==null?l:s.useDirtyRect}),o._ssr=s.ssr,o._throttledZrFlush=ud(f(a.flush,a),17),n=c(n),n&&X2(n,!0),o._theme=n,o._locale=q7(s.locale||X1),o._coordSysMgr=new Un,h=o._api=i6(o);function m(e,t){return e.__prio-t.__prio}return Ua(So,m),Ua(mr,m),o._scheduler=new sd(o,h,mr,So),o._messageCenter=new al,o._initEvents(),o.resize=f(o.resize,o),a.animation.on("frame",o._onframe,o),e6(a,o),t6(a,o),eo(o),o}return s.prototype._onframe=function(){if(this._disposed)return;c6(this);var t,n,s,o,i,e=this._scheduler;if(this[Q]){n=this[Q].silent,this[P]=!0;try{ks(this),kt.update.call(this,null,this[Q].updateParams)}catch(e){throw this[P]=!1,this[Q]=null,e}this._zr.flush(),this[P]=!1,this[Q]=null,jo.call(this,n),fo.call(this,n)}else if(e.unfinished){s=pf,t=this._model,o=this._api,e.unfinished=!1;do i=+new Date,e.performSeriesTasks(t),e.performDataProcessorTasks(t),Jc(this,t),e.performVisualTasks(t),Ia(this,this._model,o,"remain",{}),s-=+new Date-i;while(s>0&&e.unfinished)e.unfinished||this._zr.flush()}},s.prototype.getDom=function(){return this._dom},s.prototype.getId=function(){return this.id},s.prototype.getZr=function(){return this._zr},s.prototype.isSSR=function(){return this._ssr},s.prototype.setOption=function(e,t,n){if(this[P]){K("`setOption` should not be called during main process.");return}if(this._disposed){je(this.id);return}if(a(t)&&(n=t.lazyUpdate,s=t.silent,r=t.replaceMerge,c=t.transition,t=t.notMerge),this[P]=!0,!this._model||t){var s,i,r,c,l=new w2(this._api),d=this._theme,o=this._model=new Jr;o.scheduler=this._scheduler,o.ssr=this._ssr,o.init(null,null,null,d,this._locale,l)}if(this._model.setOption(e,{replaceMerge:r},fr),i={seriesTransition:c,optionChanged:!0},n)this[Q]={silent:s,updateParams:i},this[P]=!1,this.getZr().wakeUp();else{try{ks(this),kt.update.call(this,null,i)}catch(e){throw this[Q]=null,this[P]=!1,e}this._ssr||this._zr.flush(),this[Q]=null,this[P]=!1,jo.call(this,s),fo.call(this,s)}},s.prototype.setTheme=function(){Ge("ECharts#setTheme() is DEPRECATED in ECharts 3.0")},s.prototype.getModel=function(){return this._model},s.prototype.getOption=function(){return this._model&&this._model.getOption()},s.prototype.getWidth=function(){return this._zr.getWidth()},s.prototype.getHeight=function(){return this._zr.getHeight()},s.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||jl&&window.devicePixelRatio||1},s.prototype.getRenderedCanvas=function(e){return z("getRenderedCanvas","renderToCanvas"),this.renderToCanvas(e)},s.prototype.renderToCanvas=function(e){e=e||{};var t=this._zr.painter;if(t.type!=="canvas")throw new Error("renderToCanvas can only be used in the canvas renderer.");return t.getRenderedCanvas({backgroundColor:e.backgroundColor||this._model.get("backgroundColor"),pixelRatio:e.pixelRatio||this.getDevicePixelRatio()})},s.prototype.renderToSVGString=function(e){e=e||{};var t=this._zr.painter;if(t.type!=="svg")throw new Error("renderToSVGString can only be used in the svg renderer.");return t.renderToString({useViewBox:e.useViewBox})},s.prototype.getSvgDataURL=function(){if(!l.svgSupported)return;var e=this._zr,n=e.storage.getDisplayList();return t(n,function(e){e.stopAnimation(null,!0)}),e.painter.toDataURL()},s.prototype.getDataURL=function(e){if(this._disposed){je(this.id);return}e=e||{};var s,o=e.excludeComponents,i=this._model,n=[],a=this;return t(o,function(e){i.eachComponent({mainType:e},function(e){var t=a._componentsMap[e.__viewId];t.group.ignore||(n.push(t),t.group.ignore=!0)})}),s=this._zr.painter.getType()==="svg"?this.getSvgDataURL():this.renderToCanvas(e).toDataURL("image/"+(e&&e.type||"png")),t(n,function(e){e.group.ignore=!1}),s},s.prototype.getConnectedDataURL=function(e){if(this._disposed){je(this.id);return}var n,s,o,i,a,r,d,h,m,f,p,u=e.type==="svg",b=this.group,v=Math.min,g=Math.max,l=1/0;return Ho[b]?(i=l,s=l,r=-l,a=-l,d=[],o=e&&e.pixelRatio||this.getDevicePixelRatio(),t(Bt,function(t){if(t.group===b){var l=u?t.getZr().painter.getSvgDom().innerHTML:t.renderToCanvas(c(e)),o=t.getDom().getBoundingClientRect();i=v(o.left,i),s=v(o.top,s),r=g(o.right,r),a=g(o.bottom,a),d.push({dom:l,left:o.left,top:o.top})}}),i*=o,s*=o,r*=o,a*=o,h=r-i,m=a-s,f=Ae.createCanvas(),n=q1(f,{renderer:u?"svg":"canvas"}),n.resize({width:h,height:m}),u?(p="",t(d,function(e){var t=e.left-i,n=e.top-s;p+='<g transform="translate('+t+","+n+')">'+e.dom+"</g>"}),n.painter.getSvgRoot().innerHTML=p,e.connectedBackgroundColor&&n.painter.setBackgroundColor(e.connectedBackgroundColor),n.refreshImmediately(),n.painter.toDataURL()):(e.connectedBackgroundColor&&n.add(new T({shape:{x:0,y:0,width:h,height:m},style:{fill:e.connectedBackgroundColor}})),t(d,function(e){var t=new Pe({style:{x:e.left*o-i,y:e.top*o-s,image:e.dom}});n.add(t)}),n.refreshImmediately(),f.toDataURL("image/"+(e&&e.type||"png")))):this.getDataURL(e)},s.prototype.convertToPixel=function(e,t){return el(this,"convertToPixel",e,t)},s.prototype.convertFromPixel=function(e,t){return el(this,"convertFromPixel",e,t)},s.prototype.containPixel=function(e,n){if(this._disposed){je(this.id);return}var s,o=this._model,i=zd(o,e);return t(i,function(e,o){o.indexOf("Models")>=0&&t(e,function(e){var t,i=e.coordinateSystem;i&&i.containPoint?s=s||!!i.containPoint(n):o==="seriesModels"?(t=this._chartsMap[e.__viewId],t&&t.containPoint?s=s||t.containPoint(n,e):console.warn(o+": "+(t?"The found component do not support containPoint.":"No view mapping to the found component."))):console.warn(o+": containPoint is not supported")},this)},this),!!s},s.prototype.getVisual=function(e,t){var s,o,a=this._model,n=zd(a,e,{defaultMainType:"series"}),i=n.seriesModel;return i||console.warn("There is no specified seires model"),s=i.getData(),o=n.hasOwnProperty("dataIndexInside")?n.dataIndexInside:n.hasOwnProperty("dataIndex")?s.indexOfRawIndex(n.dataIndex):null,o!=null?Ym(s,o,t):Gm(s,t)},s.prototype.getViewOfComponentModel=function(e){return this._componentsMap[e.__viewId]},s.prototype.getViewOfSeriesModel=function(e){return this._chartsMap[e.__viewId]},s.prototype._initEvents=function(){var e=this;t(u6,function(t){var s=function(s){var o,i,a,r,l,d=e.getModel(),c=s.target,u=t==="globalout";u?o={}:c&&Oi(c,function(e){var s,t=y(e);if(t&&t.dataIndex!=null)return s=t.dataModel||d.getSeriesByIndex(t.seriesIndex),o=s&&s.getDataParams(t.dataIndex,t.dataType)||{},!0;if(t.eventData)return o=n({},t.eventData),!0},!0),o&&(i=o.componentType,r=o.componentIndex,(i==="markLine"||i==="markPoint"||i==="markArea")&&(i="series",r=o.seriesIndex),a=i&&r!=null&&d.getComponent(i,r),l=a&&e[a.mainType==="series"?"_chartsMap":"_componentsMap"][a.__viewId],!u&&!(a&&l)&&console.warn("model or view can not be found by params"),o.event=s,o.type=t,e._$eventProcessor.eventInfo={targetEl:c,packedEvent:o,model:a,view:l},e.trigger(t,o))};s.zrEventfulCallAtLast=!0,e._zr.on(t,s,e)}),t(Ls,function(t,n){e._messageCenter.on(n,function(e){this.trigger(n,e)},e)}),t(["selectchanged"],function(t){e._messageCenter.on(t,function(e){this.trigger(t,e)},e)}),Kg(this._messageCenter,this,this._api)},s.prototype.isDisposed=function(){return this._disposed},s.prototype.clear=function(){if(this._disposed){je(this.id);return}this.setOption({series:[]},!0)},s.prototype.dispose=function(){if(this._disposed){je(this.id);return}this._disposed=!0;var e,n,s,o=this.getDom();o&&Eh(this.getDom(),Cr,""),e=this,n=e._api,s=e._model,t(e._componentsViews,function(e){e.dispose(s,n)}),t(e._chartsViews,function(e){e.dispose(s,n)}),e._zr.dispose(),e._dom=e._model=e._chartsMap=e._componentsMap=e._chartsViews=e._componentsViews=e._scheduler=e._api=e._zr=e._throttledZrFlush=e._theme=e._coordSysMgr=e._messageCenter=null,delete Bt[e.id]},s.prototype.resize=function(e){if(this[P]){K("`resize` should not be called during main process.");return}if(this._disposed){je(this.id);return}this._zr.resize(e);var t,s,o=this._model;if(this._loadingFX&&this._loadingFX.resize(),!o)return;s=o.resetOption("media"),t=e&&e.silent,this[Q]&&(t==null&&(t=this[Q].silent),s=!0,this[Q]=null),this[P]=!0;try{s&&ks(this),kt.update.call(this,{type:"resize",animation:n({duration:0},e&&e.animation)})}catch(e){throw this[P]=!1,e}this[P]=!1,jo.call(this,t),fo.call(this,t)},s.prototype.showLoading=function(e,t){if(this._disposed){je(this.id);return}if(a(e)&&(t=e,e=""),e=e||"default",this.hideLoading(),!_r[e]){console.warn("Loading effects "+e+" not exists.");return}var n=_r[e](this._api,t),s=this._zr;this._loadingFX=n,s.add(n)},s.prototype.hideLoading=function(){if(this._disposed){je(this.id);return}this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},s.prototype.makeActionFromEvent=function(e){var t=n({},e);return t.type=Ls[e.type],t},s.prototype.dispatchAction=function(e,t){if(this._disposed){je(this.id);return}if(a(t)||(t={silent:!!t}),!ho[e.type])return;if(!this._model)return;if(this[P]){this._pendingActions.push(e);return}var s,n=t.silent;Xc.call(this,e,n),s=t.flush,s?this._zr.flush():s!==!1&&l.browser.weChat&&this._throttledZrFlush(),jo.call(this,n),fo.call(this,n)},s.prototype.updateLabelLayout=function(){De.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})},s.prototype.appendData=function(e){if(this._disposed){je(this.id);return}var n=e.seriesIndex,s=this.getModel(),t=s.getSeriesByIndex(n);u(e.data&&t),t.appendData(e),this._scheduler.unfinished=!0,this.getZr().wakeUp()},s.internalField=function(){ks=function(e){var t=e._scheduler;t.restorePipelines(e._model),t.prepareStageTasks(),ol(e,!0),ol(e,!1),t.plan()},ol=function(e,t){for(var n,i=e._model,d=e._scheduler,o=t?e._componentsViews:e._chartsViews,a=t?e._componentsMap:e._chartsMap,c=e._zr,r=e._api,s=0;s<o.length;s++)o[s].__alive=!1;t?i.eachComponent(function(e,t){e!=="series"&&l(t)}):i.eachSeries(l);function l(e){var n,s,l,h,m=e.__requireNewView;e.__requireNewView=!1,l="_ec_"+e.id+"_"+e.type,n=!m&&a[l],n||(s=rt(e.type),h=t?$.getClass(s.main,s.sub):Re.getClass(s.sub),u(h,s.sub+" does not exist."),n=new h,n.init(i,r),a[l]=n,o.push(n),c.add(n.group)),e.__viewId=n.__id=l,n.__alive=!0,n.__model=e,n.group.__ecComponentInfo={mainType:e.mainType,index:e.componentIndex},!t&&d.prepareView(n,e,i,r)}for(s=0;s<o.length;)n=o[s],n.__alive?s++:(!t&&n.renderTask.dispose(),c.remove(n.group),n.dispose(i,r),o.splice(s,1),a[n.__id]===n&&delete a[n.__id],n.__id=n.group.__ecComponentInfo=null)},Ma=function(e,n,s,o,i){var r,c,l,d,a=e._model;if(a.setUpdatePayload(s),!o){t([].concat(e._componentsViews).concat(e._chartsViews),u);return}c={},c[o+"Id"]=s[o+"Id"],c[o+"Index"]=s[o+"Index"],c[o+"Name"]=s[o+"Name"],l={mainType:o,query:c},i&&(l.subType=i),d=s.excludeSeriesId,d!=null&&(r=m(),t(N(d),function(e){var t=Be(e,null);t!=null&&r.set(t,!0)})),a&&a.eachComponent(l,function(n){if(o=r&&r.get(n.id)!==null,o)return;if(Kh(s))if(n instanceof Te)s.type===ln&&!s.notBlur&&!n.get(["emphasis","disabled"])&&Bv(n,s,e._api);else{var o,i=ld(n.mainType,n.componentIndex,s.name,e._api),c=i.focusSelf,a=i.dispatchers;s.type===ln&&c&&!s.notBlur&&rd(n.mainType,n.componentIndex,e._api),a&&t(a,function(e){s.type===ln?Zl(e):Jl(e)})}else wd(s)&&n instanceof Te&&(Lv(n,s,e._api),am(n),Ee(e))},e),a&&a.eachComponent(l,function(t){var n=r&&r.get(t.id)!==null;if(n)return;u(e[o==="series"?"_chartsMap":"_componentsMap"][t.__viewId])},e);function u(t){t&&t.__alive&&t[n]&&t[n](t.__model,a,e._api,s)}},kt={prepareAndUpdate:function(e){ks(this),kt.update.call(this,e,{optionChanged:e.newOption!=null})},update:function(t,n){var a,l,s=this._model,o=this._api,r=this._zr,c=this._coordSysMgr,i=this._scheduler;if(!s)return;s.setUpdatePayload(t),i.restoreData(s,t),i.performSeriesTasks(s),c.create(s,o),i.performDataProcessorTasks(s,t),Jc(this,s),c.update(s,o),e(s),i.performVisualTasks(s,t),Gc(this,s,o,t,n),l=s.get("backgroundColor")||"transparent",a=s.get("darkMode"),r.setBackgroundColor(l),a!=null&&a!=="auto"&&r.setDarkMode(a),De.trigger("afterupdate",s,o)},updateTransform:function(t){var s,i,a=this,n=this._model,o=this._api;if(!n)return;n.setUpdatePayload(t),i=[],n.eachComponent(function(e,s){if(e==="series")return;var c,r=a.getViewOfComponentModel(s);r&&r.__alive&&(r.updateTransform?(c=r.updateTransform(s,n,o,t),c&&c.update&&i.push(r)):i.push(r))}),s=m(),n.eachSeries(function(e){var i,r=a._chartsMap[e.__viewId];r.updateTransform?(i=r.updateTransform(e,n,o,t),i&&i.update&&s.set(e.uid,1)):s.set(e.uid,1)}),e(n),this._scheduler.performVisualTasks(n,t,{setDirty:!0,dirtyMap:s}),Ia(this,n,o,t,{},s),De.trigger("afterupdate",n,o)},updateView:function(t){var n=this._model;if(!n)return;n.setUpdatePayload(t),Re.markUpdateMethod(t,"updateView"),e(n),this._scheduler.performVisualTasks(n,t,{setDirty:!0}),Gc(this,n,this._api,t,{}),De.trigger("afterupdate",n,this._api)},updateVisual:function(t){var s=this,n=this._model;if(!n)return;n.setUpdatePayload(t),n.eachSeries(function(e){e.getData().clearAllVisual()}),Re.markUpdateMethod(t,"updateVisual"),e(n),this._scheduler.performVisualTasks(n,t,{visualType:"visual",setDirty:!0}),n.eachComponent(function(e,o){if(e!=="series"){var i=s.getViewOfComponentModel(o);i&&i.__alive&&i.updateVisual(o,n,s._api,t)}}),n.eachSeries(function(e){var o=s._chartsMap[e.__viewId];o.updateVisual(e,n,s._api,t)}),De.trigger("afterupdate",n,this._api)},updateLayout:function(e){kt.update.call(this,e)}},el=function(e,t,n,s){if(e._disposed){je(e.id);return}for(var i,c,a=e._model,r=e._coordSysMgr.getCoordinateSystems(),l=zd(a,n),o=0;o<r.length;o++)if(i=r[o],i[t]&&(c=i[t](a,l,s))!=null)return c;console.warn("No coordinate system that supports "+t+" found by the given finder.")},Jc=function(e,t){var n=e._chartsMap,s=e._scheduler;t.eachSeries(function(e){s.updateStreamModes(e,n[e.__viewId])})},Xc=function(e,s){var o,l,d,u,h,m,g,v,i=this,_=this.getModel(),b=e.type,y=e.escapeConnect,j=ho[b],p=j.actionInfo,f=(p.update||"update").split(":"),a=f.pop(),c=f[0]!=null&&rt(f[0]);if(this[P]=!0,m=[e],h=!1,e.batch&&(h=!0,m=r(e.batch,function(t){return t=x(n({},t),e),t.batch=null,t})),l=[],u=wd(e),d=Kh(e),d&&um(this._api),t(m,function(t){if(o=j.action(t,i._model,i._api),o=o||n({},t),o.type=p.event||o.type,l.push(o),d){var s=Td(e),r=s.queryOptionMap,h=s.mainTypeSpecified,m=h?r.keys()[0]:"series";Ma(i,a,t,m),Ee(i)}else u?(Ma(i,a,t,"series"),Ee(i)):c&&Ma(i,a,t,c.main,c.sub)}),a!=="none"&&!d&&!u&&!c)try{this[Q]?(ks(this),kt.update.call(this,e),this[Q]=null):kt[a].call(this,e)}catch(e){throw this[P]=!1,e}h?o={type:p.event||b,escapeConnect:y,batch:l}:o=l[0],this[P]=!1,s||(g=this._messageCenter,g.trigger(o.type,o),u&&(v={type:"selectchanged",escapeConnect:y,selected:Nv(_),isFromClick:e.isFromClick||!1,fromAction:e.type,fromActionPayload:e},g.trigger(v.type,v)))},jo=function(e){for(var n,t=this._pendingActions;t.length;)n=t.shift(),Xc.call(this,n,e)},fo=function(e){!e&&this.trigger("updated")},e6=function(e,t){e.on("rendered",function(n){t.trigger("rendered",n),e.animation.isFinished()&&!t[Q]&&!t._scheduler.unfinished&&!t._pendingActions.length&&t.trigger("finished")})},t6=function(e,t){e.on("mouseover",function(e){var s=e.target,n=Oi(s,Ps);n&&(Iv(n,e,t._api),Ee(t))}).on("mouseout",function(e){var s=e.target,n=Oi(s,Ps);n&&(Hv(n,e,t._api),Ee(t))}).on("click",function(e){var n,o,i=e.target,s=Oi(i,function(e){return y(e).dataIndex!=null},!0);s&&(o=s.selected?"unselect":"select",n=y(s),t._api.dispatchAction({type:o,dataType:n.dataType,dataIndexInside:n.dataIndex,seriesIndex:n.seriesIndex,isFromClick:!0}))})};function e(e){e.clearColorPalette(),e.eachSeries(function(e){e.clearColorPalette()})}function h(e){var n,s,i,a=[],r=[],o=!1;e.eachComponent(function(e,t){var s=t.get("zlevel")||0,i=t.get("z")||0,n=t.getZLevelKey();o=o||!!n,(e==="series"?r:a).push({zlevel:s,z:i,idx:t.componentIndex,type:e,key:n})}),o&&(i=a.concat(r),Ua(i,function(e,t){return e.zlevel===t.zlevel?e.z-t.z:e.zlevel-t.zlevel}),t(i,function(t){var a=e.getComponent(t.type,t.idx),o=t.zlevel,i=t.key;n!=null&&(o=Math.max(n,o)),i?(o===n&&i!==s&&o++,s=i):s&&(o===n&&o++,s=""),n=o,a.setZLevel(o)}))}Gc=function(e,n,s,o,i){h(n),s6(e,n,s,o,i),t(e._chartsViews,function(e){e.__alive=!1}),Ia(e,n,s,o,i),t(e._chartsViews,function(e){e.__alive||e.remove(n,s)})},s6=function(e,n,s,o,a,r){t(r||e._componentsViews,function(e){var t=e.__model;c(t,e),e.render(t,n,s,o),i(t,e),d(t,e)})},Ia=function(e,t,s,o,a,r){var u,l=e._scheduler;a=n(a||{},{updatedSeries:t.getSeries()}),De.trigger("series:beforeupdate",t,s,a),u=!1,t.eachSeries(function(t){var s,n=e._chartsMap[t.__viewId];n.__alive=!0,s=n.renderTask,l.updatePayload(s,o),c(t,n),r&&r.get(t.uid)&&s.dirty(),s.perform(l.getPerformArgs(s))&&(u=!0),n.group.silent=!!t.get("silent"),p(t,n),am(t)}),l.unfinished=u||l.unfinished,De.trigger("series:layoutlabels",t,s,a),De.trigger("series:transition",t,s,a),t.eachSeries(function(t){var n=e._chartsMap[t.__viewId];i(t,n),d(t,n)}),f(e,t),De.trigger("series:afterupdate",t,s,a)},Ee=function(e){e[ja]=!0,e.getZr().wakeUp()},c6=function(e){if(!e[ja])return;e.getZr().storage.traverse(function(e){if(Xn(e))return;s(e)}),e[ja]=!1};function s(e){for(var n,t=[],o=e.currentStates,s=0;s<o.length;s++)n=o[s],n==="emphasis"||n==="blur"||n==="select"||t.push(n);e.selected&&e.states.select&&t.push("select"),e.hoverState===ar&&e.states.emphasis?t.push("emphasis"):e.hoverState===rr&&e.states.blur&&t.push("blur"),e.useStates(t)}function f(e,t){var s=e._zr,o=s.storage,n=0;o.traverse(function(e){e.isGroup||n++}),n>t.get("hoverLayerThreshold")&&!l.node&&!l.worker&&t.eachSeries(function(t){if(t.preventUsingHoverLayer)return;var n=e._chartsMap[t.__viewId];n.__alive&&n.eachRendered(function(e){e.states.emphasis&&(e.states.emphasis.hoverLayer=!0)})})}function p(e,t){var n=e.get("blendMode")||null;t.eachRendered(function(e){e.isGroup||(e.style.blend=n)})}function i(e,t){if(e.preventAutoZ)return;var n=e.get("z")||0,s=e.get("zlevel")||0;t.eachRendered(function(e){return a(e,n,s,-(1/0)),!0})}function a(e,t,n,s){var r,c,l,o=e.getTextContent(),i=e.getTextGuideLine(),d=e.isGroup;if(d)for(c=e.childrenRef(),r=0;r<c.length;r++)s=Math.max(a(c[r],t,n,s),s);else e.z=t,e.zlevel=n,s=Math.max(e.z2,s);return o&&(o.z=t,o.zlevel=n,isFinite(s)&&(o.z2=s+2)),i&&(l=e.textGuideLineConfig,i.z=t,i.zlevel=n,isFinite(s)&&(i.z2=s+(l&&l.showAbove?1:-1))),s}function c(e,t){t.eachRendered(function(e){if(Xn(e))return;var t=e.getTextContent(),n=e.getTextGuideLine();e.stateTransition&&(e.stateTransition=null),t&&t.stateTransition&&(t.stateTransition=null),n&&n.stateTransition&&(n.stateTransition=null),e.hasState()?(e.prevStates=e.currentStates,e.clearStates()):e.prevStates&&(e.prevStates=null)})}function d(e,t){var n=e.getModel("stateAnimation"),a=e.isAnimationEnabled(),i=n.get("duration"),o=i>0?{duration:i,delay:n.get("delay"),easing:n.get("easing")}:null;t.eachRendered(function(e){if(e.states&&e.states.emphasis){if(Xn(e))return;if(e instanceof O&&Mv(e),e.__dirty){var t,n,i=e.prevStates;i&&e.useStates(i)}a&&(e.stateTransition=o,t=e.getTextContent(),n=e.getTextGuideLine(),t&&(t.stateTransition=o),n&&(n.stateTransition=o)),e.__dirty&&s(e)}})}i6=function(e){return new(function(t){o(n,t);function n(){return t!==null&&t.apply(this,arguments)||this}return n.prototype.getCoordinateSystems=function(){return e._coordSysMgr.getCoordinateSystems()},n.prototype.getComponentByElement=function(t){for(;t;){var n=t.__ecComponentInfo;if(n!=null)return e._model.getComponent(n.mainType,n.index);t=t.parent}},n.prototype.enterEmphasis=function(t,n){Zl(t,n),Ee(e)},n.prototype.leaveEmphasis=function(t,n){Jl(t,n),Ee(e)},n.prototype.enterBlur=function(t){Vv(t),Ee(e)},n.prototype.leaveBlur=function(t){xm(t),Ee(e)},n.prototype.enterSelect=function(t){wm(t),Ee(e)},n.prototype.leaveSelect=function(t){_m(t),Ee(e)},n.prototype.getModel=function(){return e.getModel()},n.prototype.getViewOfComponentModel=function(t){return e.getViewOfComponentModel(t)},n.prototype.getViewOfSeriesModel=function(t){return e.getViewOfSeriesModel(t)},n}(Su))(e)},a6=function(e){function n(e,t){for(var s,n=0;n<e.length;n++)s=e[n],s[_a]=t}t(Ls,function(s,o){e._messageCenter.on(o,function(s){if(Ho[e.group]&&e[_a]!==rl){if(s&&s.escapeConnect)return;var i=e.makeActionFromEvent(s),o=[];t(Bt,function(t){t!==e&&t.group===e.group&&o.push(t)}),n(o,rl),t(o,function(e){e[_a]!==Pf&&e.dispatchAction(i)}),n(o,Hf)}})})}}(),s}(qe),$a=uo.prototype,$a.on=If("on"),$a.off=If("off"),$a.one=function(e,t,n){var o=this;Ge("ECharts#one is deprecated.");function s(){for(var i=[],n=0;n<arguments.length;n++)i[n]=arguments[n];t&&t.apply&&t.apply(this,i),o.off(e,s)}this.on.call(this,e,s,n)},u6=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];function je(e){console.warn("Instance "+e+" has been disposed")}ho={},Ls={},mr=[],fr=[],So=[],Ic={},_r={},Bt={},Ho={},w6=+new Date-0,O6=+new Date-0,Cr="_echarts_instance_";function cg(e,t,n){var s,o,i=!n||!n.ssr;if(i){if(!e)throw new Error("Initialize failed: invalid dom.");if(o=Pc(e),o)return console.warn("There is a chart instance already initialized on the dom."),o;Fs(e)&&e.nodeName.toUpperCase()!=="CANVAS"&&(!e.clientWidth&&(!n||n.width==null)||!e.clientHeight&&(!n||n.height==null))&&console.warn("Can't get DOM width or height. Please check dom.clientWidth and dom.clientHeight. They should not be 0.For example, you may need to call this in the callback of window.onload.")}return s=new uo(e,t,n),s.id="ec_"+w6++,Bt[s.id]=s,i&&Eh(e,Cr,s.id),a6(s),De.trigger("afterinit",s),s}function rg(e){if(s(e)){var n=e;e=null,t(n,function(t){t.group!=null&&(e=t.group)}),e=e||"g_"+O6++,t(n,function(t){t.group=e})}return Ho[e]=!0,e}function k6(e){Ho[e]=!1}A6=k6;function ag(e){i(e)?e=Bt[e]:e instanceof uo||(e=Pc(e)),e instanceof uo&&!e.isDisposed()&&e.dispose()}function Pc(e){return Bt[lb(e,Cr)]}function ig(e){return Bt[e]}function Rc(e,t){Ic[e]=t}function Nc(e){_(fr,e)<0&&fr.push(e)}function Dc(e,t){kc(mr,e,t,jf)}function N6(e){Ar("afterinit",e)}function L6(e){Ar("afterupdate",e)}function Ar(e,t){De.on(e,t)}function Nn(e,t,n){d(t)&&(n=t,t="");var s=a(e)?e.type:[e,e={event:t}][0];if(e.event=(e.event||s).toLowerCase(),t=e.event,Ls[t])return;u(cl.test(s)&&cl.test(t)),ho[s]||(ho[s]={action:n,actionInfo:e}),Ls[t]=s}function H6(e,t){Un.register(e,t)}function og(e){var t=Un.get(e);if(t)return t.getDimensionsInfo?t.getDimensionsInfo():t.dimensions.slice()}function B6(e,t){kc(So,e,t,pl,"layout")}function Kt(e,t){kc(So,e,t,fl,"visual")}Sc=[];function kc(e,n,s,o,i){(d(n)||a(n))&&(s=n,n=o);{if(isNaN(n)||n==null)throw new Error("Illegal priority");t(e,function(e){u(e.__raw!==s)})}if(_(Sc,s)>=0)return;Sc.push(s);var r=sd.wrapStageHandler(s,i);r.__prio=n,r.__raw=s,e.push(r)}function Ec(e,t){_r[e]=t}function sg(e){Ge("setCanvasCreator is deprecated. Use setPlatformAPI({ createCanvas }) instead."),ip({createCanvas:e})}function q6(e,t,n){var s=uf("registerMap");s&&s(e,t,n)}function ng(e){var t=uf("getMap");return t&&t(e)}xc=D5,Kt(va,pm),Kt(ei,vm),Kt(ei,bm),Kt(va,Km),Kt(ei,qm),Kt(hl,vg),Nc(X2),Dc(vf,t7),Ec("default",a5),Nn({type:ln,event:ln,update:ln},G),Nn({type:io,event:io,update:io},G),Nn({type:Ws,event:Ws,update:Ws},G),Nn({type:Wo,event:Wo,update:Wo},G),Nn({type:Hn,event:Hn,update:Hn},G),Rc("light",Rm),Rc("dark",Kl),X6={};function ri(e){return e==null?0:e.length||1}function Z6(e){return e}J6=function(){function e(e,t,n,s,o,i){this._old=e,this._new=t,this._oldKeyGetter=n||Z6,this._newKeyGetter=s||Z6,this.context=o,this._diffModeMultiple=i==="multiple"}return e.prototype.add=function(e){return this._add=e,this},e.prototype.update=function(e){return this._update=e,this},e.prototype.updateManyToOne=function(e){return this._updateManyToOne=e,this},e.prototype.updateOneToMany=function(e){return this._updateOneToMany=e,this},e.prototype.updateManyToMany=function(e){return this._updateManyToMany=e,this},e.prototype.remove=function(e){return this._remove=e,this},e.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},e.prototype._executeOneToOne=function(){var e,t,s,i,l,o=this._old,a=this._new,n={},r=new Array(o.length),c=new Array(a.length);this._initIndexMap(o,null,r,"_oldKeyGetter"),this._initIndexMap(a,n,c,"_newKeyGetter");for(e=0;e<o.length;e++)s=r[e],t=n[s],i=ri(t),i>1?(l=t.shift(),t.length===1&&(n[s]=t[0]),this._update&&this._update(l,e)):i===1?(n[s]=null,this._update&&this._update(t,e)):this._remove&&this._remove(e);this._performRestAdd(c,n)},e.prototype._executeMultiple=function(){var e,t,n,o,i,a,r,u=this._old,h=this._new,d={},s={},c=[],l=[];this._initIndexMap(u,d,c,"_oldKeyGetter"),this._initIndexMap(h,s,l,"_newKeyGetter");for(a=0;a<c.length;a++)if(t=c[a],e=d[t],o=s[t],n=ri(e),i=ri(o),n>1&&i===1)this._updateManyToOne&&this._updateManyToOne(o,e),s[t]=null;else if(n===1&&i>1)this._updateOneToMany&&this._updateOneToMany(o,e),s[t]=null;else if(n===1&&i===1)this._update&&this._update(o,e),s[t]=null;else if(n>1&&i>1)this._updateManyToMany&&this._updateManyToMany(o,e),s[t]=null;else if(n>1)for(r=0;r<n;r++)this._remove&&this._remove(e[r]);else this._remove&&this._remove(e);this._performRestAdd(l,s)},e.prototype._performRestAdd=function(e,t){for(var n,s,o,a,i=0;i<e.length;i++){if(a=e[i],n=t[a],s=ri(n),s>1)for(o=0;o<s;o++)this._add&&this._add(n[o]);else s===1&&this._add&&this._add(n);t[a]=null}},e.prototype._initIndexMap=function(e,t,n,s){for(var i,a,r,c=this._diffModeMultiple,o=0;o<e.length;o++){if(i="_ec_"+this[s](e[o],o),c||(n[o]=i),!t)continue;a=t[i],r=ri(a),r===0?(t[i]=o,c&&n.push(i)):r===1?t[i]=[a,o]:a.push(o)}},e}(),ep=function(){function e(e,t){this._encode=e,this._schema=t}return e.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},e.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},e}();function tg(e,n){var a,l,d,h,o={},s=o.encode={},f=m(),c=[],i=[],p={};return t(e.dimensions,function(t){var a,n=e.getDimensionInfo(t),o=n.coordDim;o&&(u(sr.get(o)==null),a=n.coordDimIndex,wc(s,o)[a]=t,n.isExtraCoord||(f.set(o,1),Zp(n.type)&&(c[0]=t),wc(p,o)[a]=e.getDimensionIndex(n.name)),n.defaultTooltip&&i.push(t)),sr.each(function(e,t){var i=wc(s,t),o=n.otherDims[t];o!=null&&o!==!1&&(i[o]=n.name)})}),a=[],h={},f.each(function(e,t){var n=s[t];h[t]=n[0],a=a.concat(n)}),o.dataDimsOnCoord=a,o.dataDimIndicesOnCoord=r(a,function(t){return e.getDimensionInfo(t).storeDimIndex}),o.encodeFirstDimNotExtra=h,l=s.label,l&&l.length&&(c=l.slice()),d=s.tooltip,d&&d.length?i=d.slice():i.length||(i=c.slice()),s.defaultedLabel=c,s.defaultedTooltip=i,o.userOutput=new ep(p,n),o}function wc(e,t){return e.hasOwnProperty(t)||(e[t]=[]),e[t]}function eg(e){return e==="category"?"ordinal":e==="time"?"time":"float"}function Zp(e){return e!=="ordinal"&&e!=="time"}gi=function(){function e(e){this.otherDims={},e!=null&&n(this,e)}return e}(),ap=S(),rp={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},jc=function(){function e(e){this.dimensions=e.dimensions,this._dimOmitted=e.dimensionOmitted,this.source=e.source,this._fullDimCount=e.fullDimensionCount,this._updateDimOmitted(e.dimensionOmitted)}return e.prototype.isDimensionOmitted=function(){return this._dimOmitted},e.prototype._updateDimOmitted=function(e){if(this._dimOmitted=e,!e)return;this._dimNameMap||(this._dimNameMap=up(this.source))},e.prototype.getSourceDimensionIndex=function(e){return v(this._dimNameMap.get(e),-1)},e.prototype.getSourceDimension=function(e){var t=this.source.dimensionsDefine;if(t)return t[e]},e.prototype.makeStoreSchema=function(){for(var e,t,s,o,a,c,h,u=this._fullDimCount,r=l3(this.source),m=!hp(u),n="",l=[],i=0,d=0;i<u;i++)t=void 0,o=void 0,s=void 0,e=this.dimensions[d],e&&e.storeDimIndex===i?(t=r?e.name:null,o=e.type,s=e.ordinalMeta,d++):(a=this.getSourceDimension(i),a&&(t=r?a.name:null,o=a.type)),l.push({property:t,type:o,ordinalMeta:s}),r&&t!=null&&(!e||!e.isCalculationCoord)&&(n+=m?t.replace(/`/g,"`1").replace(/\$/g,"`2"):t),n+="$",n+=rp[o]||"f",s&&(n+=s.uid),n+="$";return c=this.source,h=[c.seriesLayoutBy,c.startIndex,n].join("$$"),{dimensions:l,hash:h}},e.prototype.makeOutputDimensionNames=function(){for(var e,n,s,o=[],t=0,i=0;t<this._fullDimCount;t++)n=void 0,e=this.dimensions[i],e&&e.storeDimIndex===t?(e.isCalculationCoord||(n=e.name),i++):(s=this.getSourceDimension(t),s&&(n=s.name)),o.push(n);return o},e.prototype.appendCalculationDimension=function(e){this.dimensions.push(e),e.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},e}();function lp(e){return e instanceof jc}function dp(e){for(var n,s,o=m(),t=0;t<(e||[]).length;t++)n=e[t],s=a(n)?n.name:n,s!=null&&o.get(s)==null&&o.set(s,t);return o}function up(e){var t=ap(e);return t.dimNameMap||(t.dimNameMap=dp(e.dimensionsDefine))}function hp(e){return e>30}Zn=a,yt=r,pp=typeof Int32Array=="undefined"?Array:Int32Array,gp="e\0\0",bc=-1,bp=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],jp=["_approximateExtent"],hc=function(){function e(e,n){this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","lttbDownSample"];var s,o,a,r,c,l,d,h,f,g,v,b,p=!1;lp(e)?(r=e.dimensions,this._dimOmitted=e.isDimensionOmitted(),this._schema=e):(p=!0,r=e);for(r=r||["x","y"],d={},l=[],f={},h=!1,v={},o=0;o<r.length;o++)c=r[o],s=i(c)?new gi({name:c}):c instanceof gi?c:new gi(c),a=s.name,s.type=s.type||"float",s.coordDim||(s.coordDim=a,s.coordDimIndex=0),g=s.otherDims=s.otherDims||{},l.push(a),d[a]=s,v[a]!=null&&(h=!0),s.createInvertedIndices&&(f[a]=[]),g.itemName===0&&(this._nameDimIdx=o),g.itemId===0&&(this._idDimIdx=o),u(p||s.storeDimIndex>=0),p&&(s.storeDimIndex=o);this.dimensions=l,this._dimInfos=d,this._initGetDimensionInfo(h),this.hostModel=n,this._invertedIndicesMap=f,this._dimOmitted&&(b=this._dimIdxToName=m(),t(l,function(e){b.set(d[e].storeDimIndex,e)}))}return e.prototype.getDimension=function(e){var n,s,t=this._recognizeDimIndex(e);if(t==null)return e;if(t=e,!this._dimOmitted)return this.dimensions[t];if(n=this._dimIdxToName.get(t),n!=null)return n;if(s=this._schema.getSourceDimension(t),s)return s.name},e.prototype.getDimensionIndex=function(e){var t,n=this._recognizeDimIndex(e);return n??(e==null?-1:(t=this._getDimInfo(e),t?t.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(e):-1))},e.prototype._recognizeDimIndex=function(e){if(E(e)||e!=null&&!isNaN(e)&&!this._getDimInfo(e)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(e)<0))return+e},e.prototype._getStoreDimIndex=function(e){var t=this.getDimensionIndex(e);if(t==null)throw new Error("Unkown dimension "+e);return t},e.prototype.getDimensionInfo=function(e){return this._getDimInfo(this.getDimension(e))},e.prototype._initGetDimensionInfo=function(e){var t=this._dimInfos;this._getDimInfo=e?function(e){return t.hasOwnProperty(e)?t[e]:void 0}:function(e){return t[e]}},e.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},e.prototype.mapDimension=function(e,t){var n,s=this._dimSummary;return t==null?s.encodeFirstDimNotExtra[e]:(n=s.encode[e],n?n[t]:null)},e.prototype.mapDimensionsAll=function(e){var t=this._dimSummary,n=t.encode[e];return(n||[]).slice()},e.prototype.getStore=function(){return this._store},e.prototype.initData=function(e,t,n){var s,o,i,a,r=this;e instanceof za&&(s=e),s||(o=this.dimensions,i=pu(e)||B(e)?new cu(e,o.length):e,s=new za,a=yt(o,function(e){return{type:r._dimInfos[e].type,property:e}}),s.initData(i,a,n)),this._store=s,this._nameList=(t||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,s.count()),this._dimSummary=tg(this,this._schema),this.userOutput=this._dimSummary.userOutput},e.prototype.appendData=function(e){var t=this._store.appendData(e);this._doInit(t[0],t[1])},e.prototype.appendValues=function(e,t){var n,i,s=this._store.appendValues(e,t.length),o=s.start,a=s.end,r=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),t)for(n=o;n<a;n++)i=n-o,this._nameList[n]=t[i],r&&mc(this,n)},e.prototype._updateOrdinalMeta=function(){for(var e,s=this._store,n=this.dimensions,t=0;t<n.length;t++)e=this._dimInfos[n[t]],e.ordinalMeta&&s.collectOrdinalMeta(e.storeDimIndex,e.ordinalMeta)},e.prototype._shouldMakeIdFromName=function(){var e=this._store.getProvider();return this._idDimIdx==null&&e.getSource().sourceFormat!==it&&!e.fillStorage},e.prototype._doInit=function(e,t){if(e>=t)return;var n,s,i,a,r,c,l,d,u,h=this._store,o=h.getProvider();if(this._updateOrdinalMeta(),i=this._nameList,a=this._idList,l=o.getSource().sourceFormat,d=l===be,d&&!o.pure)for(u=[],n=e;n<t;n++)s=o.getItem(n,u),!this.hasItemOption&&wb(s)&&(this.hasItemOption=!0),s&&(r=s.name,i[n]==null&&r!=null&&(i[n]=Be(r,null)),c=s.id,a[n]==null&&c!=null&&(a[n]=Be(c,null)));if(this._shouldMakeIdFromName())for(n=e;n<t;n++)mc(this,n);yp(this)},e.prototype.getApproximateExtent=function(e){return this._approximateExtent[e]||this._store.getDataExtent(this._getStoreDimIndex(e))},e.prototype.setApproximateExtent=function(e,t){t=this.getDimension(t),this._approximateExtent[t]=e.slice()},e.prototype.getCalculationInfo=function(e){return this._calculationInfo[e]},e.prototype.setCalculationInfo=function(e,t){Zn(e)?n(this._calculationInfo,e):this._calculationInfo[e]=t},e.prototype.getName=function(e){var n=this.getRawIndex(e),t=this._nameList[n];return t==null&&this._nameDimIdx!=null&&(t=Fi(this,this._nameDimIdx,n)),t==null&&(t=""),t},e.prototype._getCategory=function(e,t){var n=this._store.get(e,t),s=this._store.getOrdinalMeta(e);return s?s.categories[n]:n},e.prototype.getId=function(e){return Zr(this,this.getRawIndex(e))},e.prototype.count=function(){return this._store.count()},e.prototype.get=function(e,t){var s=this._store,n=this._dimInfos[e];if(n)return s.get(n.storeDimIndex,t)},e.prototype.getByRawIndex=function(e,t){var s=this._store,n=this._dimInfos[e];if(n)return s.getByRawIndex(n.storeDimIndex,t)},e.prototype.getIndices=function(){return this._store.getIndices()},e.prototype.getDataExtent=function(e){return this._store.getDataExtent(this._getStoreDimIndex(e))},e.prototype.getSum=function(e){return this._store.getSum(this._getStoreDimIndex(e))},e.prototype.getMedian=function(e){return this._store.getMedian(this._getStoreDimIndex(e))},e.prototype.getValues=function(e,t){var o=this,n=this._store;return s(e)?n.getValues(yt(e,function(e){return o._getStoreDimIndex(e)}),t):n.getValues(e)},e.prototype.hasValue=function(e){for(var n=this._dimSummary.dataDimIndicesOnCoord,t=0,s=n.length;t<s;t++)if(isNaN(this._store.get(n[t],e)))return!1;return!0},e.prototype.indexOfName=function(e){for(var t=0,n=this._store.count();t<n;t++)if(this.getName(t)===e)return t;return-1},e.prototype.getRawIndex=function(e){return this._store.getRawIndex(e)},e.prototype.indexOfRawIndex=function(e){return this._store.indexOfRawIndex(e)},e.prototype.rawIndexOf=function(e,t){var n,s=e&&this._invertedIndicesMap[e];if(!s)throw new Error("Do not supported yet");return n=s[t],n==null||isNaN(n)?bc:n},e.prototype.indicesOfNearest=function(e,t,n){return this._store.indicesOfNearest(this._getStoreDimIndex(e),t,n)},e.prototype.each=function(e,t,n){d(e)&&(n=t,t=e,e=[]);var s=n||this,o=yt(Gn(e),this._getStoreDimIndex,this);this._store.each(o,s?f(t,s):t)},e.prototype.filterSelf=function(e,t,n){d(e)&&(n=t,t=e,e=[]);var s=n||this,o=yt(Gn(e),this._getStoreDimIndex,this);return this._store=this._store.filter(o,s?f(t,s):t),this},e.prototype.selectRange=function(e){var s=this,n={},o=k(e);return t(o,function(t){var o=s._getStoreDimIndex(t);n[o]=e[t]}),this._store=this._store.selectRange(n),this},e.prototype.mapArray=function(e,t,n){d(e)&&(n=t,t=e,e=[]),n=n||this;var s=[];return this.each(e,function(){s.push(t&&t.apply(this,arguments))},n),s},e.prototype.map=function(e,t,n,s){var o=n||s||this,a=yt(Gn(e),this._getStoreDimIndex,this),i=oc(this);return i._store=this._store.map(a,o?f(t,o):t),i},e.prototype.modify=function(e,n,s,o){var a,r=this,i=s||o||this;t(Gn(e),function(e){var t=r.getDimensionInfo(e);t.isCalculationCoord||console.error("Danger: only stack dimension can be modified")}),a=yt(Gn(e),this._getStoreDimIndex,this),this._store.modify(a,i?f(n,i):n)},e.prototype.downSample=function(e,t,n,s){var o=oc(this);return o._store=this._store.downSample(this._getStoreDimIndex(e),t,n,s),o},e.prototype.lttbDownSample=function(e,t){var n=oc(this);return n._store=this._store.lttbDownSample(this._getStoreDimIndex(e),t),n},e.prototype.getRawDataItem=function(e){return this._store.getRawDataItem(e)},e.prototype.getItemModel=function(e){var t=this.hostModel,n=this.getRawDataItem(e);return new C(n,t,t&&t.ecModel)},e.prototype.diff=function(e){var t=this;return new J6(e?e.getStore().getIndices():[],this.getStore().getIndices(),function(t){return Zr(e,t)},function(e){return Zr(t,e)})},e.prototype.getVisual=function(e){var t=this._visual;return t&&t[e]},e.prototype.setVisual=function(e,t){this._visual=this._visual||{},Zn(e)?n(this._visual,e):this._visual[e]=t},e.prototype.getItemVisual=function(e,t){var n=this._itemVisuals[e],s=n&&n[t];return s??this.getVisual(t)},e.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},e.prototype.ensureUniqueItemVisual=function(e,t){var o,a=this._itemVisuals,i=a[e];return i||(i=a[e]={}),o=i[t],o==null&&(o=this.getVisual(t),s(o)?o=o.slice():Zn(o)&&(o=n({},o)),i[t]=o),o},e.prototype.setItemVisual=function(e,t,s){var o=this._itemVisuals[e]||{};this._itemVisuals[e]=o,Zn(t)?n(o,t):o[t]=s},e.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},e.prototype.setLayout=function(e,t){Zn(e)?n(this._layout,e):this._layout[e]=t},e.prototype.getLayout=function(e){return this._layout[e]},e.prototype.getItemLayout=function(e){return this._itemLayouts[e]},e.prototype.setItemLayout=function(e,t,s){this._itemLayouts[e]=s?n(this._itemLayouts[e]||{},t):t},e.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},e.prototype.setItemGraphicEl=function(e,t){var n=this.hostModel&&this.hostModel.seriesIndex;_f(n,this.dataType,e,t),this._graphicEls[e]=t},e.prototype.getItemGraphicEl=function(e){return this._graphicEls[e]},e.prototype.eachItemGraphicEl=function(e,n){t(this._graphicEls,function(t,s){t&&e&&e.call(n,t,s)})},e.prototype.cloneShallow=function(t){return t||(t=new e(this._schema?this._schema:yt(this.dimensions,this._getDimInfo,this),this.hostModel)),fc(t,this),t._store=this._store,t},e.prototype.wrapMethod=function(e,t){var n=this[e];if(!d(n))return;this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(e),this[e]=function(){var e=n.apply(this,arguments);return t.apply(this,[e].concat(ir(arguments)))}},e.internalField=function(){yp=function(e){var n=e._invertedIndicesMap;t(n,function(t,s){var o,i=e._dimInfos[s],a=i.ordinalMeta,r=e._store;if(a){t=n[s]=new pp(a.categories.length);for(o=0;o<t.length;o++)t[o]=bc;for(o=0;o<r.count();o++)t[r.get(i.storeDimIndex,o)]=o}})},Fi=function(e,t,n){return Be(e._getCategory(t,n),null)},Zr=function(e,t){var n=e._idList[t];return n==null&&e._idDimIdx!=null&&(n=Fi(e,e._idDimIdx,t)),n==null&&(n=gp+t),n},Gn=function(e){return s(e)||(e=e!=null?[e]:[]),e},oc=function(t){var n=new e(t._schema?t._schema:yt(t.dimensions,t._getDimInfo,t),t.hostModel);return fc(n,t),n},fc=function(e,s){t(bp.concat(s.__wrappedMethods||[]),function(t){s.hasOwnProperty(t)&&(e[t]=s[t])}),e.__wrappedMethods=s.__wrappedMethods,t(jp,function(t){e[t]=c(s[t])}),e._calculationInfo=n({},s._calculationInfo)},mc=function(e,t){var i,a,r=e._nameList,o=e._idList,c=e._nameDimIdx,l=e._idDimIdx,n=r[t],s=o[t];n==null&&c!=null&&(r[t]=n=Fi(e,c,t)),s==null&&l!=null&&(o[t]=s=Fi(e,l,t)),s==null&&n!=null&&(i=e._nameRepeatCount,a=i[n]=(i[n]||0)+1,s=n,a>1&&(s+="__ec__"+a),o[t]=s)}}(),e}();function Qp(e,t){return Sp(e,t).dimensions}function Sp(e,s){pu(e)||(e=hu(e)),s=s||{};var o,c,d,u,h,f,g,v,E,k,M,C=s.coordDimensions||[],b=s.dimensionsDefine||e.dimensionsDefine||[],S=m(),l=[],r=qp(e,C,b,s.dimensionsCount),y=s.canOmitUnusedDimensions&&hp(r),w=b===e.dimensionsDefine,_=w?up(e):dp(b),j=s.encodeDefine;!j&&s.encodeDefaulter&&(j=s.encodeDefaulter(e,r));for(g=m(j),h=new Ud(r),c=0;c<h.length;c++)h[c]=-1;function p(e){var t,n,s,o,r,i=h[e];return i<0?(s=b[e],n=a(s)?s:{name:s},t=new gi,o=n.name,o!=null&&_.get(o)!=null&&(t.name=t.displayName=o),n.type!=null&&(t.type=n.type),n.displayName!=null&&(t.displayName=n.displayName),r=l.length,h[e]=r,t.storeDimIndex=e,l.push(t),t):l[i]}if(!y)for(c=0;c<r;c++)p(c);g.each(function(e,n){var o,s=N(e).slice();if(s.length===1&&!i(s[0])&&s[0]<0){g.set(n,!1);return}o=g.set(n,[]),t(s,function(e,t){var s=i(e)?_.get(e):e;s!=null&&s<r&&(o[t]=s,O(p(s),n,t))})}),u=0,t(C,function(e){if(i(e))l=e,s={};else{s=e,l=s.name;var s,o,c,l,d,h,m=s.ordinalMeta;s.ordinalMeta=null,s=n({},s),s.ordinalMeta=m,c=s.dimsDef,d=s.otherDims,s.name=s.coordDim=s.coordDimIndex=s.dimsDef=s.otherDims=null}if(o=g.get(l),o===!1)return;if(o=N(o),!o.length)for(h=0;h<(c&&c.length||1);h++){for(;u<r&&p(u).coordDim!=null;)u++;u<r&&o.push(u++)}t(o,function(e,t){var o,n=p(e);w&&s.type!=null&&(n.type=s.type),O(x(n,s),l,t),n.name==null&&c&&(o=c[t],!a(o)&&(o={name:o}),n.name=n.displayName=o.name,n.defaultTooltip=o.defaultTooltip),d&&x(n.otherDims,d)})});function O(e,t,n){sr.get(t)!=null?e.otherDims[t]=n:(e.coordDim=t,e.coordDimIndex=n,S.set(t,!0))}v=s.generateCoord,d=s.generateCoordCount,E=d!=null,d=v?d||1:0,k=v||"value";function A(e){e.name==null&&(e.name=e.coordDim)}if(y)t(l,function(e){A(e)}),l.sort(function(e,t){return e.storeDimIndex-t.storeDimIndex});else for(f=0;f<r;f++)o=p(f),M=o.coordDim,M==null&&(o.coordDim=Kp(k,S,E),o.coordDimIndex=0,(!v||d<=0)&&(o.isExtraCoord=!0),d--),A(o),o.type==null&&(q0(e,f)===oe.Must||o.isExtraCoord&&(o.otherDims.itemName!=null||o.otherDims.seriesName!=null))&&(o.type="ordinal");return Yp(l),new jc({source:e,dimensions:l,fullDimensionCount:r,dimensionOmitted:y})}function Yp(e){for(var t,n,o,i=m(),s=0;s<e.length;s++)o=e[s],n=o.name,t=i.get(n)||0,t>0&&(o.name=n+(t-1)),t++,i.set(n,t)}function qp(e,n,s,o){var i=Math.max(e.dimensionsDetectedCount||1,n.length,s.length,o||0);return t(n,function(e){var t;a(e)&&(t=e.dimsDef)&&(i=Math.max(i,t.length))}),i}function Kp(e,t,n){var s,o=t.data;if(n||o.hasOwnProperty(e)){for(s=0;o.hasOwnProperty(e+s);)s++;e+=s}return t.set(e,!0),e}zp=function(){function e(e){this.coordSysDims=[],this.axisMap=m(),this.categoryAxisMap=m(),this.coordSysName=e}return e}();function $p(e){var n=e.get("coordinateSystem"),t=new zp(n),s=Np[n];if(s)return s(e,t,t.axisMap,t.categoryAxisMap),t}Np={cartesian2d:function(e,t,n,s){var o=e.getReferringComponents("xAxis",rn).models[0],i=e.getReferringComponents("yAxis",rn).models[0];{if(!o)throw new Error('xAxis "'+bt(e.get("xAxisIndex"),e.get("xAxisId"),0)+'" not found');if(!i)throw new Error('yAxis "'+bt(e.get("xAxisIndex"),e.get("yAxisId"),0)+'" not found')}t.coordSysDims=["x","y"],n.set("x",o),n.set("y",i),Yn(o)&&(s.set("x",o),t.firstCategoryDimIndex=0),Yn(i)&&(s.set("y",i),t.firstCategoryDimIndex==null&&(t.firstCategoryDimIndex=1))},singleAxis:function(e,t,n,s){var o=e.getReferringComponents("singleAxis",rn).models[0];if(!o)throw new Error("singleAxis should be specified.");t.coordSysDims=["single"],n.set("single",o),Yn(o)&&(s.set("single",o),t.firstCategoryDimIndex=0)},polar:function(e,t,n,s){var a=e.getReferringComponents("polar",rn).models[0],o=a.findAxisModel("radiusAxis"),i=a.findAxisModel("angleAxis");{if(!i)throw new Error("angleAxis option not found");if(!o)throw new Error("radiusAxis option not found")}t.coordSysDims=["radius","angle"],n.set("radius",o),n.set("angle",i),Yn(o)&&(s.set("radius",o),t.firstCategoryDimIndex=0),Yn(i)&&(s.set("angle",i),t.firstCategoryDimIndex==null&&(t.firstCategoryDimIndex=1))},geo:function(e,t){t.coordSysDims=["lng","lat"]},parallel:function(e,n,s,o){var i=e.ecModel,a=i.getComponent("parallel",e.get("parallelIndex")),r=n.coordSysDims=a.dimensions.slice();t(a.parallelAxisIndex,function(e,t){var a=i.getComponent("parallelAxis",e),c=r[t];s.set(c,a),Yn(a)&&(o.set(c,a),n.firstCategoryDimIndex==null&&(n.firstCategoryDimIndex=t))})}};function Yn(e){return e.get("type")==="category"}function Rp(e,n,s){s=s||{};var o,a,r,c,l,d,u,m,f,p,g,v,b,h=s.byIndex,j=s.stackedCoordDimension;return Hp(n)?o=n:(c=n.schema,o=c.dimensions,u=n.store),b=!!(e&&e.get("stack")),t(o,function(e,t){i(e)&&(o[t]=e={name:e}),b&&!e.isExtraCoord&&(!h&&!r&&e.ordinalMeta&&(r=e),!a&&e.type!=="ordinal"&&e.type!=="time"&&(!j||j===e.coordDim)&&(a=e))}),a&&!h&&!r&&(h=!0),a&&(m="__\0ecstackresult_"+e.id,l="__\0ecstackedover_"+e.id,r&&(r.createInvertedIndices=!0),v=a.coordDim,d=a.type,f=0,t(o,function(e){e.coordDim===v&&f++}),p={name:m,coordDim:v,coordDimIndex:f,type:d,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:o.length},g={name:l,coordDim:l,coordDimIndex:f+1,type:d,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:o.length+1},c?(u&&(p.storeDimIndex=u.ensureCalculationDimension(l,d),g.storeDimIndex=u.ensureCalculationDimension(m,d)),c.appendCalculationDimension(p),c.appendCalculationDimension(g)):(o.push(p),o.push(g))),{stackedDimension:a&&a.name,stackedByDimension:r&&r.name,isStackedByIndex:h,stackedOverDimension:l,stackResultDimension:m}}function Hp(e){return!lp(e.schema)}function th(e,t){return!!t&&t===e.getCalculationInfo("stackedDimension")}function Ip(e,t){return th(e,t)?e.getCalculationInfo("stackResultDimension"):t}function Bp(e,t){var s,o=e.get("coordinateSystem"),n=Un.get(o);return t&&t.coordSysDims&&(s=r(t.coordSysDims,function(e){var o,n={name:e},s=t.axisMap.get(e);return s&&(o=s.get("type"),n.type=eg(o)),n})),s||(s=n&&(n.getDimensionsInfo?n.getDimensionsInfo():n.dimensions.slice())||["x","y"]),s}function Vp(e,n,s){var o,i;return s&&t(e,function(e,t){var r=e.coordDim,a=s.categoryAxisMap.get(r);a&&(o==null&&(o=t),e.ordinalMeta=a.getOrdinalMeta(),n&&(e.createInvertedIndices=!0)),e.otherDims.itemName!=null&&(i=!0)}),!i&&o!=null&&(e[o].otherDims.itemName=0),o}function Dp(e,t,n){n=n||{};var s,i,a,r,c,l,u,h,m,f,g,v,p=t.getSourceManager(),o=!1;return e?(o=!0,s=hu(e)):(s=p.getSource(),o=s.sourceFormat===be),h=$p(t),l=Bp(t,h),r=n.useEncodeDefaulter,m=d(r)?r:r?se(M7,l,t):null,f={coordDimensions:l,generateCoord:n.generateCoord,encodeDefine:t.getEncode(),encodeDefaulter:m,canOmitUnusedDimensions:!o},a=Sp(s,f),c=Vp(a.dimensions,n.createInvertedIndices,h),u=o?null:p.getSharedDataStore(a),g=Rp(t,{schema:a,store:u}),i=new hc(a,t),i.setCalculationInfo(g),v=c!=null&&Wp(s)?function(e,t,n,s){return s===c?n:this.defaultDimValueGetter(e,t,n,s)}:null,i.hasItemOption=!1,i.initData(o?s:u,null,v),i}function Wp(e){if(e.sourceFormat===be){var t=Up(e.data||[]);return!s(hi(t))}}function Up(e){for(var t=0;t<e.length&&e[t]==null;)t++;return e[t]}We=function(){function e(e){this._setting=e||{},this._extent=[1/0,-(1/0)]}return e.prototype.getSetting=function(e){return this._setting[e]},e.prototype.unionExtent=function(e){var t=this._extent;e[0]<t[0]&&(t[0]=e[0]),e[1]>t[1]&&(t[1]=e[1])},e.prototype.unionExtentFromData=function(e,t){this.unionExtent(e.getApproximateExtent(t))},e.prototype.getExtent=function(){return this._extent.slice()},e.prototype.setExtent=function(e,t){var n=this._extent;isNaN(e)||(n[0]=e),isNaN(t)||(n[1]=t)},e.prototype.isInExtentRange=function(e){return this._extent[0]<=e&&this._extent[1]>=e},e.prototype.isBlank=function(){return this._isBlank},e.prototype.setBlank=function(e){this._isBlank=e},e}(),Ja(We),Fp=0,uc=function(){function e(e){this.categories=e.categories||[],this._needCollect=e.needCollect,this._deduplication=e.deduplication,this.uid=++Fp}return e.createByAxisModel=function(t){var n=t.option,s=n.data,o=s&&r(s,Gp);return new e({categories:o,needCollect:!o,deduplication:n.dedplication!==!1})},e.prototype.getOrdinal=function(e){return this._getOrCreateMap().get(e)},e.prototype.parseAndCollect=function(e){var t,s,n=this._needCollect;return!i(e)&&!n?e:n&&!this._deduplication?(t=this.categories.length,this.categories[t]=e,t):(s=this._getOrCreateMap(),t=s.get(e),t==null&&(n?(t=this.categories.length,this.categories[t]=e,s.set(e,t)):t=NaN),t)},e.prototype._getOrCreateMap=function(){return this._map||(this._map=m(this.categories))},e}();function Gp(e){return a(e)&&e.value!=null?e.value:e+""}function Xp(e,t,n,s){var a,r,i={},c=e[1]-e[0],o=i.interval=Lu(c/t,!0);return n!=null&&o<n&&(o=i.interval=n),s!=null&&o>s&&(o=i.interval=s),a=i.intervalPrecision=Ap(o),r=i.niceTickExtent=[fe(Math.ceil(e[0]/o)*o,a),fe(Math.floor(e[1]/o)*o,a)],Jp(r,e),i}function Ap(e){return dt(e)+2}function op(e,t,n){e[t]=Math.max(Math.min(e[t],n[1]),n[0])}function Jp(e,t){!isFinite(e[0])&&(e[0]=t[0]),!isFinite(e[1])&&(e[1]=t[1]),op(e,0,t),op(e,1,t),e[0]>e[1]&&(e[0]=e[1])}function Yr(e,t){return e>=t[0]&&e<=t[1]}function qr(e,t){return t[1]===t[0]?.5:(e-t[0])/(t[1]-t[0])}function Br(e,t){return e*(t[1]-t[0])+t[0]}Cc=function(e){o(t,e);function t(t){var n,o=e.call(this,t)||this;return o.type="ordinal",n=o.getSetting("ordinalMeta"),n||(n=new uc({})),s(n)&&(n=new uc({categories:r(n,function(e){return a(e)?e.value:e})})),o._ordinalMeta=n,o._extent=o.getSetting("extent")||[0,n.categories.length-1],o}return t.prototype.parse=function(e){return i(e)?this._ordinalMeta.getOrdinal(e):Math.round(e)},t.prototype.contain=function(e){return e=this.parse(e),Yr(e,this._extent)&&this._ordinalMeta.categories[e]!=null},t.prototype.normalize=function(e){return e=this._getTickNumber(this.parse(e)),qr(e,this._extent)},t.prototype.scale=function(e){return e=Math.round(Br(e,this._extent)),this.getRawOrdinalNumber(e)},t.prototype.getTicks=function(){for(var t=[],n=this._extent,e=n[0];e<=n[1];)t.push({value:e}),e++;return t},t.prototype.getMinorTicks=function(){},t.prototype.setSortInfo=function(e){if(e==null){this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null;return}for(var n,o,i=e.ordinalNumbers,a=this._ordinalNumbersByTick=[],s=this._ticksByOrdinalNumber=[],t=0,r=this._ordinalMeta.categories.length,c=Math.min(r,i.length);t<c;++t)o=i[t],a[t]=o,s[o]=t;for(n=0;t<r;++t){for(;s[n]!=null;)n++;a.push(n),s[n]=t}},t.prototype._getTickNumber=function(e){var t=this._ticksByOrdinalNumber;return t&&e>=0&&e<t.length?t[e]:e},t.prototype.getRawOrdinalNumber=function(e){var t=this._ordinalNumbersByTick;return t&&e>=0&&e<t.length?t[e]:e},t.prototype.getLabel=function(e){if(!this.isBlank()){var n=this.getRawOrdinalNumber(e.value),t=this._ordinalMeta.categories[n];return t==null?"":t+""}},t.prototype.count=function(){return this._extent[1]-this._extent[0]+1},t.prototype.unionExtentFromData=function(e,t){this.unionExtent(e.getApproximateExtent(t))},t.prototype.isInExtentRange=function(e){return e=this._getTickNumber(e),this._extent[0]<=e&&this._extent[1]>=e},t.prototype.getOrdinalMeta=function(){return this._ordinalMeta},t.prototype.calcNiceTicks=function(){},t.prototype.calcNiceExtent=function(){},t.type="ordinal",t}(We),We.registerClass(Cc),Ut=fe,js=function(e){o(t,e);function t(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="interval",t._interval=0,t._intervalPrecision=2,t}return t.prototype.parse=function(e){return e},t.prototype.contain=function(e){return Yr(e,this._extent)},t.prototype.normalize=function(e){return qr(e,this._extent)},t.prototype.scale=function(e){return Br(e,this._extent)},t.prototype.setExtent=function(e,t){var n=this._extent;isNaN(e)||(n[0]=parseFloat(e)),isNaN(t)||(n[1]=parseFloat(t))},t.prototype.unionExtent=function(e){var t=this._extent;e[0]<t[0]&&(t[0]=e[0]),e[1]>t[1]&&(t[1]=e[1]),this.setExtent(t[0],t[1])},t.prototype.getInterval=function(){return this._interval},t.prototype.setInterval=function(e){this._interval=e,this._niceExtent=this._extent.slice(),this._intervalPrecision=Ap(e)},t.prototype.getTicks=function(e){var n,r,c,o=this._interval,i=this._extent,s=this._niceExtent,a=this._intervalPrecision,t=[];if(!o)return t;for(c=1e4,i[0]<s[0]&&(e?t.push({value:Ut(s[0]-o,a)}):t.push({value:i[0]})),n=s[0];n<=s[1];){if(t.push({value:n}),n=Ut(n+o,a),n===t[t.length-1].value)break;if(t.length>c)return[]}return r=t.length?t[t.length-1].value:s[1],i[1]>r&&(e?t.push({value:Ut(r+o,a)}):t.push({value:i[1]})),t},t.prototype.getMinorTicks=function(e){for(var n,s,i,a,l,d,u,o=this.getTicks(!0),r=[],c=this.getExtent(),t=1;t<o.length;t++){for(l=o[t],i=o[t-1],n=0,a=[],d=l.value-i.value,u=d/e;n<e-1;)s=Ut(i.value+(n+1)*u),s>c[0]&&s<c[1]&&a.push(s),n++;r.push(a)}return r},t.prototype.getLabel=function(e,t){if(e==null)return"";var s,n=t&&t.precision;return n==null?n=dt(e.value)||0:n==="auto"&&(n=this._intervalPrecision),s=Ut(e.value,n,!0),E1(s)},t.prototype.calcNiceTicks=function(e,t,n){e=e||5;var i,s=this._extent,o=s[1]-s[0];if(!isFinite(o))return;o<0&&(o=-o,s.reverse()),i=Xp(s,e,t,n),this._intervalPrecision=i.intervalPrecision,this._interval=i.interval,this._niceExtent=i.niceTickExtent},t.prototype.calcNiceExtent=function(e){var n,s,o,t=this._extent;t[0]===t[1]&&(t[0]!==0?(s=t[0],e.fixMax?t[0]-=s/2:(t[1]+=s/2,t[0]-=s/2)):t[1]=1),o=t[1]-t[0],isFinite(o)||(t[0]=0,t[1]=1),this.calcNiceTicks(e.splitNumber,e.minInterval,e.maxInterval),n=this._interval,e.fixMin||(t[0]=Ut(Math.floor(t[0]/n)*n)),e.fixMax||(t[1]=Ut(Math.ceil(t[1]/n)*n))},t.prototype.setNiceExtent=function(e,t){this._niceExtent=[e,t]},t.type="interval",t}(We),We.registerClass(js),S6="__ec_stack_";function E6(e){return e.get("stack")||S6+e.seriesIndex}function C6(e){return e.dim+e.index}function lg(e,t){var n=[];return t.eachSeriesByType(e,function(e){fg(e)&&n.push(e)}),n}function dg(e){var s,o,i,a,r,c,n={};t(e,function(e){if(r=e.coordinateSystem,t=r.getBaseAxis(),t.type!=="time"&&t.type!=="value")return;for(var t,a,r,s=e.getData(),o=t.dim+"_"+t.index,l=s.getDimensionIndex(s.mapDimension(t.dim)),c=s.getStore(),i=0,d=c.count();i<d;++i)a=c.get(l,i),n[o]?n[o].push(a):n[o]=[a]}),r={};for(c in n)if(n.hasOwnProperty(c)&&(s=n[c],s)){s.sort(function(e,t){return e-t});for(o=null,i=1;i<s.length;++i)a=s[i]-s[i-1],a>0&&(o=o===null?a:Math.min(o,a));r[c]=o}return r}function ug(e){var s=dg(e),n=[];return t(e,function(e){var o,a,r,c,l,d,u,h,m,f,p,g,v=e.coordinateSystem,t=v.getBaseAxis(),i=t.getExtent();t.type==="category"?o=t.getBandWidth():t.type==="value"||t.type==="time"?(l=t.dim+"_"+t.index,r=s[l],a=Math.abs(i[1]-i[0]),c=t.scale.getExtent(),d=Math.abs(c[1]-c[0]),o=r?a/d*r:a):(u=e.getData(),o=Math.abs(i[1]-i[0])/u.count()),h=L(e.get("barWidth"),o),m=L(e.get("barMaxWidth"),o),f=L(e.get("barMinWidth")||(pg(e)?.5:1),o),p=e.get("barGap"),g=e.get("barCategoryGap"),n.push({bandWidth:o,barWidth:h,barMaxWidth:m,barMinWidth:f,barGap:p,barCategoryGap:g,axisKey:C6(t),stackId:E6(e)})}),hg(n)}function hg(e){var n,s={};return t(e,function(e){var n,a,r,c,l,d,u=e.axisKey,h=e.bandWidth,o=s[u]||{bandWidth:h,remainedWidth:h,autoWidthCount:0,categoryGap:null,gap:"20%",stacks:{}},i=o.stacks;s[u]=o,n=e.stackId,i[n]||o.autoWidthCount++,i[n]=i[n]||{width:0,maxWidth:0},a=e.barWidth,a&&!i[n].width&&(i[n].width=a,a=Math.min(o.remainedWidth,a),o.remainedWidth-=a),r=e.barMaxWidth,r&&(i[n].maxWidth=r),c=e.barMinWidth,c&&(i[n].minWidth=c),l=e.barGap,l!=null&&(o.gap=l),d=e.barCategoryGap,d!=null&&(o.categoryGap=d)}),n={},t(s,function(e,s){n[s]={};var o,i,a,r,l,u,h,m,p,c=e.stacks,f=e.bandWidth,d=e.categoryGap;d==null&&(p=k(c).length,d=Math.max(35-p*4,15)+"%"),u=L(d,f),i=L(e.gap,1),r=e.remainedWidth,a=e.autoWidthCount,o=(r-u)/(a+(a-1)*i),o=Math.max(o,0),t(c,function(e){var t,n=e.maxWidth,s=e.minWidth;e.width?(t=e.width,n&&(t=Math.min(t,n)),s&&(t=Math.max(t,s)),e.width=t,r-=t+i*t,a--):(t=o,n&&n<t&&(t=Math.min(n,r)),s&&s>t&&(t=s),t!==o&&(e.width=t,r-=t+i*t,a--))}),o=(r-u)/(a+(a-1)*i),o=Math.max(o,0),l=0,t(c,function(e){e.width||(e.width=o),h=e,l+=e.width*(1+i)}),h&&(l-=h.width*i),m=-l/2,t(c,function(e,t){n[s][t]=n[s][t]||{bandWidth:f,offset:m,width:e.width},m+=e.width*(1+i)})}),n}function mg(e,t,n){if(e&&t){var s=e[C6(t)];return s!=null&&n!=null?s[E6(n)]:s}}function fg(e){return e.coordinateSystem&&e.coordinateSystem.type==="cartesian2d"}function pg(e){return e.pipelineContext&&e.pipelineContext.large}df=function(e,t,n,s){for(;n<s;){var o=n+s>>>1;e[o][1]<t?n=o+1:s=o}return n},_l=function(e){o(t,e);function t(t){var n=e.call(this,t)||this;return n.type="time",n}return t.prototype.getLabel=function(e){var t=this.getSetting("useUTC");return Ao(e.value,R1[W7(_s(this._minLevelUnit))]||R1.second,t,this.getSetting("locale"))},t.prototype.getFormattedLabel=function(e,t,n){var s=this.getSetting("useUTC"),o=this.getSetting("locale");return V7(e,t,n,o,s)},t.prototype.getTicks=function(){var n,s,o=this._interval,t=this._extent,e=[];return o?(e.push({value:t[0],level:0}),n=this.getSetting("useUTC"),s=Eg(this._minLevelUnit,this._approxInterval,n,t),e=e.concat(s),e.push({value:t[1],level:0}),e):e},t.prototype.calcNiceExtent=function(e){var n,t=this._extent;t[0]===t[1]&&(t[0]-=he,t[1]+=he),t[1]===-(1/0)&&t[0]===1/0&&(n=new Date,t[1]=+new Date(n.getFullYear(),n.getMonth(),n.getDate()),t[0]=t[1]-he),this.calcNiceTicks(e.splitNumber,e.minInterval,e.maxInterval)},t.prototype.calcNiceTicks=function(e,t,n){e=e||10;var s,o,i=this._extent,a=i[1]-i[0];this._approxInterval=a/e,t!=null&&this._approxInterval<t&&(this._approxInterval=t),n!=null&&this._approxInterval>n&&(this._approxInterval=n),s=fi.length,o=Math.min(df(fi,this._approxInterval,0,s),s-1),this._interval=fi[o][1],this._minLevelUnit=fi[Math.max(o-1,0)][0]},t.prototype.parse=function(e){return E(e)?e:+le(e)},t.prototype.contain=function(e){return Yr(this.parse(e),this._extent)},t.prototype.normalize=function(e){return qr(this.parse(e),this._extent)},t.prototype.scale=function(e){return Br(e,this._extent)},t.type="time",t}(js),fi=[["second",pa],["minute",ba],["hour",us],["quarter-day",us*6],["half-day",us*12],["day",he*1.2],["half-week",he*3.5],["week",he*7],["month",he*31],["quarter",he*95],["half-year",V1/2],["year",V1]];function jg(e,t,n,s){var u=le(t),h=le(n),o=function(e){return L4(u,e,s)===L4(h,e,s)},i=function(){return o("year")},a=function(){return i()&&o("month")},r=function(){return a()&&o("day")},c=function(){return r()&&o("hour")},l=function(){return c()&&o("minute")},d=function(){return l()&&o("second")},m=function(){return d()&&o("millisecond")};switch(e){case"year":return i();case"month":return a();case"day":return r();case"hour":return c();case"minute":return l();case"second":return d();case"millisecond":return m()}}function yg(e){return e/=he,e>16?16:e>7.5?7:e>3.5?4:e>1.5?2:1}function _g(e){var t=30*he;return e/=t,e>6?6:e>3?3:e>2?2:1}function wg(e){return e/=us,e>12?12:e>6?6:e>3.5?4:e>2?2:1}function nf(e,t){return e/=t?ba:pa,e>30?30:e>20?20:e>15?15:e>10?10:e>5?5:e>2?2:1}function xg(e){return Lu(e,!0)}function Cg(e,t,n){var s=new Date(e);switch(_s(t)){case"year":case"month":s[U4(n)](0);case"day":s[K4(n)](1);case"hour":s[q4(n)](0);case"minute":s[Y4(n)](0);case"second":s[G4(n)](0),s[X4(n)](0)}return s.getTime()}function Eg(e,t,n,s){var o,i,c,l,d,u,h,m,f,p,g,v,b,j,y,O,x,_=1e4,a=N1,w=0;function C(e,t,n,o,i,a,r){for(var l=new Date(t),c=t,d=l[o]();c<n&&c<=s[1];)r.push({value:c}),d+=e,l[i](d),c=l.getTime();r.push({value:c,notAdd:!0})}function E(e,o,i){var a,r,c,l,u,h,m,d=[],f=!o.length;if(jg(_s(e),s[0],s[1],n))return;f&&(o=[{value:Cg(new Date(s[0]),e,n)},{value:s[1]}]);for(a=0;a<o.length-1;a++){if(u=o[a].value,h=o[a+1].value,u===h)continue;switch(r=void 0,c=void 0,l=void 0,m=!1,e){case"year":r=Math.max(1,Math.round(t/he/365)),c=T1(n),l=H7(n);break;case"half-year":case"quarter":case"month":r=_g(t),c=Rs(n),l=U4(n);break;case"week":case"half-week":case"day":r=yg(t),c=Da(n),l=K4(n),m=!0;break;case"half-day":case"quarter-day":case"hour":r=wg(t),c=bo(n),l=q4(n);break;case"minute":r=nf(t,!0),c=Na(n),l=Y4(n);break;case"second":r=nf(t,!1),c=La(n),l=G4(n);break;case"millisecond":r=xg(t),c=Ba(n),l=X4(n);break}C(r,u,h,c,l,m,d),e==="year"&&i.length>1&&a===0&&i.unshift({value:i[0].value-r})}for(a=0;a<d.length;a++)i.push(d[a]);return d}for(u=[],i=[],d=0,v=0,o=0;o<a.length&&w++<_;++o){if(x=_s(a[o]),!U7(a[o]))continue;if(E(a[o],u[u.length-1]||[],i),y=a[o+1]?_s(a[o+1]):null,x!==y){if(i.length){v=d,i.sort(function(e,t){return e.value-t.value});for(b=[],l=0;l<i.length;++l)p=i[l].value,(l===0||i[l-1].value!==p)&&(b.push(i[l]),p>=s[0]&&p<=s[1]&&d++);if(h=(s[1]-s[0])/t,d>h*1.5&&v>h/1.5)break;if(u.push(b),d>h||e===a[o])break}i=[]}}w>=_&&uu("Exceed safe limit.");for(m=F(r(u,function(e){return F(e,function(e){return e.value>=s[0]&&e.value<=s[1]&&!e.notAdd})}),function(e){return e.length>0}),c=[],O=m.length-1,o=0;o<m.length;++o)for(j=m[o],f=0;f<j.length;++f)c.push({value:j[f].value,level:O-o});c.sort(function(e,t){return e.value-t.value});for(g=[],o=0;o<c.length;++o)(o===0||c[o].value!==c[o-1].value)&&g.push(c[o]);return g}We.registerClass(_l),xl=We.prototype,Jn=js.prototype,H8=fe,P8=Math.floor,L8=Math.ceil,wi=Math.pow,de=Math.log,qi=function(e){o(t,e);function t(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="log",t.base=10,t._originalScale=new js,t._interval=0,t}return t.prototype.getTicks=function(e){var s=this._originalScale,t=this._extent,n=s.getExtent(),o=Jn.getTicks.call(this,e);return r(o,function(e){var o=e.value,s=fe(wi(this.base,o)),s=o===t[0]&&this._fixMin?$i(s,n[0]):s,s=o===t[1]&&this._fixMax?$i(s,n[1]):s;return{value:s}},this)},t.prototype.setExtent=function(e,t){var n=this.base;e=de(e)/de(n),t=de(t)/de(n),Jn.setExtent.call(this,e,t)},t.prototype.getExtent=function(){var t,s,n=this.base,e=xl.getExtent.call(this);return e[0]=wi(n,e[0]),e[1]=wi(n,e[1]),s=this._originalScale,t=s.getExtent(),this._fixMin&&(e[0]=$i(e[0],t[0])),this._fixMax&&(e[1]=$i(e[1],t[1])),e},t.prototype.unionExtent=function(e){this._originalScale.unionExtent(e);var t=this.base;e[0]=de(e[0])/de(t),e[1]=de(e[1])/de(t),xl.unionExtent.call(this,e)},t.prototype.unionExtentFromData=function(e,t){this.unionExtent(e.getApproximateExtent(t))},t.prototype.calcNiceTicks=function(e){e=e||10;var t,o,i,n=this._extent,s=n[1]-n[0];if(s===1/0||s<=0)return;for(t=a2(s),o=e/s*t,o<=.5&&(t*=10);!isNaN(t)&&Math.abs(t)<1&&Math.abs(t)>0;)t*=10;i=[fe(L8(n[0]/t)*t),fe(P8(n[1]/t)*t)],this._interval=t,this._niceExtent=i},t.prototype.calcNiceExtent=function(e){Jn.calcNiceExtent.call(this,e),this._fixMin=e.fixMin,this._fixMax=e.fixMax},t.prototype.parse=function(e){return e},t.prototype.contain=function(e){return e=de(e)/de(this.base),Yr(e,this._extent)},t.prototype.normalize=function(e){return e=de(e)/de(this.base),qr(e,this._extent)},t.prototype.scale=function(e){return e=Br(e,this._extent),wi(this.base,e)},t.type="log",t}(We),Rl=qi.prototype,Rl.getMinorTicks=Jn.getMinorTicks,Rl.getLabel=Jn.getLabel;function $i(e,t){return H8(e,dt(t))}We.registerClass(qi),p8=function(){function e(e,t,n){this._prepareParams(e,t,n)}return e.prototype._prepareParams=function(e,t,n){n[1]<n[0]&&(n=[NaN,NaN]),this._dataMin=n[0],this._dataMax=n[1];var o,i,a,r,c=this._isOrdinal=e.type==="ordinal";this._needCrossZero=e.type==="interval"&&t.getNeedCrossZero&&t.getNeedCrossZero(),o=this._modelMinRaw=t.get("min",!0),d(o)?this._modelMinNum=Qi(e,o({min:n[0],max:n[1]})):o!=="dataMin"&&(this._modelMinNum=Qi(e,o)),i=this._modelMaxRaw=t.get("max",!0),d(i)?this._modelMaxNum=Qi(e,i({min:n[0],max:n[1]})):i!=="dataMax"&&(this._modelMaxNum=Qi(e,i)),c?this._axisDataLen=t.getCategories().length:(a=t.get("boundaryGap"),r=s(a)?a:[a||0,a||0],typeof r[0]=="boolean"||typeof r[1]=="boolean"?(console.warn('Boolean type for boundaryGap is only allowed for ordinal axis. Please use string in percentage instead, e.g., "20%". Currently, boundaryGap is set to be 0.'),this._boundaryGapInner=[0,0]):this._boundaryGapInner=[Ct(r[0],1),Ct(r[1],1)])},e.prototype.calculate=function(){var c,l,h,s=this._isOrdinal,o=this._dataMin,i=this._dataMax,n=this._axisDataLen,d=this._boundaryGapInner,u=s?null:i-o||Math.abs(o),e=this._modelMinRaw==="dataMin"?o:this._modelMinNum,t=this._modelMaxRaw==="dataMax"?i:this._modelMaxNum,a=e!=null,r=t!=null;return e==null&&(e=s?n?0:NaN:o-d[0]*u),t==null&&(t=s?n?n-1:NaN:i+d[1]*u),(e==null||!isFinite(e))&&(e=NaN),(t==null||!isFinite(t))&&(t=NaN),h=zs(e)||zs(t)||s&&!n,this._needCrossZero&&(e>0&&t>0&&!a&&(e=0),e<0&&t<0&&!r&&(t=0)),c=this._determinedMin,l=this._determinedMax,c!=null&&(e=c,a=!0),l!=null&&(t=l,r=!0),{min:e,max:t,minFixed:a,maxFixed:r,isBlank:h}},e.prototype.modifyDataMinMax=function(e,t){u(!this.frozen),this[m8[e]]=t},e.prototype.setDeterminedMinMax=function(e,t){var n=f8[e];u(!this.frozen&&this[n]==null),this[n]=t},e.prototype.freeze=function(){this.frozen=!0},e}(),f8={min:"_determinedMin",max:"_determinedMax"},m8={min:"_dataMin",max:"_dataMax"};function Ig(e,t,n){var s=e.rawExtentInfo;return s||(s=new p8(e,t,n),e.rawExtentInfo=s,s)}function Qi(e,t){return t==null?null:zs(t)?NaN:e.parse(t)}function Vg(e,n){var o,i,a,r,c,l,d,u=e.type,s=Ig(e,n,e.getExtent()).calculate();return e.setBlank(s.isBlank),o=s.min,i=s.max,r=n.ecModel,r&&u==="time"&&(c=lg("bar",r),a=!1,t(c,function(e){a=a||e.getBaseAxis()===n.axis}),a&&(d=ug(c),l=$g(o,i,n,d),o=l.min,i=l.max)),{extent:[o,i],fixMin:s.minFixed,fixMax:s.maxFixed}}function $g(e,n,s,o){var i,a,c,l,d,h,u=s.axis.getExtent(),m=u[1]-u[0],r=mg(o,s.axis);return r===void 0?{min:e,max:n}:(i=1/0,t(r,function(e){i=Math.min(e.offset,i)}),a=-(1/0),t(r,function(e){a=Math.max(e.offset+e.width,a)}),i=Math.abs(i),a=Math.abs(a),c=i+a,l=n-e,h=1-(i+a)/m,d=l/h-l,n+=d*(a/c),e-=d*(i/c),{min:e,max:n})}function Wg(e,t){var o,i,a,n=t,s=Vg(e,n),r=s.extent,c=n.get("splitNumber");e instanceof qi&&(e.base=n.get("logBase")),o=e.type,i=n.get("interval"),a=o==="interval"||o==="time",e.setExtent(r[0],r[1]),e.calcNiceExtent({splitNumber:c,fixMin:s.fixMin,fixMax:s.fixMax,minInterval:a?n.get("minInterval"):null,maxInterval:a?n.get("maxInterval"):null}),i!=null&&e.setInterval&&e.setInterval(i)}function Ug(e,t){if(t=t||e.get("type"),t)switch(t){case"category":return new Cc({ordinalMeta:e.getOrdinalMeta?e.getOrdinalMeta():e.getCategories(),extent:[1/0,-(1/0)]});case"time":return new _l({locale:e.ecModel.getLocaleModel(),useUTC:e.ecModel.get("useUTC")});default:return new(We.getClass(t)||js)}}function Ji(e){var t=e.getLabelModel().get("formatter"),n=e.type==="category"?e.scale.getExtent()[0]:null;return e.scale.type==="time"?function(t){return function(n,s){return e.scale.getFormattedLabel(n,s,t)}}(t):i(t)?function(t){return function(n){var s=e.scale.getLabel(n),o=t.replace("{value}",s??"");return o}}(t):d(t)?function(t){return function(s,o){return n!=null&&(o=s.value-n),t(Wl(e,s),o,s.level!=null?{level:s.level}:null)}}(t):function(t){return e.scale.getLabel(t)}}function Wl(e,t){return e.type==="category"?e.scale.getLabel(t):t.value}function ed(e){var t=e.get("interval");return t??"auto"}function Mm(e){return e.type==="category"&&ed(e.getLabelModel())===0}km=function(){function e(){}return e.prototype.getNeedCrossZero=function(){var e=this.option;return!e.scale},e.prototype.getCoordSysModel=function(){},e}();function Qg(e){return Dp(null,e)}Em={isDimensionStacked:th,enableDataStack:Rp,getStackedDimension:Ip};function Jg(e,t){var n,s=t;return t instanceof C||(s=new C(t)),n=Ug(s),n.setExtent(e[0],e[1]),Wg(n,s),n}function e5(e){Ye(e,km)}function t5(e,t){return t=t||{},Ve(e,null,null,t.state!=="normal")}Cm=Object.freeze({__proto__:null,createDimensions:Qp,createList:Qg,createScale:Jg,createSymbol:Kn,createTextStyle:t5,dataStack:Em,enableHoverEmphasis:im,getECData:y,getLayoutRect:Us,mixinAxisModelCommonMethods:e5}),td=[],Om={registerPreprocessor:Nc,registerProcessor:Dc,registerPostInit:N6,registerPostUpdate:L6,registerUpdateLifecycle:Ar,registerAction:Nn,registerCoordinateSystem:H6,registerLayout:B6,registerVisual:Kt,registerTransform:xc,registerLoading:Ec,registerMap:q6,registerImpl:gg,PRIORITY:ul,ComponentModel:p,ComponentView:$,SeriesModel:Te,ChartView:Re,registerComponentModel:function(e){p.registerClass(e)},registerComponentView:function(e){$.registerClass(e)},registerSeriesModel:function(e){Te.registerClass(e)},registerChartView:function(e){Re.registerClass(e)},registerSubTypeDefaulter:function(e,t){p.registerSubTypeDefaulter(e,t)},registerPainter:function(e,t){H4(e,t)}};function J(e){if(s(e)){t(e,function(e){J(e)});return}if(_(td,e)>=0)return;td.push(e),d(e)&&(e={install:e}),e.install(Om)}ym=1e-8;function nm(e,t){return Math.abs(e-t)<ym}function tm(e,t,n){var o,i,a,r=0,s=e[0];if(!s)return!1;for(i=1;i<e.length;i++)a=e[i],r+=ut(s[0],s[1],a[0],a[1],t,n),s=a;return o=e[0],(!nm(s[0],o[0])||!nm(s[1],o[1]))&&(r+=ut(s[0],s[1],o[0],o[1],t,n)),r!==0}Gh=[];function Od(e,t){for(var n=0;n<e.length;n++)pe(e[n],e[n],t)}function e4(e,t,n,s){for(var o,i=0;i<e.length;i++)o=e[i],s&&(o=s.project(o)),o&&isFinite(o[0])&&isFinite(o[1])&&(Xt(t,t,o),qt(n,n,o))}function h5(e){for(var s,o,i,t=0,l=0,d=0,a=e.length,r=e[a-1][0],c=e[a-1][1],n=0;n<a;n++)s=e[n][0],o=e[n][1],i=r*o-s*c,t+=i,l+=(r+s)*i,d+=(c+o)*i,r=s,c=o;return t?[l/t/3,d/t/3,t]:[e[0][0]||0,e[0][1]||0]}xd=function(){function e(e){this.name=e}return e.prototype.setCenter=function(e){this._center=e},e.prototype.getCenter=function(){var e=this._center;return e||(e=this._center=this.calcCenter()),e},e}(),Ed=function(){function e(e,t){this.type="polygon",this.exterior=e,this.interiors=t}return e}(),Ad=function(){function e(e){this.type="linestring",this.points=e}return e}(),Nh=function(e){o(n,e);function n(t,n,s){var o=e.call(this,t)||this;return o.type="geoJSON",o.geometries=n,o._center=s&&[s[0],s[1]],o}return n.prototype.calcCenter=function(){for(var e,t,s,o,i,a=this.geometries,r=0,n=0;n<a.length;n++)s=a[n],o=s.exterior,i=o&&o.length,i>r&&(t=s,r=i);return t?h5(t.exterior):(e=this.getBoundingRect(),[e.x+e.width/2,e.y+e.height/2])},n.prototype.getBoundingRect=function(e){var n,s,i,o=this._rect;return o&&!e?o:(n=[1/0,1/0],s=[-(1/0),-(1/0)],i=this.geometries,t(i,function(o){o.type==="polygon"?e4(o.exterior,n,s,e):t(o.points,function(t){e4(t,n,s,e)})}),isFinite(n[0])&&isFinite(n[1])&&isFinite(s[0])&&isFinite(s[1])||(n[0]=n[1]=s[0]=s[1]=0),o=new b(n[0],n[1],s[0]-n[0],s[1]-n[1]),e||(this._rect=o),o)},n.prototype.contain=function(e){if(a=this.getBoundingRect(),o=this.geometries,!a.contain(e[0],e[1]))return!1;loopGeo:for(var t,n,s,o,a,r,i=0,c=o.length;i<c;i++){if(t=o[i],t.type!=="polygon")continue;if(r=t.exterior,n=t.interiors,tm(r,e[0],e[1])){for(s=0;s<(n?n.length:0);s++)if(tm(n[s],e[0],e[1]))continue loopGeo;return!0}}return!1},n.prototype.transformTo=function(e,n,s,o){var a,r,c,l,d,i=this.getBoundingRect(),u=i.width/i.height;s?o||(o=s/u):s=u*o;for(l=new b(e,n,s,o),r=i.calculateTransform(l),d=this.geometries,c=0;c<d.length;c++)a=d[c],a.type==="polygon"?(Od(a.exterior,r),t(a.interiors,function(e){Od(e,r)})):t(a.points,function(e){Od(e,r)});i=this._rect,i.copy(l),this._center=[i.x+i.width/2,i.y+i.height/2]},n.prototype.cloneShallow=function(e){e==null&&(e=this.name);var t=new n(e,this.geometries,this._center);return t._rect=this._rect,t.transformTo=null,t},n}(xd),function(e){o(t,e);function t(t,n){var s=e.call(this,t)||this;return s.type="geoSVG",s._elOnlyForCalculate=n,s}return t.prototype.calcCenter=function(){for(var o=this._elOnlyForCalculate,n=o.getBoundingRect(),s=[n.x+n.width/2,n.y+n.height/2],e=Ys(Gh),t=o;t&&!t.isGeoSVGGraphicRoot;)Wt(e,t.getLocalTransform(),e),t=t.parent;return go(e,e),pe(s,s,e),s},t}(xd);function v5(e){if(!e.UTF8Encoding)return e;var o,s=e,n=s.UTF8Scale;return n==null&&(n=1024),o=s.features,t(o,function(e){var o=e.geometry,s=o.encodeOffsets,i=o.coordinates;if(!s)return;switch(o.type){case"LineString":o.coordinates=Fh(i,s,n);break;case"Polygon":Md(i,s,n);break;case"MultiLineString":Md(i,s,n);break;case"MultiPolygon":t(i,function(e,t){return Md(e,s[t],n)})}}),s.UTF8Encoding=!1,s}function Md(e,t,n){for(var s=0;s<e.length;s++)e[s]=Fh(e[s],t[s],n)}function Fh(e,t,n){for(var s,o,a=[],r=t[0],c=t[1],i=0;i<e.length;i+=2)s=e.charCodeAt(i)-64,o=e.charCodeAt(i+1)-64,s=s>>1^-(s&1),o=o>>1^-(o&1),s+=r,o+=c,r=s,c=o,a.push([s/n,o/n]);return a}function Mh(e,n){return e=v5(e),r(F(e.features,function(e){return e.geometry&&e.properties&&e.geometry.coordinates.length>0}),function(e){var a,r,i=e.properties,s=e.geometry,o=[];switch(s.type){case"Polygon":a=s.coordinates,o.push(new Ed(a[0],a.slice(1)));break;case"MultiPolygon":t(s.coordinates,function(e){e[0]&&o.push(new Ed(e[0],e.slice(1)))});break;case"LineString":o.push(new Ad([s.coordinates]));break;case"MultiLineString":o.push(new Ad(s.coordinates))}return r=new Nh(i[n||"name"],o,i.cp),r.properties=i,r})}Ah=Object.freeze({__proto__:null,MAX_SAFE_INTEGER:K0,asc:Zu,getPercentWithPrecision:Eb,getPixelPrecision:R0,getPrecision:dt,getPrecisionSafe:L0,isNumeric:Mu,isRadianAroundZero:Di,linearMap:ct,nice:Lu,numericToNumber:pt,parseDate:le,quantile:xb,quantity:a2,quantityExponent:Ru,reformIntervals:zu,remRadian:Wu,round:fe}),kh=Object.freeze({__proto__:null,format:Ao,parse:le}),Ch=Object.freeze({__proto__:null,Arc:Wn,BezierCurve:Mi,BoundingRect:b,Circle:ms,CompoundPath:Fu,Ellipse:Go,Group:Z,Image:Pe,IncrementalDisplayable:Bu,Line:Lt,LinearGradient:Bi,Polygon:Qn,Polyline:Ln,RadialGradient:Du,Rect:T,Ring:Ei,Sector:Ci,Text:A,clipPointsByRect:r0,clipRectByRect:a0,createIcon:y1,extendPath:A0,extendShape:N0,getShapeClass:k0,getTransform:yi,initProps:Ti,makeImage:i1,makePath:ea,mergePath:r1,registerShape:Ne,resizePath:c1,updateProps:Rn}),Oh=Object.freeze({__proto__:null,addCommas:E1,capitalFirst:N7,encodeHTML:ce,formatTime:L7,formatTpl:b1,getTextRect:P7,getTooltipMarker:l0,normalizeCssArray:Vs,toCamelCase:C1,truncateText:hf}),wh=Object.freeze({__proto__:null,bind:f,clone:c,curry:se,defaults:x,each:t,extend:n,filter:F,indexOf:_,inherits:Hc,isArray:s,isFunction:d,isObject:a,isString:i,map:r,merge:w,reduce:tt}),Hs=S();function k5(e){return e.type==="category"?S5(e):T5(e)}function A5(e,t){return e.type==="category"?F5(e,t):{ticks:r(e.scale.getTicks(),function(e){return e.value})}}function S5(e){var t=e.getLabelModel(),n=X3(e,t);return!t.get("show")||e.scale.isBlank()?{labels:[],labelCategoryInterval:n.labelCategoryInterval}:n}function X3(e,t){var s,o,i=G3(e,"labels"),n=ed(t),a=Y3(i,n);return a||(d(n)?s=W3(e,n):(o=n==="auto"?L5(e):n,s=U3(e,o)),K3(i,n,{labels:s,labelCategoryInterval:o}))}function F5(e,t){var s,o,i,a=G3(e,"ticks"),n=ed(t),c=Y3(a,n);return c||((!t.get("show")||e.scale.isBlank())&&(s=[]),d(n)?s=W3(e,n,!0):n==="auto"?(i=X3(e,e.getLabelModel()),o=i.labelCategoryInterval,s=r(i.labels,function(e){return e.tickValue})):(o=n,s=U3(e,o,!0)),K3(a,n,{ticks:s,tickCategoryInterval:o}))}function T5(e){var t=e.scale.getTicks(),n=Ji(e);return{labels:r(t,function(t,s){return{level:t.level,formattedLabel:n(t,s),rawLabel:e.scale.getLabel(t),tickValue:t.value}})}}function G3(e,t){return Hs(e)[t]||(Hs(e)[t]=[])}function Y3(e,t){for(var n=0;n<e.length;n++)if(e[n].key===t)return e[n].value}function K3(e,t,n){return e.push({key:t,value:n}),n}function L5(e){var t=Hs(e).autoInterval;return t??(Hs(e).autoInterval=e.calculateCategoryInterval())}function R5(e){var t,n,s,o,i,a,l,d,u,h,m,f,g,v,b,j,y,p=P5(e),O=Ji(e),w=(p.axisRotate-p.labelRotate)/180*Math.PI,_=e.scale,r=_.getExtent(),c=_.count();if(r[1]-r[0]<1)return 0;for(v=1,c>40&&(v=Math.max(1,Math.floor(c/40))),s=r[0],g=e.dataToCoord(s+1)-e.dataToCoord(s),y=Math.abs(g*Math.cos(w)),j=Math.abs(g*Math.sin(w)),a=0,u=0;s<=r[1];s+=v)m=0,f=0,h=L1(O({value:s}),p.font,"center","top"),m=h.width*1.3,f=h.height*1.3,a=Math.max(a,m,7),u=Math.max(u,f,7);return d=a/y,l=u/j,isNaN(d)&&(d=1/0),isNaN(l)&&(l=1/0),n=Math.max(0,Math.floor(Math.min(d,l))),t=Hs(e.model),i=e.getExtent(),o=t.lastAutoInterval,b=t.lastTickCount,o!=null&&b!=null&&Math.abs(o-n)<=1&&Math.abs(b-c)<=1&&o>n&&t.axisExtent0===i[0]&&t.axisExtent1===i[1]?n=o:(t.lastTickCount=c,t.lastAutoInterval=n,t.axisExtent0=i[0],t.axisExtent1=i[1]),n}function P5(e){var t=e.getLabelModel();return{axisRotate:e.getRotate?e.getRotate():e.isHorizontal&&!e.isHorizontal()?90:0,labelRotate:t.get("rotate")||0,font:t.getFont()}}function U3(e,t,n){var i,r,u,h,p=Ji(e),c=e.scale,s=c.getExtent(),d=e.getLabelModel(),m=[],o=Math.max((t||0)+1,1),a=s[0],f=c.count();for(a!==0&&o>1&&f/o>2&&(a=Math.round(Math.ceil(a/o)*o)),r=Mm(e),u=d.get("showMinLabel")||r,h=d.get("showMaxLabel")||r,u&&a!==s[0]&&l(s[0]),i=a;i<=s[1];i+=o)l(i);h&&i-o!==s[1]&&l(s[1]);function l(e){var t={value:e};m.push(n?e:{formattedLabel:p(t),rawLabel:c.getLabel(t),tickValue:e})}return m}function W3(e,n,s){var o=e.scale,a=Ji(e),i=[];return t(o.getTicks(),function(e){var t=o.getLabel(e),r=e.value;n(e.value,t)&&i.push(s?r:{formattedLabel:a(e),rawLabel:t,tickValue:r})}),i}Gd=[0,1],V3=function(){function e(e,t,n){this.onBand=!1,this.inverse=!1,this.dim=e,this.scale=t,this._extent=n||[0,0]}return e.prototype.contain=function(e){var t=this._extent,n=Math.min(t[0],t[1]),s=Math.max(t[0],t[1]);return e>=n&&e<=s},e.prototype.containData=function(e){return this.scale.contain(e)},e.prototype.getExtent=function(){return this._extent.slice()},e.prototype.getPixelPrecision=function(e){return R0(e||this.scale.getExtent(),this._extent)},e.prototype.setExtent=function(e,t){var n=this._extent;n[0]=e,n[1]=t},e.prototype.dataToCoord=function(e,t){var n=this._extent,s=this.scale;return e=s.normalize(e),this.onBand&&s.type==="ordinal"&&(n=n.slice(),I3(n,s.count())),ct(e,Gd,n,t)},e.prototype.coordToData=function(e,t){var o,n=this._extent,s=this.scale;return this.onBand&&s.type==="ordinal"&&(n=n.slice(),I3(n,s.count())),o=ct(e,n,Gd,t),this.scale.scale(o)},e.prototype.pointToData=function(){},e.prototype.getTicksCoords=function(e){e=e||{};var t=e.tickModel||this.getTickModel(),s=A5(this,t),o=s.ticks,n=r(o,function(e){return{coord:this.dataToCoord(this.scale.type==="ordinal"?this.scale.getRawOrdinalNumber(e):e),tickValue:e}},this),i=t.get("alignWithLabel");return W5(this,n,i,e.clamp),n},e.prototype.getMinorTicksCoords=function(){if(this.scale.type==="ordinal")return[];var t,n,s=this.model.getModel("minorTick"),e=s.get("splitNumber");return e>0&&e<100||(e=5),t=this.scale.getMinorTicks(e),n=r(t,function(e){return r(e,function(e){return{coord:this.dataToCoord(e),tickValue:e}},this)},this),n},e.prototype.getViewLabels=function(){return k5(this).labels},e.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},e.prototype.getTickModel=function(){return this.model.getModel("axisTick")},e.prototype.getBandWidth=function(){var s,t=this._extent,n=this.scale.getExtent(),e=n[1]-n[0]+(this.onBand?1:0);return e===0&&(e=1),s=Math.abs(t[1]-t[0]),Math.abs(s)/e},e.prototype.calculateCategoryInterval=function(){return R5(this)},e}();function I3(e,t){var s=e[1]-e[0],o=t,n=s/o/2;e[0]+=n,e[1]-=n}function W5(e,n,s,o){var i,r,l,d,u,h,m,a=n.length;if(!e.onBand||s||!a)return;i=e.getExtent(),a===1?(n[0].coord=i[0],r=n[1]={coord:i[0]}):(u=n[a-1].tickValue-n[0].tickValue,l=(n[a-1].coord-n[0].coord)/u,t(n,function(e){e.coord-=l/2}),h=e.scale.getExtent(),d=1+h[1]-n[a-1].tickValue,r={coord:n[a-1].coord+l*d},n.push(r)),m=i[0]>i[1],c(n[0].coord,i[0])&&(o?n[0].coord=i[0]:n.shift()),o&&c(i[0],n[0].coord)&&n.unshift({coord:i[0]}),c(i[1],r.coord)&&(o?r.coord=i[1]:n.pop()),o&&c(r.coord,i[1])&&n.push({coord:i[1]});function c(e,t){return e=fe(e),t=fe(t),m?e>t:e<t}}function U5(e){var t=p.extend(e);return p.registerClass(t),t}function K5(e){var t=$.extend(e);return $.registerClass(t),t}function q5(e){var t=Te.extend(e);return Te.registerClass(t),t}function Y5(e){var t=Re.extend(e);return Re.registerClass(t),t}ps=Math.PI*2,dn=Jt.CMD,s3=["top","right","bottom","left"];function Z5(e,t,n,s,o){var i=n.width,a=n.height;switch(e){case"top":s.set(n.x+i/2,n.y-t),o.set(0,-1);break;case"bottom":s.set(n.x+i/2,n.y+a+t),o.set(0,1);break;case"left":s.set(n.x-t,n.y+a/2),o.set(-1,0);break;case"right":s.set(n.x+i+t,n.y+a/2),o.set(1,0);break}}function J5(e,t,n,s,o,i,a,r,c){a-=e,r-=t;var l,u,h,m,f,p,g,v,b,j,d=Math.sqrt(a*a+r*r);return a/=d,r/=d,p=a*n+e,g=r*n+t,Math.abs(s-o)%ps<1e-4?(c[0]=p,c[1]=g,d-n):(i?(j=s,s=Zt(o),o=Zt(j)):(s=Zt(s),o=Zt(o)),s>o&&(o+=ps),l=Math.atan2(r,a),l<0&&(l+=ps),l>=s&&l<=o||l+ps>=s&&l+ps<=o?(c[0]=p,c[1]=g,d-n):(u=n*Math.cos(s)+e,h=n*Math.sin(s)+t,m=n*Math.cos(o)+e,f=n*Math.sin(o)+t,v=(u-a)*(u-a)+(h-r)*(h-r),b=(m-a)*(m-a)+(f-r)*(f-r),v<b?(c[0]=u,c[1]=h,Math.sqrt(v)):(c[0]=m,c[1]=f,Math.sqrt(b))))}function vu(e,t,n,s,o,i,a,r){var c,h,m,f,p=o-e,g=i-t,l=n-e,d=s-t,u=Math.sqrt(l*l+d*d);return l/=u,d/=u,f=p*l+g*d,c=f/u,r&&(c=Math.min(Math.max(c,0),1)),c*=u,h=a[0]=e+c*l,m=a[1]=t+c*d,Math.sqrt((h-o)*(h-o)+(m-i)*(m-i))}function Q2(e,t,n,s,o,i,a){n<0&&(e=e+n,n=-n),s<0&&(t=t+s,s=-s);var l=e+n,d=t+s,r=a[0]=Math.min(Math.max(o,e),l),c=a[1]=Math.min(Math.max(i,t),d);return Math.sqrt((r-o)*(r-o)+(c-i)*(c-i))}Fe=[];function s7(e,t,n){var s=Q2(t.x,t.y,t.width,t.height,e.x,e.y,Fe);return n.set(Fe[0],Fe[1]),s}function o7(e,t,n){for(var r,d,m,f,p,g,b,j,y,_,w,O,x,C,a=0,i=0,c=0,l=0,v=1/0,o=t.data,u=e.x,h=e.y,s=0;s<o.length;){switch(j=o[s++],s===1&&(a=o[s],i=o[s+1],c=a,l=i),r=v,j){case dn.M:c=o[s++],l=o[s++],a=c,i=l;break;case dn.L:r=vu(a,i,o[s],o[s+1],u,h,Fe,!0),a=o[s++],i=o[s++];break;case dn.C:r=J2(a,i,o[s++],o[s++],o[s++],o[s++],o[s],o[s+1],u,h,Fe),a=o[s++],i=o[s++];break;case dn.Q:r=H2(a,i,o[s++],o[s++],o[s],o[s+1],u,h,Fe),a=o[s++],i=o[s++];break;case dn.A:m=o[s++],g=o[s++],p=o[s++],f=o[s++],d=o[s++],b=o[s++],s+=1,w=!!(1-o[s++]),_=Math.cos(d)*p+m,y=Math.sin(d)*f+g,s<=1&&(c=_,l=y),O=(u-m)*f/p+m,r=J5(m,g,f,d,d+b,w,O,h,Fe),a=Math.cos(d+b)*p+m,i=Math.sin(d+b)*f+g;break;case dn.R:c=a=o[s++],l=i=o[s++],x=o[s++],C=o[s++],r=Q2(c,l,x,C,u,h,Fe);break;case dn.Z:r=vu(a,i,c,l,u,h,Fe,!0),a=c,i=l;break}r<v&&(v=r,n.set(Fe[0],Fe[1]))}return v}tn=new h,D=new h,re=new h,Mn=new h,Bn=new h;function C2(e,t){if(!e)return;var n,s,o,i,a,r,c,l,u,f,p,g,v,m=e.getTextGuideLine(),d=e.getTextContent();if(!d||!m)return;l=e.textGuideLineConfig||{},n=[[0,0],[0,0],[0,0]],c=l.candidates||s3,r=d.getBoundingRect().clone(),r.applyTransform(d.getComputedTransform()),a=1/0,s=l.anchor,o=e.getComputedTransform(),f=o&&go([],o),p=t.get("length2")||0,s&&re.copy(s);for(i=0;i<c.length;i++)g=c[i],Z5(g,0,r,tn,Mn),h.scaleAndAdd(D,tn,Mn,p),D.transform(f),v=e.getBoundingRect(),u=s?s.distance(D):e instanceof O?o7(D,e.path,re):s7(D,v,re),u<a&&(a=u,D.transform(o),re.transform(o),re.toArray(n[0]),D.toArray(n[1]),tn.toArray(n[2]));m7(n,t.get("minTurnAngle")),m.setShape({points:n})}Cu=[],$t=new h;function m7(e,t){if(!(t<=180&&t>0))return;t=t/180*Math.PI,tn.fromArray(e[0]),D.fromArray(e[1]),re.fromArray(e[2]),h.sub(Mn,tn,D),h.sub(Bn,re,D);var n,i,a,r,s=Mn.len(),o=Bn.len();if(s<.001||o<.001)return;if(Mn.scale(1/s),Bn.scale(1/o),i=Mn.dot(Bn),a=Math.cos(t),a<i){if(r=vu(D.x,D.y,re.x,re.y,tn.x,tn.y,Cu,!1),$t.fromArray(Cu),$t.scaleAndAdd(Bn,r/Math.tan(Math.PI-t)),n=re.x!==D.x?($t.x-D.x)/(re.x-D.x):($t.y-D.y)/(re.y-D.y),isNaN(n))return;n<0?h.copy($t,D):n>1&&h.copy($t,re),$t.toArray(e[1])}}function m2(e,t,n,s){var o,a,r=n==="normal",i=r?e:e.ensureState(n);i.ignore=t,o=s.get("smooth"),o&&o===!0&&(o=.3),i.shape=i.shape||{},o>0&&(i.shape.smooth=o),a=s.getModel("lineStyle").getLineStyle(),r?e.useStyle(a):i.style=a}function p7(e,t){var s,o,i,a,r,c,l,d=t.smooth,n=t.points;if(!n)return;if(e.moveTo(n[0][0],n[0][1]),d>0&&n.length>=3){if(a=pi(n[0],n[1]),r=pi(n[1],n[2]),!a||!r){e.lineTo(n[1][0],n[1][1]),e.lineTo(n[2][0],n[2][1]);return}c=Math.min(a,r)*d,s=na([],n[1],n[0],c/a),o=na([],n[1],n[2],c/r),l=na([],s,o,.5),e.bezierCurveTo(s[0],s[1],s[0],s[1],l[0],l[1]),e.bezierCurveTo(o[0],o[1],o[0],o[1],n[2][0],n[2][1])}else for(i=1;i<n.length;i++)e.lineTo(n[i][0],n[i][1])}function g7(e,t,n){var o,i,r,c,l,d,u,h,m,f,p,g,s=e.getTextGuideLine(),a=e.getTextContent();if(!a){s&&e.removeTextGuideLine();return}for(u=t.normal,d=u.get("show"),c=a.ignore,l=0;l<mo.length;l++)if(o=mo[l],i=t[o],r=o==="normal",i){if(m=i.get("show"),f=r?c:v(a.states[o]&&a.states[o].ignore,c),f||!v(m,d)){h=r?s:s&&s.states.normal,h&&(h.ignore=!0);continue}s||(s=new Ln,e.setTextGuideLine(s),!r&&(c||!d)&&m2(s,!0,"normal",t.normal),e.stateProxy&&(s.stateProxy=e.stateProxy)),m2(s,!1,o,i)}s&&(x(s.style,n),s.style.fill=null,p=u.get("showAbove"),g=e.textGuideLineConfig=e.textGuideLineConfig||{},g.showAbove=p||!1,s.buildPath=p7)}function v7(e,t){t=t||"labelLine";for(var s,o={normal:e.getModel(t)},n=0;n<et.length;n++)s=et[n],o[s]=e.getModel([s,t]);return o}function h2(e){for(var t,n,s,o,i,a,c,d,l=[],r=0;r<e.length;r++){if(t=e[r],t.defaultAttr.ignore)continue;o=t.label,n=o.getComputedTransform(),a=o.getBoundingRect(),c=!n||n[1]<1e-5&&n[2]<1e-5,i=o.style.margin||0,s=a.clone(),s.applyTransform(n),s.x-=i/2,s.y-=i/2,s.width+=i,s.height+=i,d=c?new Ni(a,n):null,l.push({label:o,labelLine:t.labelLine,rect:s,localRect:a,obb:d,priority:t.priority,defaultAttr:t.defaultAttr,layoutOption:t.computedLayoutOption,axisAligned:c,transform:n})}return l}function d2(e,t,n,s,o,i){var r,c,d,u,h,m,f,g,v,j,y,_,a=e.length;if(a<2)return;e.sort(function(e,n){return e.rect[t]-n.rect[t]});for(j=0,f=!1,h=0,m=0;m<a;m++)g=e[m],d=g.rect,u=d[t]-j,u<0&&(d[t]-=u,g.label[t]-=u,f=!0),y=Math.max(-u,0),h+=y,j=d[t]+d[n];h>0&&i&&l(-h/a,0,a),_=e[0],v=e[a-1],b(),c<0&&p(-c,.8),r<0&&p(r,.8),b(),w(c,r,1),w(r,c,-1),b(),c<0&&O(-c),r<0&&O(r);function b(){c=_.rect[t]-s,r=o-v.rect[t]-v.rect[n]}function w(e,t,n){if(e<0){var o,s=Math.min(t,-e);s>0?(l(s*n,0,a),o=s+e,o<0&&p(-o*n,1)):p(-e*n,1)}}function l(n,s,o){n!==0&&(f=!0);for(var a,r,i=s;i<o;i++)a=e[i],r=a.rect,r[t]+=n,a.label[t]+=n}function p(s,o){for(var r,u,h,m,c=[],d=0,i=1;i<a;i++)u=e[i-1].rect,h=Math.max(e[i].rect[t]-u[t]-u[n],0),c.push(h),d+=h;if(!d)return;if(m=Math.min(Math.abs(s)/d,o),s>0)for(i=0;i<a-1;i++)r=c[i]*m,l(r,0,i+1);else for(i=a-1;i>0;i--)r=c[i-1]*m,l(-r,i,a)}function O(e){var t,n,s=e<0?-1:1;e=Math.abs(e);for(n=Math.ceil(e/(a-1)),t=0;t<a-1;t++)if(s>0?l(n,0,t+1):l(-n,a-t-1,a),e-=n,e<=0)return}return f}function y7(e,t,n,s){return d2(e,"x","width",t,n,s)}function _7(e,t,n,s){return d2(e,"y","height",t,n,s)}function t2(e){var t,n,s,o,i,a,r,c,l,u,h,m,d=[];e.sort(function(e,t){return t.priority-e.priority}),s=new b(0,0,0,0);function f(e){if(!e.ignore){var t=e.ensureState("emphasis");t.ignore==null&&(t.ignore=!1)}e.ignore=!0}for(i=0;i<e.length;i++){t=e[i],u=t.axisAligned,h=t.localRect,m=t.transform,l=t.label,o=t.labelLine,s.copy(t.rect),s.width-=.1,s.height-=.1,s.x+=.05,s.y+=.05;for(a=t.obb,r=!1,c=0;c<d.length;c++){if(n=d[c],!s.intersect(n.rect))continue;if(u&&n.axisAligned){r=!0;break}if(n.obb||(n.obb=new Ni(n.localRect,n.transform)),a||(a=new Ni(h,m)),a.intersect(n.obb)){r=!0;break}}r?(f(l),o&&f(o)):(l.attr("ignore",t.defaultAttr.ignore),o&&o.attr("ignore",t.defaultAttr.labelGuideIgnore),d.push(t))}}function O7(e){if(e){for(var n=[],t=0;t<e.length;t++)n.push(e[t].slice());return n}}function x7(e,t){var n=e.label,s=t&&t.getTextGuideLine();return{dataIndex:e.dataIndex,dataType:e.dataType,seriesIndex:e.seriesModel.seriesIndex,text:e.label.style.text,rect:e.hostRect,labelRect:e.rect,align:n.style.align,verticalAlign:n.style.verticalAlign,labelLinePoints:O7(s&&s.shape.points)}}Hu=["align","verticalAlign","width","height","fontSize"],ie=new Eo,Vr=S(),Y0=S();function Ir(e,t,n){for(var s,o=0;o<n.length;o++)s=n[o],t[s]!=null&&(e[s]=t[s])}Zo=["x","y","rotation"],$0=function(){function e(){this._labelList=[],this._chartViewList=[]}return e.prototype.clearLabels=function(){this._labelList=[],this._chartViewList=[]},e.prototype._addLabel=function(e,t,n,s,o){var i,r,c,h,a=s.style,m=s.__hostTarget,u=m.textConfig||{},l=s.getComputedTransform(),d=s.getBoundingRect().plain();b.applyTransform(d,d,l),l?ie.setLocalTransform(l):(ie.x=ie.y=ie.rotation=ie.originX=ie.originY=0,ie.scaleX=ie.scaleY=1),r=s.__hostTarget,r&&(i=r.getBoundingRect().plain(),h=r.getComputedTransform(),b.applyTransform(i,i,h)),c=i&&r.getTextGuideLine(),this._labelList.push({label:s,labelLine:c,seriesModel:n,dataIndex:e,dataType:t,layoutOption:o,computedLayoutOption:null,rect:d,hostRect:i,priority:i?i.width*i.height:0,defaultAttr:{ignore:s.ignore,labelGuideIgnore:c&&c.ignore,x:ie.x,y:ie.y,scaleX:ie.scaleX,scaleY:ie.scaleY,rotation:ie.rotation,style:{x:a.x,y:a.y,align:a.align,verticalAlign:a.verticalAlign,width:a.width,height:a.height,fontSize:a.fontSize},cursor:s.cursor,attachedPos:u.position,attachedRot:u.rotation}})},e.prototype.addLabelsOfSeries=function(e){var t,n,s=this;if(this._chartViewList.push(e),n=e.__model,t=n.get("labelLayout"),!d(t)&&!k(t).length)return;e.group.traverse(function(e){if(e.ignore)return!0;var o=e.getTextContent(),i=y(e);o&&!o.disableLabelLayout&&s._addLabel(i.dataIndex,i.dataType,n,o,t)})},e.prototype.updateLayoutConfig=function(e){var t,n,s,o,i,a,r,c,l,u,h,m,f,p,b=e.getWidth(),g=e.getHeight();function v(e,t){return function(){C2(e,t)}}for(c=0;c<this._labelList.length;c++){s=this._labelList[c],n=s.label,i=n.__hostTarget,o=s.defaultAttr,t=void 0,d(s.layoutOption)?t=s.layoutOption(x7(s,i)):t=s.layoutOption,t=t||{},s.computedLayoutOption=t,u=Math.PI/180,i&&i.setTextConfig({local:!1,position:t.x!=null||t.y!=null?null:o.attachedPos,rotation:t.rotate!=null?t.rotate*u:o.attachedRot,offset:[t.dx||0,t.dy||0]}),r=!1,t.x!=null?(n.x=L(t.x,b),n.setStyle("x",0),r=!0):(n.x=o.x,n.setStyle("x",o.style.x)),t.y!=null?(n.y=L(t.y,g),n.setStyle("y",0),r=!0):(n.y=o.y,n.setStyle("y",o.style.y)),t.labelLinePoints&&(h=i.getTextGuideLine(),h&&(h.setShape({points:t.labelLinePoints}),r=!1)),f=Vr(n),f.needsUpdateLabelLine=r,n.rotation=t.rotate!=null?t.rotate*u:o.rotation,n.scaleX=o.scaleX,n.scaleY=o.scaleY;for(l=0;l<Hu.length;l++)a=Hu[l],n.setStyle(a,t[a]!=null?t[a]:o.style[a]);t.draggable?(n.draggable=!0,n.cursor="move",i&&(m=s.seriesModel,s.dataIndex!=null&&(p=s.seriesModel.getData(s.dataType),m=p.getItemModel(s.dataIndex)),n.on("drag",v(i,m.getModel("labelLine"))))):(n.off("drag"),n.cursor=o.cursor)}},e.prototype.layout=function(e){var n,s=e.getWidth(),o=e.getHeight(),t=h2(this._labelList),i=F(t,function(e){return e.layoutOption.moveOverlap==="shiftX"}),a=F(t,function(e){return e.layoutOption.moveOverlap==="shiftY"});y7(i,0,s),_7(a,0,o),n=F(t,function(e){return e.layoutOption.hideOverlap}),t2(n)},e.prototype.processLabelsOverall=function(){var e=this;t(this._chartViewList,function(t){var n=t.__model,s=t.ignoreLabelLineUpdate,o=n.isAnimationEnabled();t.group.traverse(function(t){if(t.ignore&&!t.forceLabelAnimation)return!0;var i=!s,a=t.getTextContent();!i&&a&&(i=Vr(a).needsUpdateLabelLine),i&&e._updateLabelLine(t,n),o&&e._animateLabels(t,n)})})},e.prototype._updateLabelLine=function(e,t){var n,o,i,r,c,l,d=e.getTextContent(),a=y(e),s=a.dataIndex;d&&s!=null&&(n=t.getData(a.dataType),o=n.getItemModel(s),i={},r=n.getItemVisual(s,"style"),c=n.getVisual("drawType"),i.stroke=r[c],l=o.getModel("labelLine"),g7(e,v7(o),i),C2(e,l))},e.prototype._animateLabels=function(e,t){var o,i,a,r,c,l,d,u,h,m,f,n=e.getTextContent(),s=e.getTextGuideLine();n&&(e.forceLabelAnimation||!n.ignore&&!n.invisible&&!e.disableLabelAnimation&&!Xn(e))&&(o=Vr(n),a=o.oldLayout,d=y(e),r=d.dataIndex,i={x:n.x,y:n.y,rotation:n.rotation},m=t.getData(d.dataType),a?(n.attr(a),c=e.prevStates,c&&(_(c,"select")>=0&&n.attr(o.oldLayoutSelect),_(c,"emphasis")>=0&&n.attr(o.oldLayoutEmphasis)),Rn(n,i,t,r)):(n.attr(i),aa(n).valueAnimation||(f=v(n.style.opacity,1),n.style.opacity=0,Ti(n,{style:{opacity:f}},t,r))),o.oldLayout=i,n.states.select&&(u=o.oldLayoutSelect={},Ir(u,i,Zo),Ir(u,n.states.select,Zo)),n.states.emphasis&&(h=o.oldLayoutEmphasis={},Ir(h,i,Zo),Ir(h,n.states.emphasis,Zo)),Z7(n,r,m,t,t)),s&&!s.ignore&&!s.invisible&&(o=Y0(s),a=o.oldLayout,l={points:s.shape.points},a?(s.attr({shape:a}),Rn(s,{shape:l},t)):(s.setShape(l),s.style.strokePercent=0,Ti(s,{style:{strokePercent:1}},t)),o.oldLayout=l)},e}(),er=S();function C0(e){e.registerUpdateLifecycle("series:beforeupdate",function(e,t){var s=er(t).labelManager;s||(s=er(t).labelManager=new $0),s.clearLabels()}),e.registerUpdateLifecycle("series:layoutlabels",function(e,t,n){var s=er(t).labelManager;n.updatedSeries.forEach(function(e){s.addLabelsOfSeries(t.getViewOfSeriesModel(e))}),s.updateLayoutConfig(t),s.layout(t),s.processLabelsOverall()})}J(C0);function _0(e,t,n){var o=Ae.createCanvas(),i=t.getWidth(),a=t.getHeight(),s=o.style;return s&&(s.position="absolute",s.left="0",s.top="0",s.width=i+"px",s.height=a+"px",o.setAttribute("data-zr-dom-id",e)),o.width=i*n,o.height=a*n,o}Ga=function(e){o(n,e);function n(t,n,s){var i,r,o=e.call(this)||this;return o.motionBlur=!1,o.lastFrameAlpha=.7,o.dpr=1,o.virtual=!1,o.config={},o.incremental=!1,o.zlevel=0,o.maxRepaintRectCount=5,o.__dirty=!0,o.__firstTimePaint=!0,o.__used=!1,o.__drawIndex=0,o.__startIndex=0,o.__endIndex=0,o.__prevStartIndex=null,o.__prevEndIndex=null,s=s||so,typeof t=="string"?i=_0(t,n,s):a(t)&&(i=t,t=i.id),o.id=t,o.dom=i,r=i.style,r&&(qc(i),i.onselectstart=function(){return!1},r.padding="0",r.margin="0",r.borderWidth="0"),o.painter=n,o.dpr=s,o}return n.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},n.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},n.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},n.prototype.setUnpainted=function(){this.__firstTimePaint=!0},n.prototype.createBackBuffer=function(){var e=this.dpr;this.domBack=_0("back-"+this.id,this.painter,e),this.ctxBack=this.domBack.getContext("2d"),e!==1&&this.ctxBack.scale(e,e)},n.prototype.createRepaintRects=function(e,t,n,s){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var i,a,r,c,l,m,f,o=[],p=this.maxRepaintRectCount,d=!1,u=new b(0,0,0,0);function h(e){if(!e.isFinite()||e.isZero())return;if(o.length===0){var t,n,i,a,r,c,l,h,m,f,s=new b(0,0,0,0);s.copy(e),o.push(s)}else{for(i=!1,r=1/0,c=0,t=0;t<o.length;++t){if(n=o[t],n.intersect(e)){a=new b(0,0,0,0),a.copy(n),a.union(e),o[t]=a,i=!0;break}d&&(u.copy(e),u.union(n),h=e.width*e.height,m=n.width*n.height,f=u.width*u.height,l=f-h-m,l<r&&(r=l,c=t))}d&&(o[c].union(e),i=!0),i||(s=new b(0,0,0,0),s.copy(e),o.push(s)),d||(d=o.length>=p)}}for(i=this.__startIndex;i<this.__endIndex;++i)a=e[i],a&&(l=a.shouldBePainted(n,s,!0,!0),r=a.__isRendered&&(a.__dirty&ae||!l)?a.getPrevPaintRect():null,r&&h(r),m=l&&(a.__dirty&ae||!a.__isRendered)?a.getPaintRect():null,m&&h(m));for(i=this.__prevStartIndex;i<this.__prevEndIndex;++i)a=t[i],l=a.shouldBePainted(n,s,!0,!0),a&&(!l||!a.__zr)&&a.__isRendered&&(r=a.getPrevPaintRect(),r&&h(r));do{f=!1;for(i=0;i<o.length;){if(o[i].isZero()){o.splice(i,1);continue}for(c=i+1;c<o.length;)o[i].intersect(o[c])?(f=!0,o[i].union(o[c]),o.splice(c,1)):c++;i++}}while(f)return this._paintRects=o,o},n.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},n.prototype.resize=function(e,t){var n=this.dpr,s=this.dom,o=s.style,i=this.domBack;o&&(o.width=e+"px",o.height=t+"px"),s.width=e*n,s.height=t*n,i&&(i.width=e*n,i.height=t*n,n!==1&&this.ctxBack.scale(n,n))},n.prototype.clear=function(e,n,s){var i,a,c,u,h,r=this.dom,o=this.ctx,l=r.width,d=r.height;n=n||this.clearColor,a=this.motionBlur&&!e,u=this.lastFrameAlpha,i=this.dpr,c=this,a&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(r,0,0,l/i,d/i)),h=this.domBack;function m(e,t,s,i){if(o.clearRect(e,t,s,i),n&&n!=="transparent"){var r=void 0;ko(n)?(r=n.__canvasGradient||Il(o,n,{x:0,y:0,width:s,height:i}),n.__canvasGradient=r):g6(n)&&(r=Nl(o,n,{dirty:function(){c.setUnpainted(),c.__painter.refresh()}})),o.save(),o.fillStyle=r||n,o.fillRect(e,t,s,i),o.restore()}a&&(o.save(),o.globalAlpha=u,o.drawImage(h,e,t,s,i),o.restore())}!s||a?m(0,0,l,d):s.length&&t(s,function(e){m(e.x*i,e.y*i,e.width*i,e.height*i)})},n}(qe),g1=1e5,Yt=314159,ro=.01,W4=.001;function I7(e){return!!e&&(!!e.__builtin__||typeof e.resize=="function"&&typeof e.refresh=="function")}function B7(e,t){var n=document.createElement("div");return n.style.cssText=["position:relative","width:"+e+"px","height:"+t+"px","padding:0","margin:0","border-width:0"].join(";")+";",n}D4=function(){function e(e,t,s){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var i,a,r,c,d,u,h,m,l=!e.nodeName||e.nodeName.toUpperCase()==="CANVAS";this._opts=s=n({},s||{}),this.dpr=s.devicePixelRatio||so,this._singleCanvas=l,this.root=e,d=e.style,d&&(qc(e),e.innerHTML=""),this.storage=t,u=this._zlevelList,this._prevDisplayList=[],h=this._layers,l?(i=e,r=i.width,c=i.height,s.width!=null&&(r=s.width),s.height!=null&&(c=s.height),this.dpr=s.devicePixelRatio||1,i.width=r*this.dpr,i.height=c*this.dpr,this._width=r,this._height=c,a=new Ga(i,this,this.dpr),a.__builtin__=!0,a.initContext(),h[Yt]=a,a.zlevel=Yt,u.push(Yt),this._domRoot=e):(this._width=Ii(e,0,s),this._height=Ii(e,1,s),m=this._domRoot=B7(this._width,this._height),e.appendChild(m))}return e.prototype.getType=function(){return"canvas"},e.prototype.isSingleCanvas=function(){return this._singleCanvas},e.prototype.getViewportRoot=function(){return this._domRoot},e.prototype.getViewportRootOffset=function(){var e=this.getViewportRoot();if(e)return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}},e.prototype.refresh=function(e){var t,n,i,a,s=this.storage.getDisplayList(!0),r=this._prevDisplayList,o=this._zlevelList;this._redrawId=Math.random(),this._paintList(s,r,e,this._redrawId);for(t=0;t<o.length;t++)i=o[t],n=this._layers[i],!n.__builtin__&&n.refresh&&(a=t===0?this._backgroundColor:null,n.refresh(a));return this._opts.useDirtyRect&&(this._prevDisplayList=s.slice()),this},e.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},e.prototype._paintHoverList=function(e){var t,s,i,a,o=e.length,n=this._hoverlayer;if(n&&n.clear(),!o)return;for(a={inHover:!0,viewWidth:this._width,viewHeight:this._height},s=0;s<o;s++)i=e[s],i.__inHover&&(n||(n=this._hoverlayer=this.getLayer(g1)),t||(t=n.ctx,t.save()),An(t,i,a,s===o-1));t&&t.restore()},e.prototype.getHoverLayer=function(){return this.getLayer(g1)},e.prototype.paintOne=function(e,t){Cl(e,t)},e.prototype._paintList=function(e,t,n,s){if(this._redrawId!==s)return;n=n||!1,this._updateLayerStatus(e);var i,o=this._doPaintList(e,t,n),a=o.finished,r=o.needsRefreshHover;this._needsManuallyCompositing&&this._compositeManually(),r&&this._paintHoverList(e),a?this.eachLayer(function(e){e.afterBrush&&e.afterBrush()}):(i=this,vr(function(){i._paintList(e,t,n,s)}))},e.prototype._compositeManually=function(){var e=this.getLayer(Yt).ctx,t=this._domRoot.width,n=this._domRoot.height;e.clearRect(0,0,t,n),this.eachBuiltinLayer(function(s){s.virtual&&e.drawImage(s.dom,0,0,t,n)})},e.prototype._doPaintList=function(e,n,s){for(var o,i,a,u,h,f,p,r=this,c=[],m=this._opts.useDirtyRect,d=0;d<this._zlevelList.length;d++)f=this._zlevelList[d],i=this._layers[f],i.__builtin__&&i!==this._hoverlayer&&(i.__dirty||s)&&c.push(i);for(u=!0,h=!1,p=function(t){var l,f,g,v,b,j,i=c[t],a=i.ctx,d=m&&i.createRepaintRects(e,n,o._width,o._height),p=s?i.__startIndex:i.__drawIndex,_=!s&&i.incremental&&Date.now,w=_&&Date.now(),y=i.zlevel===o._zlevelList[0]?o._backgroundColor:null;if(i.__startIndex===i.__endIndex?i.clear(!1,y,d):p===i.__startIndex&&(j=e[p],(!j.incremental||!j.notClear||s)&&i.clear(!1,y,d)),p===-1&&(console.error("For some unknown reason. drawIndex is -1"),p=i.__startIndex),b=function(t){var n,o,s={inHover:!1,allClipped:!1,prevEl:null,viewWidth:r._width,viewHeight:r._height};for(l=p;l<i.__endIndex;l++)if(n=e[l],n.__inHover&&(h=!0),r._doPaintEl(n,i,m,t,s,l===i.__endIndex-1),_&&(o=Date.now()-w,o>15))break;s.prevElClipPaths&&a.restore()},d)if(d.length===0)l=i.__endIndex;else for(g=o.dpr,v=0;v<d.length;++v)f=d[v],a.save(),a.beginPath(),a.rect(f.x*g,f.y*g,f.width*g,f.height*g),a.clip(),b(f),a.restore();else a.save(),b(),a.restore();i.__drawIndex=l,i.__drawIndex<i.__endIndex&&(u=!1)},o=this,a=0;a<c.length;a++)p(a);return l.wxa&&t(this._layers,function(e){e&&e.ctx&&e.ctx.draw&&e.ctx.draw()}),{finished:u,needsRefreshHover:h}},e.prototype._doPaintEl=function(e,t,n,s,o,i){var a,r=t.ctx;n?(a=e.getPaintRect(),(!s||a&&a.intersect(s))&&(An(r,e,o,i),e.setPrevPaintRect(a))):An(r,e,o,i)},e.prototype.getLayer=function(e,t){this._singleCanvas&&!this._needsManuallyCompositing&&(e=Yt);var n=this._layers[e];return n||(n=new Ga("zr_"+e,this,this.dpr),n.zlevel=e,n.__builtin__=!0,this._layerConfig[e]?w(n,this._layerConfig[e],!0):this._layerConfig[e-ro]&&w(n,this._layerConfig[e-ro],!0),t&&(n.virtual=t),this.insertLayer(e,n),n.initContext()),n},e.prototype.insertLayer=function(e,t){var r,i=this._layers,s=this._zlevelList,c=s.length,o=this._domRoot,a=null,n=-1;if(i[e]){wt("ZLevel "+e+" has been used already");return}if(!I7(t)){wt("Layer of zlevel "+e+" is not valid");return}if(c>0&&e>s[0]){for(n=0;n<c-1;n++)if(s[n]<e&&s[n+1]>e)break;a=i[s[n]]}s.splice(n+1,0,e),i[e]=t,t.virtual||(a?(r=a.dom,r.nextSibling?o.insertBefore(t.dom,r.nextSibling):o.appendChild(t.dom)):o.firstChild?o.insertBefore(t.dom,o.firstChild):o.appendChild(t.dom)),t.__painter=this},e.prototype.eachLayer=function(e,t){for(var s,o=this._zlevelList,n=0;n<o.length;n++)s=o[n],e.call(t,this._layers[s],s)},e.prototype.eachBuiltinLayer=function(e,t){for(var s,o,i=this._zlevelList,n=0;n<i.length;n++)s=i[n],o=this._layers[s],o.__builtin__&&e.call(t,o,s)},e.prototype.eachOtherLayer=function(e,t){for(var s,o,i=this._zlevelList,n=0;n<i.length;n++)s=i[n],o=this._layers[s],o.__builtin__||e.call(t,o,s)},e.prototype.getLayers=function(){return this._layers},e.prototype._updateLayerStatus=function(e){this.eachBuiltinLayer(function(e){e.__dirty=e.__used=!1});function c(e){o&&(o.__endIndex!==e&&(o.__dirty=!0),o.__endIndex=e)}if(this._singleCanvas)for(var t,n,s,o,i,r,l,a=1;a<e.length;a++)if(s=e[a],s.zlevel!==e[a-1].zlevel||s.incremental){this._needsManuallyCompositing=!0;break}o=null,r=0;for(n=0;n<e.length;n++)s=e[n],i=s.zlevel,t=void 0,l!==i&&(l=i,r=0),s.incremental?(t=this.getLayer(i+W4,this._needsManuallyCompositing),t.incremental=!0,r=1):t=this.getLayer(i+(r>0?ro:0),this._needsManuallyCompositing),t.__builtin__||wt("ZLevel "+i+" has been used by unkown layer "+t.id),t!==o&&(t.__used=!0,t.__startIndex!==n&&(t.__dirty=!0),t.__startIndex=n,t.incremental?t.__drawIndex=-1:t.__drawIndex=n,c(n),o=t),s.__dirty&ae&&!s.__inHover&&(t.__dirty=!0,t.incremental&&t.__drawIndex<0&&(t.__drawIndex=n));c(n),this.eachBuiltinLayer(function(e){!e.__used&&e.getElementCount()>0&&(e.__dirty=!0,e.__startIndex=e.__endIndex=e.__drawIndex=0),e.__dirty&&e.__drawIndex<0&&(e.__drawIndex=e.__startIndex)})},e.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},e.prototype._clearLayer=function(e){e.clear()},e.prototype.setBackgroundColor=function(e){this._backgroundColor=e,t(this._layers,function(e){e.setUnpainted()})},e.prototype.configLayer=function(e,t){if(t){var s,o,i,n=this._layerConfig;n[e]?w(n[e],t,!0):n[e]=t;for(s=0;s<this._zlevelList.length;s++)o=this._zlevelList[s],(o===e||o===e+ro)&&(i=this._layers[o],w(i,n[e],!0))}},e.prototype.delLayer=function(e){var n=this._layers,s=this._zlevelList,t=n[e];if(!t)return;t.dom.parentNode.removeChild(t.dom),delete n[e],s.splice(_(s,e),1)},e.prototype.resize=function(e,t){if(this._domRoot.style){var n,o,i,s=this._domRoot;if(s.style.display="none",n=this._opts,o=this.root,e!=null&&(n.width=e),t!=null&&(n.height=t),e=Ii(o,0,n),t=Ii(o,1,n),s.style.display="",this._width!==e||t!==this._height){s.style.width=e+"px",s.style.height=t+"px";for(i in this._layers)this._layers.hasOwnProperty(i)&&this._layers[i].resize(e,t);this.refresh(!0)}this._width=e,this._height=t}else{if(e==null||t==null)return;this._width=e,this._height=t,this.getLayer(Yt).resize(e,t)}return this},e.prototype.clearLayer=function(e){var t=this._layers[e];t&&t.clear()},e.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},e.prototype.getRenderedCanvas=function(e){if(e=e||{},this._singleCanvas&&!this._compositeManually)return this._layers[Yt].dom;if(t=new Ga("image",this,e.pixelRatio||this.dpr),t.initContext(),t.clear(!1,e.backgroundColor||this._backgroundColor),n=t.ctx,e.pixelRatio<=this.dpr)this.refresh(),o=t.dom.width,i=t.dom.height,this.eachLayer(function(e){e.__builtin__?n.drawImage(e.dom,0,0,o,i):e.renderToCanvas&&(n.save(),e.renderToCanvas(n),n.restore())});else for(var t,n,o,i,c,l={inHover:!1,viewWidth:this._width,viewHeight:this._height},a=this.storage.getDisplayList(!0),s=0,r=a.length;s<r;s++)c=a[s],An(n,c,l,s===r-1);return t.dom},e.prototype.getWidth=function(){return this._width},e.prototype.getHeight=function(){return this._height},e}();function $7(e){e.registerPainter("canvas",D4)}T4=function(e){o(t,e);function t(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="dataset",t}return t.prototype.init=function(t,n,s){e.prototype.init.call(this,t,n,s),this._sourceManager=new Rd(this),uh(this)},t.prototype.mergeOption=function(t,n){e.prototype.mergeOption.call(this,t,n),uh(this)},t.prototype.optionUpdated=function(){this._sourceManager.dirty()},t.prototype.getSourceManager=function(){return this._sourceManager},t.type="dataset",t.defaultOption={seriesLayoutBy:Ue},t}(p),F4=function(e){o(t,e);function t(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="dataset",t}return t.type="dataset",t}($);function b4(e){e.registerComponentModel(T4),e.registerComponentView(F4)}J([$7,b4]),J(C0),g4=256,i4=function(){function e(){this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={inRange:null,outOfRange:null};var e=Ae.createCanvas();this.canvas=e}return e.prototype.update=function(e,t,n,s,o,i){var a,c,l,d,u,m,f,p,g,v,b,y,_,w,O,C=this._getBrush(),k=this._getGradient(o,"inRange"),E=this._getGradient(o,"outOfRange"),j=this.pointSize+this.blurSize,r=this.canvas,h=r.getContext("2d"),x=e.length;r.width=t,r.height=n;for(f=0;f<x;++f)m=e[f],_=m[0],v=m[1],b=m[2],a=s(b),h.globalAlpha=a,h.drawImage(C,_-j,v-j);if(!r.width||!r.height)return r;for(p=h.getImageData(0,0,r.width,r.height),l=p.data,c=0,y=l.length,g=this.minOpacity,w=this.maxOpacity,O=w-g;c<y;)a=l[c+3]/256,u=Math.floor(a*(g4-1))*4,a>0?(d=i(a)?k:E,a>0&&(a=a*O+g),l[c++]=d[u],l[c++]=d[u+1],l[c++]=d[u+2],l[c++]=d[u+3]*a*256):c+=4;return h.putImageData(p,0,0),r},e.prototype._getBrush=function(){var e,n=this._brushCanvas||(this._brushCanvas=Ae.createCanvas()),s=this.pointSize+this.blurSize,t=s*2;return n.width=t,n.height=t,e=n.getContext("2d"),e.clearRect(0,0,t,t),e.shadowOffsetX=t,e.shadowBlur=this.blurSize,e.shadowColor="#000",e.beginPath(),e.arc(-s,s,this.pointSize,0,Math.PI*2,!0),e.closePath(),e.fill(),n},e.prototype._getGradient=function(e,t){for(var a=this._gradientPixels,n=a[t]||(a[t]=new Uint8ClampedArray(256*4)),s=[0,0,0,0],o=0,i=0;i<256;i++)e[t](i/255,!0,s),n[o++]=s[0],n[o++]=s[1],n[o++]=s[2],n[o++]=s[3];return n},e}();function cc(e,t){return e.type===t}function X7(e,t,n){var s,o,i=e[1]-e[0];return t=r(t,function(t){return{interval:[(t.interval[0]-e[0])/i,(t.interval[1]-e[0])/i]}}),o=t.length,s=0,function(e){for(i=s;i<o;i++){var i,a=t[i].interval;if(a[0]<=e&&e<=a[1]){s=i;break}}if(i===o)for(i=s-1;i>=0;i--)if(a=t[i].interval,a[0]<=e&&e<=a[1]){s=i;break}return i>=0&&i<o&&n[i]}}function Q7(e,t){var n=e[1]-e[0];return t=[(t[0]-e[0])/n,(t[1]-e[0])/n],function(e){return e>=t[0]&&e<=t[1]}}function j4(e){var t=e.dimensions;return t[0]==="lng"&&t[1]==="lat"}O4=function(e){o(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.render=function(e,t,n){if(t.eachComponent("visualMap",function(t){t.eachTargetSeries(function(n){n===e&&(o=t)})}),!o)throw new Error("Heatmap must use with visualMap");this._progressiveEls=null,this.group.removeAll();var o,s=e.coordinateSystem;s.type==="cartesian2d"||s.type==="calendar"?this._renderOnCartesianAndCalendar(e,n,0,e.getData().count()):j4(s)&&this._renderOnGeo(s,e,o,n)},t.prototype.incrementalPrepareRender=function(){this.group.removeAll()},t.prototype.incrementalRender=function(e,t,n,s){var o=t.coordinateSystem;o&&(j4(o)?this.render(t,n,s):(this._progressiveEls=[],this._renderOnCartesianAndCalendar(t,s,e.start,e.end,!0)))},t.prototype.eachRendered=function(e){k1(this._progressiveEls||this.group,e)},t.prototype._renderOnCartesianAndCalendar=function(e,t,n,s,o){var i,a,r,l,d,u,h,m,f,p,g,v,b,j,y,_,w,O,x,C,E,k,A,S,M,F,z,c=e.coordinateSystem;if(cc(c,"cartesian2d")){u=c.getAxis("x"),d=c.getAxis("y");{if(u.type!=="category"||d.type!=="category")throw new Error("Heatmap on cartesian must have two category axes");if(!u.onBand||!d.onBand)throw new Error("Heatmap on cartesian must have two axes with boundaryGap true")}F=u.getBandWidth(),M=d.getBandWidth(),y=u.scale.getExtent(),k=d.scale.getExtent()}for(z=this.group,i=e.getData(),C=e.getModel(["emphasis","itemStyle"]).getItemStyle(),x=e.getModel(["blur","itemStyle"]).getItemStyle(),O=e.getModel(["select","itemStyle"]).getItemStyle(),w=z4(e),b=e.getModel("emphasis"),j=b.get("focus"),S=b.get("blurScope"),_=b.get("disabled"),l=cc(c,"cartesian2d")?[i.mapDimension("x"),i.mapDimension("y"),i.mapDimension("value")]:[i.mapDimension("time"),i.mapDimension("value")],a=n;a<s;a++){if(r=void 0,g=i.getItemVisual(a,"style"),cc(c,"cartesian2d")){if(f=i.get(l[0],a),p=i.get(l[1],a),isNaN(i.get(l[2],a))||f<y[0]||f>y[1]||p<k[0]||p>k[1])continue;A=c.dataToPoint([f,p]),r=new T({shape:{x:Math.floor(Math.round(A[0])-F/2),y:Math.floor(Math.round(A[1])-M/2),width:Math.ceil(F),height:Math.ceil(M)},style:g})}else{if(isNaN(i.get(l[1],a)))continue;r=new T({z2:1,shape:c.dataToRect([i.get(l[0],a)]).contentShape,style:g})}h=i.getItemModel(a),i.hasItemOption&&(m=h.getModel("emphasis"),C=m.getModel("itemStyle").getItemStyle(),x=h.getModel(["blur","itemStyle"]).getItemStyle(),O=h.getModel(["select","itemStyle"]).getItemStyle(),j=m.get("focus"),S=m.get("blurScope"),_=m.get("disabled"),w=z4(h)),v=e.getRawValue(a),E="-",v&&v[2]!=null&&(E=v[2]+""),sv(r,w,{labelFetcher:e,labelDataIndex:a,defaultOpacity:g.opacity,defaultText:E}),r.ensureState("emphasis").style=C,r.ensureState("blur").style=x,r.ensureState("select").style=O,zv(r,j,S,_),r.incremental=o,o&&(r.states.emphasis.hoverLayer=!0),z.add(r),i.setItemGraphicEl(a,r),this._progressiveEls&&this._progressiveEls.push(r)}},t.prototype._renderOnGeo=function(e,t,n,s){var o,r,c,l,d,u,h,m,p,g,v,b,j,f=n.targetVisuals.inRange,y=n.targetVisuals.outOfRange,a=t.getData(),i=this._hmLayer||this._hmLayer||new i4;i.blurSize=t.get("blurSize"),i.pointSize=t.get("pointSize"),i.minOpacity=t.get("minOpacity"),i.maxOpacity=t.get("maxOpacity"),o=e.getViewRect().clone(),p=e.getRoamTransform(),o.applyTransform(p),r=Math.max(o.x,0),c=Math.max(o.y,0),h=Math.min(o.width+o.x,s.getWidth()),m=Math.min(o.height+o.y,s.getHeight()),l=h-r,u=m-c,g=[a.mapDimension("lng"),a.mapDimension("lat"),a.mapDimension("value")],v=a.mapArray(g,function(t,n,s){var o=e.dataToPoint([t,n]);return o[0]-=r,o[1]-=c,o.push(s),o}),d=n.getExtent(),b=n.type==="visualMap.continuous"?Q7(d,n.option.range):X7(d,n.getPieceList(),n.option.selected),i.update(v,l,u,f.color.getNormalizer(),{inRange:f.color.getColorMapper(),outOfRange:y.color.getColorMapper()},b),j=new Pe({style:{width:l,height:u,x:r,y:c,image:i.canvas},silent:!0}),this.group.add(j)},t.type="heatmap",t}(Re),E4=function(e){o(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.getInitialData=function(){return Dp(null,this,{generateCoord:"value"})},t.prototype.preventIncremental=function(){var e=Un.get(this.get("coordinateSystem"));if(e&&e.dimensions)return e.dimensions[0]==="lng"&&e.dimensions[1]==="lat"},t.type="series.heatmap",t.dependencies=["grid","geo","calendar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:"#212121"}}},t}(Te);function tv(e){e.registerChartView(O4),e.registerSeriesModel(E4)}J(tv),k4=function(e){o(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.init=function(t){var o=a1(t);e.prototype.init.apply(this,arguments),R4(t,o)},t.prototype.mergeOption=function(t){e.prototype.mergeOption.apply(this,arguments),R4(this.option,t)},t.prototype.getCellSize=function(){return this.option.cellSize},t.type="calendar",t.defaultOption={z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{color:"#fff",borderWidth:1,borderColor:"#ccc"},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",color:"#000"},monthLabel:{show:!0,position:"start",margin:5,align:"center",formatter:null,color:"#000"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},t}(p);function R4(e,t){var n,i,o=e.cellSize;s(o)?n=o:n=e.cellSize=[o,o],n.length===1&&(n[1]=n[0]),i=r([0,1],function(e){return D7(t,e)&&(n[e]="auto"),n[e]!=null&&n[e]!=="auto"}),no(e,t,{type:"box",ignoreSize:i})}e0=function(e){o(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.render=function(e,t){var o,i,a,r,s=this.group;s.removeAll(),a=e.coordinateSystem,o=a.getRangeInfo(),i=a.getOrient(),r=t.getLocaleModel(),this._renderDayRect(e,o,s),this._renderLines(e,o,i,s),this._renderYearText(e,o,i,s),this._renderMonthText(e,r,i,s),this._renderWeekText(e,r,o,i,s)},t.prototype._renderDayRect=function(e,t,n){for(var i,a,s=e.coordinateSystem,r=e.getModel("itemStyle").getItemStyle(),c=s.getCellWidth(),l=s.getCellHeight(),o=t.start.time;o<=t.end.time;o=s.getNextNDay(o,1).time)i=s.dataToRect([o],!1).tl,a=new T({shape:{x:i[0],y:i[1],width:c,height:l},cursor:"default",style:r}),n.add(a)},t.prototype._renderLines=function(e,t,n,s){var i,c,d,o=this,a=e.coordinateSystem,r=e.getModel(["splitLine","lineStyle"]).getLineStyle(),l=e.get(["splitLine","show"]),u=r.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(i=t.start,d=0;i.time<=t.end.time;d++)h(i.formatedDate),d===0&&(i=a.getDateInfo(t.start.y+"-"+t.start.m)),c=i.date,c.setMonth(c.getMonth()+1),i=a.getDateInfo(c);h(a.getNextNDay(t.end.time,1).formatedDate);function h(t){o._firstDayOfMonth.push(a.getDateInfo(t)),o._firstDayPoints.push(a.dataToRect([t],!1).tl);var i=o._getLinePointsOfOneWeek(e,t,n);o._tlpoints.push(i[0]),o._blpoints.push(i[i.length-1]),l&&o._drawSplitline(i,r,s)}l&&this._drawSplitline(o._getEdgesPoints(o._tlpoints,u,n),r,s),l&&this._drawSplitline(o._getEdgesPoints(o._blpoints,u,n),r,s)},t.prototype._getEdgesPoints=function(e,t,n){var s=[e[0].slice(),e[e.length-1].slice()],o=n==="horizontal"?0:1;return s[0][o]=s[0][o]-t/2,s[1][o]=s[1][o]+t/2,s},t.prototype._drawSplitline=function(e,t,n){var s=new Ln({z2:20,shape:{points:e},style:t});n.add(s)},t.prototype._getLinePointsOfOneWeek=function(e,t,n){for(var s,r,o=e.coordinateSystem,c=o.getDateInfo(t),i=[],a=0;a<7;a++)s=o.getNextNDay(c.time,a),r=o.dataToRect([s.time],!1),i[2*s.day]=r.tl,i[2*s.day+1]=r[n==="horizontal"?"bl":"tr"];return i},t.prototype._formatterLabel=function(e,t){return i(e)&&e?R7(e,t):d(e)?e(t):t.nameMap},t.prototype._yearTextPositionControl=function(e,t,n,s,o){var c,a=t[0],r=t[1],i=["center","bottom"];return s==="bottom"?(r+=o,i=["center","top"]):s==="left"?a-=o:s==="right"?(a+=o,i=["center","top"]):r-=o,c=0,(s==="left"||s==="right")&&(c=Math.PI/2),{rotation:c,x:a,y:r,style:{align:i[0],verticalAlign:i[1]}}},t.prototype._renderYearText=function(e,t,n,s){var o,i,a,c,l,d,u,h,m,f,p,g,r=e.getModel("yearLabel");if(!r.get("show"))return;h=r.get("margin"),a=r.get("position"),a||(a=n!=="horizontal"?"top":"left"),o=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],d=(o[0][0]+o[1][0])/2,u=(o[0][1]+o[1][1])/2,i=n==="horizontal"?0:1,m={top:[d,o[i][1]],bottom:[d,o[1-i][1]],left:[o[1-i][0],u],right:[o[i][0],u]},c=t.start.y,+t.end.y>+t.start.y&&(c=c+"-"+t.end.y),f=r.get("formatter"),p={start:t.start.y,end:t.end.y,nameMap:c},g=this._formatterLabel(f,p),l=new A({z2:30,style:Ve(r,{text:g})}),l.attr(this._yearTextPositionControl(l,m[a],n,a,h)),s.add(l)},t.prototype._monthTextPositionControl=function(e,t,n,s,o){var i="left",a="top",r=e[0],c=e[1];return n==="horizontal"?(c=c+o,t&&(i="center"),s==="start"&&(a="bottom")):(r=r+o,t&&(a="middle"),s==="start"&&(i="right")),{x:r,y:c,align:i,verticalAlign:a}},t.prototype._renderMonthText=function(e,t,s,o){var a,c,l,d,u,h,m,f,p,g,v,b,j,y,_,w,O,r=e.getModel("monthLabel");if(!r.get("show"))return;a=r.get("nameMap"),d=r.get("margin"),u=r.get("position"),v=r.get("align"),h=[this._tlpoints,this._blpoints],(!a||i(a))&&(a&&(t=U1(a)||t),a=t.get(["time","monthAbbr"])||[]);for(f=u==="start"?0:1,m=s==="horizontal"?0:1,d=u==="start"?-d:d,p=v==="center",c=0;c<h[f].length-1;c++)g=h[f][c].slice(),l=this._firstDayOfMonth[c],p&&(b=this._firstDayPoints[c],g[m]=(b[m]+h[0][c+1][m])/2),j=r.get("formatter"),y=a[+l.m-1],_={yyyy:l.y,yy:(l.y+"").slice(2),MM:l.m,M:+l.m,nameMap:y},w=this._formatterLabel(j,_),O=new A({z2:30,style:n(Ve(r,{text:w}),this._monthTextPositionControl(g,p,s,u,d))}),o.add(O)},t.prototype._weekTextPositionControl=function(e,t,n,s,o){var c="center",l="middle",a=e[0],r=e[1],i=n==="start";return t==="horizontal"?(a=a+s+(i?1:-1)*o[0]/2,c=i?"right":"left"):(r=r+s+(i?1:-1)*o[1]/2,l=i?"bottom":"top"),{x:a,y:r,align:c,verticalAlign:l}},t.prototype._renderWeekText=function(e,t,s,o,a){var c,l,d,u,m,f,p,g,v,b,j,y,_,h=e.getModel("dayLabel");if(!h.get("show"))return;c=e.coordinateSystem,f=h.get("position"),l=h.get("nameMap"),u=h.get("margin"),v=c.getFirstDayOfWeek(),(!l||i(l))&&(l&&(t=U1(l)||t),b=t.get(["time","dayOfWeekShort"]),l=b||r(t.get(["time","dayOfWeekAbbr"]),function(e){return e[0]})),p=c.getNextNDay(s.end.time,7-s.lweek).time,m=[c.getCellWidth(),c.getCellHeight()],u=L(u,Math.min(m[1],m[0])),f==="start"&&(p=c.getNextNDay(s.start.time,-(7+s.fweek)).time,u=-u);for(d=0;d<7;d++)j=c.getNextNDay(p,d),y=c.dataToRect([j.time],!1).center,g=d,g=Math.abs((d+v)%7),_=new A({z2:30,style:n(Ve(h,{text:l[g]}),this._weekTextPositionControl(y,o,f,u,m))}),a.add(_)},t.type="calendar",t}($),ta=864e5,c0=function(){function e(t){this.type="calendar",this.dimensions=e.dimensions,this.getDimensionsInfo=e.getDimensionsInfo,this._model=t}return e.getDimensionsInfo=function(){return[{name:"time",type:"time"},"value"]},e.prototype.getRangeInfo=function(){return this._rangeInfo},e.prototype.getModel=function(){return this._model},e.prototype.getRect=function(){return this._rect},e.prototype.getCellWidth=function(){return this._sw},e.prototype.getCellHeight=function(){return this._sh},e.prototype.getOrient=function(){return this._orient},e.prototype.getFirstDayOfWeek=function(){return this._firstDayOfWeek},e.prototype.getDateInfo=function(e){e=le(e);var o=e.getFullYear(),t=e.getMonth()+1,i=t<10?"0"+t:""+t,n=e.getDate(),a=n<10?"0"+n:""+n,s=e.getDay(),s=Math.abs((s+7-this.getFirstDayOfWeek())%7);return{y:o+"",m:i,d:a,day:s,time:e.getTime(),formatedDate:o+"-"+i+"-"+a,date:e}},e.prototype.getNextNDay=function(e,t){return t=t||0,t===0?this.getDateInfo(e):(e=new Date(this.getDateInfo(e).time),e.setDate(e.getDate()+t),this.getDateInfo(e))},e.prototype.update=function(e,n){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var c,l,o=this._rangeInfo.weeks||1,i=["width","height"],s=this._model.getCellSize().slice(),a=this._model.getBoxLayoutParams(),r=this._orient==="horizontal"?[o,7]:[7,o];t([0,1],function(e){d(s,e)&&(a[i[e]]=s[e]*r[e])}),c={width:n.getWidth(),height:n.getHeight()},l=this._rect=Us(a,c),t([0,1],function(e){d(s,e)||(s[e]=l[i[e]]/r[e])});function d(e,t){return e[t]!=null&&e[t]!=="auto"}this._sw=s[0],this._sh=s[1]},e.prototype.dataToPoint=function(e,t){s(e)&&(e=e[0]),t==null&&(t=!0);var i,a,n=this.getDateInfo(e),o=this._rangeInfo,r=n.formatedDate;return t&&!(n.time>=o.start.time&&n.time<o.end.time+ta)?[NaN,NaN]:(i=n.day,a=this._getRangeInfo([o.start.time,r]).nthWeek,this._orient==="vertical"?[this._rect.x+i*this._sw+this._sw/2,this._rect.y+a*this._sh+this._sh/2]:[this._rect.x+a*this._sw+this._sw/2,this._rect.y+i*this._sh+this._sh/2])},e.prototype.pointToData=function(e){var t=this.pointToDate(e);return t&&t.time},e.prototype.dataToRect=function(e,t){var n=this.dataToPoint(e,t);return{contentShape:{x:n[0]-(this._sw-this._lineWidth)/2,y:n[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:n,tl:[n[0]-this._sw/2,n[1]-this._sh/2],tr:[n[0]+this._sw/2,n[1]-this._sh/2],br:[n[0]+this._sw/2,n[1]+this._sh/2],bl:[n[0]-this._sw/2,n[1]+this._sh/2]}},e.prototype.pointToDate=function(e){var t=Math.floor((e[0]-this._rect.x)/this._sw)+1,n=Math.floor((e[1]-this._rect.y)/this._sh)+1,s=this._rangeInfo.range;return this._orient==="vertical"?this._getDateByWeeksAndDay(n,t-1,s):this._getDateByWeeksAndDay(t,n-1,s)},e.prototype.convertToPixel=function(e,t,n){var s=d0(t);return s===this?s.dataToPoint(n):null},e.prototype.convertFromPixel=function(e,t,n){var s=d0(t);return s===this?s.pointToData(n):null},e.prototype.containPoint=function(){return console.warn("Not implemented."),!1},e.prototype._initRangeOption=function(){var e,n,o,i,a,r,t=this._model.get("range");return s(t)&&t.length===1&&(t=t[0]),s(t)?n=t:(e=t.toString(),/^\d{4}$/.test(e)&&(n=[e+"-01-01",e+"-12-31"]),/^\d{4}[/|-]\d{1,2}$/.test(e)&&(i=this.getDateInfo(e),o=i.date,o.setMonth(o.getMonth()+1),r=this.getNextNDay(o,-1),n=[i.formatedDate,r.formatedDate]),/^\d{4}[/|-]\d{1,2}[/|-]\d{1,2}$/.test(e)&&(n=[e,e])),n?(a=this._getRangeInfo(n),a.start.time>a.end.time&&n.reverse(),n):(wt("Invalid date range."),t)},e.prototype._getRangeInfo=function(e){var n,s,o,i,a,r,c,l,d,t=[this.getDateInfo(e[0]),this.getDateInfo(e[1])];if(t[0].time>t[1].time&&(r=!0,t.reverse()),s=Math.floor(t[1].time/ta)-Math.floor(t[0].time/ta)+1,n=new Date(t[0].time),l=n.getDate(),c=t[1].date.getDate(),n.setDate(l+s-1),o=n.getDate(),o!==c)for(i=n.getTime()-t[1].time>0?1:-1;(o=n.getDate())!==c&&(n.getTime()-t[1].time)*i>0;)s-=i,n.setDate(o-i);return a=Math.floor((s+t[0].day+6)/7),d=r?-a+1:a-1,r&&t.reverse(),{range:[t[0].formatedDate,t[1].formatedDate],start:t[0],end:t[1],allDay:s,weeks:a,nthWeek:d,fweek:t[0].day,lweek:t[1].day}},e.prototype._getDateByWeeksAndDay=function(e,t,n){var o,i,s=this._getRangeInfo(n);return e>s.weeks||e===0&&t<s.fweek||e===s.weeks&&t>s.lweek?null:(i=(e-1)*7-s.fweek+t,o=new Date(s.start.time),o.setDate(+s.start.d+i),this.getDateInfo(o))},e.create=function(t){var s=[];return t.eachComponent("calendar",function(t){var n=new e(t);s.push(n),t.coordinateSystem=n}),t.eachSeries(function(e){e.get("coordinateSystem")==="calendar"&&(e.coordinateSystem=s[e.get("calendarIndex")||0])}),s},e.dimensions=["time","value"],e}();function d0(e){var t=e.calendarModel,n=e.seriesModel,s=t?t.coordinateSystem:n?n.coordinateSystem:null;return s}function cv(e){e.registerComponentModel(k4),e.registerComponentView(e0),e.registerCoordinateSystem("calendar",c0)}J(cv),w0=function(e){o(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n.layoutMode={type:"box",ignoreSize:!0},n}return t.type="title",t.defaultOption={z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:"#464646"},subtextStyle:{fontSize:12,color:"#6E7079"}},t}(p),O0=function(e){o(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.render=function(e,t,n){if(this.group.removeAll(),!e.get("show"))return;var s,i,r,u,h,g,w,a=this.group,j=e.getModel("textStyle"),_=e.getModel("subtextStyle"),c=e.get("textAlign"),o=v(e.get("textBaseline"),e.get("textVerticalAlign")),l=new A({style:Ve(j,{text:e.get("text"),fill:j.getTextColor()},{disableBox:!0}),z2:10}),O=l.getBoundingRect(),b=e.get("subtext"),d=new A({style:Ve(_,{text:b,fill:_.getTextColor(),y:O.height+e.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),p=e.get("link"),m=e.get("sublink"),f=e.get("triggerEvent",!0);l.silent=!p&&!f,d.silent=!m&&!f,p&&l.on("click",function(){m0(p,"_"+e.get("target"))}),m&&d.on("click",function(){m0(m,"_"+e.get("subtarget"))}),y(l).eventData=y(d).eventData=f?{componentType:"title",componentIndex:e.componentIndex}:null,a.add(l),b&&a.add(d),i=a.getBoundingRect(),u=e.getBoxLayoutParams(),u.width=i.width,u.height=i.height,s=Us(u,{width:n.getWidth(),height:n.getHeight()},e.get("padding")),c||(c=e.get("left")||e.get("right"),c==="middle"&&(c="center"),c==="right"?s.x+=s.width:c==="center"&&(s.x+=s.width/2)),o||(o=e.get("top")||e.get("bottom"),o==="center"&&(o="middle"),o==="bottom"?s.y+=s.height:o==="middle"&&(s.y+=s.height/2),o=o||"top"),a.x=s.x,a.y=s.y,a.markRedraw(),h={align:c,verticalAlign:o},l.setStyle(h),d.setStyle(h),i=a.getBoundingRect(),r=s.margin,g=e.getItemStyle(["color","opacity"]),g.fill=e.get("backgroundColor"),w=new T({shape:{x:i.x-r[3],y:i.y-r[0],width:i.width+r[1]+r[3],height:i.height+r[0]+r[2],r:e.get("borderRadius")},style:g,subPixelOptimize:!0,silent:!0}),a.add(w)},t.type="title",t}($);function uv(e){e.registerComponentModel(w0),e.registerComponentView(O0)}J(uv);function hv(e,t){var n={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return mv(n,e,t),n.seriesInvolved&&pv(n,e),n}function mv(e,n,s){var i=n.getComponent("tooltip"),o=n.getComponent("axisPointer"),a=o.get("link",!0)||[],r=[];t(s.getCoordinateSystems(),function(s){if(!s.axisPointerEnabled)return;var c,l,d,u,f,m=xi(s.model),p=e.coordSysAxesInfo[m]={};e.coordSysMap[m]=s,f=s.model,c=f.getModel("tooltip",i),t(s.getAxes(),se(h,!1,null)),s.getTooltipAxes&&i&&c.get("show")&&(d=c.get("trigger")==="axis",l=c.get(["axisPointer","type"])==="cross",u=s.getTooltipAxes(c.get(["axisPointer","axis"])),(d||l)&&t(u.baseAxes,se(h,!l||"cross",d)),l&&t(u.otherAxes,se(h,"cross",!1)));function h(t,i,l){var u,h,m,f,g,v,d=l.model.getModel("axisPointer",o),b=d.get("show");if(!b||b==="auto"&&!t&&!gu(d))return;i==null&&(i=d.get("triggerTooltip")),d=t?fv(l,c,o,n,t,i):d,g=d.get("snap"),u=xi(l.model),v=i||g||l.type==="category",m=e.axesInfo[u]={key:u,axis:l,coordSys:s,axisPointerModel:d,triggerTooltip:i,involveSeries:v,snap:g,useHandle:gu(d),seriesModels:[],linkGroup:null},p[u]=m,e.seriesInvolved=e.seriesInvolved||v,h=gv(a,l),h!=null&&(f=r[h]||(r[h]={axesInfo:{}}),f.axesInfo[u]=m,f.mapper=a[h].mapper,m.linkGroup=f)}})}function fv(e,n,s,o,i,a){var l,u,h,d=n.getModel("axisPointer"),m=["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],r={};return t(m,function(e){r[e]=c(d.get(e))}),r.snap=e.type!=="category"&&!!a,d.get("type")==="cross"&&(r.type="line"),l=r.label||(r.label={}),l.show==null&&(l.show=!1),i==="cross"&&(u=d.get(["label","show"]),l.show=u??!0,a||(h=r.lineStyle=d.get("crossStyle"),h&&x(l,h.textStyle))),e.model.getModel("axisPointer",new C(r,s,o))}function pv(e,n){n.eachSeries(function(n){var s=n.coordinateSystem,o=n.get(["tooltip","trigger"],!0),i=n.get(["tooltip","show"],!0);if(!s||o==="none"||o===!1||o==="item"||i===!1||n.get(["axisPointer","show"],!0)===!1)return;t(e.coordSysAxesInfo[xi(s.model)],function(e){var t=e.axis;s.getAxis(t.dim)===t&&(e.seriesModels.push(n),e.seriesDataCount==null&&(e.seriesDataCount=0),e.seriesDataCount+=n.getData().count())})})}function gv(e,t){for(var s,o=t.model,i=t.dim,n=0;n<e.length;n++)if(s=e[n]||{},Gu(s[i+"AxisId"],o.id)||Gu(s[i+"AxisIndex"],o.componentIndex)||Gu(s[i+"AxisName"],o.name))return n}function Gu(e,t){return e==="all"||s(e)&&_(e,t)>=0||e===t}function bv(e){var t,n,s,i,a,r,c,o=Vu(e);if(!o)return;s=o.axisPointerModel,a=o.axis.scale,i=s.option,c=s.get("status"),t=s.get("value"),t!=null&&(t=a.parse(t)),r=gu(s),c==null&&(i.status=r?"show":"hide"),n=a.getExtent().slice(),n[0]>n[1]&&n.reverse(),(t==null||t>n[1])&&(t=n[1]),t<n[0]&&(t=n[0]),i.value=t,r&&(i.status=o.axis.scale.isBlank()?"hide":"show")}function Vu(e){var t=(e.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return t&&t.axesInfo[xi(e)]}function yv(e){var t=Vu(e);return t&&t.axisPointerModel}function gu(e){return!!e.get(["handle","show"])}function xi(e){return e.type+"||"+e.id}oa={},p3=function(e){o(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.render=function(t,n,s){this.axisPointerClass&&bv(t),e.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(t,s,!0)},t.prototype.updateAxisPointer=function(e,t,n){this._doUpdateAxisPointerClass(e,n,!1)},t.prototype.remove=function(e,t){var n=this._axisPointer;n&&n.remove(t)},t.prototype.dispose=function(t,n){this._disposeAxisPointer(n),e.prototype.dispose.apply(this,arguments)},t.prototype._doUpdateAxisPointerClass=function(e,n,s){var o,i=t.getAxisPointerClass(this.axisPointerClass);if(!i)return;o=yv(e),o?(this._axisPointer||(this._axisPointer=new i)).render(e,o,n,s):this._disposeAxisPointer(n)},t.prototype._disposeAxisPointer=function(e){this._axisPointer&&this._axisPointer.dispose(e),this._axisPointer=null},t.registerAxisPointerClass=function(e,t){if(oa[e])throw new Error("axisPointer "+e+" exists");oa[e]=t},t.getAxisPointerClass=function(e){return e&&oa[e]},t.type="axis",t}($),on=S(),rc=c,Fa=f,ih=function(){function e(){this._dragging=!1,this.animationThreshold=15}return e.prototype.render=function(e,t,n,s){var o,i,a,l,d,u,r=t.get("value"),c=t.get("status");if(this._axisModel=e,this._axisPointerModel=t,this._api=n,!s&&this._lastValue===r&&this._lastStatus===c)return;if(this._lastValue=r,this._lastStatus=c,o=this._group,a=this._handle,!c||c==="hide"){o&&o.hide(),a&&a.hide();return}o&&o.show(),a&&a.show(),i={},this.makeElOption(i,r,e,t,n),l=i.graphicKey,l!==this._lastGraphicKey&&this.clear(n),this._lastGraphicKey=l,u=this._moveAnimation=this.determineAnimation(e,t),o?(d=se(Rh,t,u),this.updatePointerEl(o,i,d),this.updateLabelEl(o,i,d,t)):(o=this._group=new Z,this.createPointerEl(o,i,e,t),this.createLabelEl(o,i,e,t),n.getZr().add(o)),Xh(o,t,!0),this._renderHandle(r)},e.prototype.remove=function(e){this.clear(e)},e.prototype.dispose=function(e){this.clear(e)},e.prototype.determineAnimation=function(e,t){var o,i,c,n=t.get("animation"),s=e.axis,a=s.type==="category",r=t.get("snap");return!(!r&&!a)&&(n==="auto"||n==null?(o=this.animationThreshold,!!(a&&s.getBandWidth()>o)||!!r&&(c=Vu(e).seriesDataCount,i=s.getExtent(),Math.abs(i[0]-i[1])/c>o)):n===!0)},e.prototype.makeElOption=function(){},e.prototype.createPointerEl=function(e,t){var i,o=t.pointer;o&&(i=on(e).pointerEl=new $4[o.type](rc(t.pointer)),e.add(i))},e.prototype.createLabelEl=function(e,t,n,s){if(t.label){var o=on(e).labelEl=new A(rc(t.label));e.add(o),qh(o,s)}},e.prototype.updatePointerEl=function(e,t,n){var s=on(e).pointerEl;s&&t.pointer&&(s.setStyle(t.pointer.style),n(s,{shape:t.pointer.shape}))},e.prototype.updateLabelEl=function(e,t,n,s){var o=on(e).labelEl;o&&(o.setStyle(t.label.style),n(o,{x:t.label.x,y:t.label.y}),qh(o,s))},e.prototype._renderHandle=function(e){if(this._dragging||!this.updateHandleTransform)return;var n,c,i=this._axisPointerModel,a=this._api.getZr(),t=this._handle,o=i.getModel("handle"),r=i.get("status");if(!o.get("show")||!r||r==="hide"){t&&a.remove(t),this._handle=null;return}this._handle||(c=!0,t=this._handle=y1(o.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(e){cs(e.event)},onmousedown:Fa(this._onHandleDragMove,this,0,0),drift:Fa(this._onHandleDragMove,this),ondragend:Fa(this._onHandleDragEnd,this)}),a.add(t)),Xh(t,i,!1),t.setStyle(o.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"])),n=o.get("size"),s(n)||(n=[n,n]),t.scaleX=n[0]/2,t.scaleY=n[1]/2,cm(this,"_doDispatchAxisPointer",o.get("throttle")||0,"fixRate"),this._moveHandleToValue(e,c)},e.prototype._moveHandleToValue=function(e,t){Rh(this._axisPointerModel,!t&&this._moveAnimation,this._handle,bd(this.getHandleTransform(e,this._axisModel,this._axisPointerModel)))},e.prototype._onHandleDragMove=function(e,t){var s,n=this._handle;if(!n)return;this._dragging=!0,s=this.updateHandleTransform(bd(n),[e,t],this._axisModel,this._axisPointerModel),this._payloadInfo=s,n.stopAnimation(),n.attr(bd(s)),on(n).lastProp=null,this._doDispatchAxisPointer()},e.prototype._doDispatchAxisPointer=function(){var e,t,n=this._handle;if(!n)return;e=this._payloadInfo,t=this._axisModel,this._api.dispatchAction({type:"updateAxisPointer",x:e.cursorPoint[0],y:e.cursorPoint[1],tooltipOption:e.tooltipOption,axesInfo:[{axisDim:t.axis.dim,axisIndex:t.componentIndex}]})},e.prototype._onHandleDragEnd=function(){this._dragging=!1;var e,t=this._handle;if(!t)return;e=this._axisPointerModel.get("value"),this._moveHandleToValue(e),this._api.dispatchAction({type:"hideTip"})},e.prototype.clear=function(e){this._lastValue=null,this._lastStatus=null;var t=e.getZr(),n=this._group,s=this._handle;t&&n&&(this._lastGraphicKey=null,n&&t.remove(n),s&&t.remove(s),this._group=null,this._handle=null,this._payloadInfo=null),dd(this,"_doDispatchAxisPointer")},e.prototype.doClear=function(){},e.prototype.buildLabel=function(e,t,n){return n=n||0,{x:e[n],y:e[1-n],width:t[n],height:t[1-n]}},e}();function Rh(e,t,n,s){$h(on(n).lastProp,s)||(on(n).lastProp=s,t?Rn(n,s,e):(n.stopAnimation(),n.attr(s)))}function $h(e,n){if(a(e)&&a(n)){var s=!0;return t(n,function(t,n){s=s&&$h(e[n],t)}),!!s}return e===n}function qh(e,t){e[t.get(["label","show"])?"show":"hide"]()}function bd(e){return{x:e.x||0,y:e.y||0,rotation:e.rotation||0}}function Xh(e,t,n){var s=t.get("z"),o=t.get("zlevel");e&&e.traverse(function(e){e.type!=="group"&&(s!=null&&(e.z=s),o!=null&&(e.zlevel=o),e.silent=n)})}xt=Math.PI,Et=function(){function e(e,t){this.group=new Z,this.opt=t,this.axisModel=e,x(t,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}});var n=new Z({x:t.position[0],y:t.position[1],rotation:t.rotation});n.updateTransform(),this._transformGroup=n}return e.prototype.hasBuilder=function(e){return!!hd[e]},e.prototype.add=function(e){hd[e](this.opt,this.axisModel,this.group,this._transformGroup)},e.prototype.getGroup=function(){return this.group},e.innerTextLayout=function(e,t,n){var o,i,s=Wu(t-e);return Di(s)?(i=n>0?"top":"bottom",o="center"):Di(s-xt)?(i=n>0?"bottom":"top",o="center"):(i="middle",s>0&&s<xt?o=n>0?"right":"left":o=n>0?"left":"right"),{rotation:s,textAlign:o,textVerticalAlign:i}},e.makeAxisEventDataBase=function(e){var t={componentType:e.mainType,componentIndex:e.componentIndex};return t[e.mainType+"Index"]=e.componentIndex,t},e.isLabelSilent=function(e){var t=e.get("tooltip");return e.get("silent")||!(e.get("triggerEvent")||t&&t.show)},e}(),hd={axisLine:function(e,s,o,a){var r,c,l,d,u,m,f,p,g,v,b,h=s.get(["axisLine","show"]);if(h==="auto"&&e.handleAutoShown&&(h=e.handleAutoShown("axisLine")),!h)return;m=s.axis.getExtent(),u=a.transform,r=[m[0],0],c=[m[1],0],u&&(pe(r,r,u),pe(c,c,u)),f=n({lineCap:"round"},s.getModel(["axisLine","lineStyle"]).getLineStyle()),p=new Lt({subPixelOptimize:!0,shape:{x1:r[0],y1:r[1],x2:c[0],y2:c[1]},style:f,strokeContainThreshold:e.strokeContainThreshold||5,silent:!0,z2:1}),p.anid="line",o.add(p),l=s.get(["axisLine","symbol"]),l!=null&&(d=s.get(["axisLine","symbolSize"]),i(l)&&(l=[l,l]),(i(d)||E(d))&&(d=[d,d]),g=Hg(s.get(["axisLine","symbolOffset"])||0,d),v=d[0],b=d[1],t([{rotate:e.rotation+Math.PI/2,offset:g[0],r:0},{rotate:e.rotation-Math.PI/2,offset:g[1],r:Math.sqrt((r[0]-c[0])*(r[0]-c[0])+(r[1]-c[1])*(r[1]-c[1]))}],function(t,n){if(l[n]!=="none"&&l[n]!=null){var s=Kn(l[n],-v/2,-b/2,v,b,f.stroke,!0),i=t.r+t.offset;s.attr({rotation:t.rotate,x:r[0]+i*Math.cos(e.rotation),y:r[1]-i*Math.sin(e.rotation),silent:!0,z2:11}),o.add(s)}}))},axisTickLabel:function(e,t,n,s){var i,a=$v(n,s,t,e),o=Uv(n,s,t,e);Pv(t,o,a),Wv(n,s,t,e.tickDirection),t.get(["axisLabel","hideOverlap"])&&(i=h2(r(o,function(e){return{label:e,priority:e.z2,defaultAttr:{ignore:e.ignore}}})),t2(i))},axisName:function(e,t,n,s){var o,i,a,r,c,l,d,h,m,f,p,g,v,b,j,_,u=bt(e.axisName,t.get("name"));if(!u)return;l=t.get("nameLocation"),v=e.nameDirection,d=t.getModel("nameTextStyle"),h=t.get("nameGap")||0,i=t.axis.getExtent(),p=i[0]>i[1]?-1:1,f=[l==="start"?i[0]-p*h:l==="end"?i[1]+p*h:(i[0]+i[1])/2,dm(l)?e.labelOffset+v*h:0],r=t.get("nameRotate"),r!=null&&(r=r*xt/180),dm(l)?c=Et.innerTextLayout(e.rotation,r??e.rotation,v):(c=Rv(e.rotation,l,r||0,i),a=e.axisNameAvailableWidth,a!=null&&(a=Math.abs(a/Math.sin(c.rotation)),!isFinite(a)&&(a=null))),b=d.getFont(),g=t.get("nameTruncate",!0)||{},j=g.ellipsis,_=bt(e.nameTruncateMaxWidth,g.maxWidth,a),o=new A({x:f[0],y:f[1],rotation:c.rotation,silent:Et.isLabelSilent(t),style:Ve(d,{text:u,font:b,overflow:"truncate",width:_,ellipsis:j,fill:d.getTextColor()||t.get(["axisLine","lineStyle","color"]),align:d.get("align")||c.textAlign,verticalAlign:d.get("verticalAlign")||c.textVerticalAlign}),z2:1}),J4({el:o,componentModel:t,itemName:u}),o.__fullText=u,o.anid="name",t.get("triggerEvent")&&(m=Et.makeAxisEventDataBase(t),m.targetType="axisName",m.name=u,y(o).eventData=m),s.add(o),o.updateTransform(),n.add(o),o.decomposeTransform()}};function Rv(e,t,n,s){var i,a,o=Wu(n-e),c=s[0]>s[1],r=t==="start"&&!c||t!=="start"&&c;return Di(o-xt/2)?(a=r?"bottom":"top",i="center"):Di(o-xt*1.5)?(a=r?"top":"bottom",i="center"):(a="middle",o<xt*1.5&&o>xt/2?i=r?"left":"right":i=r?"right":"left"),{rotation:o,textAlign:i,textVerticalAlign:a}}function Pv(e,t,n){if(Mm(e.axis))return;var s,o,i,a,r,c,u,h,l=e.get(["axisLabel","showMinLabel"]),d=e.get(["axisLabel","showMaxLabel"]);t=t||[],n=n||[],s=t[0],i=t[1],o=t[t.length-1],a=t[t.length-2],r=n[0],u=n[1],c=n[n.length-1],h=n[n.length-2],l===!1?(Se(s),Se(r)):lm(s,i)&&(l?(Se(i),Se(u)):(Se(s),Se(r))),d===!1?(Se(o),Se(c)):lm(a,o)&&(d?(Se(a),Se(h)):(Se(o),Se(c)))}function Se(e){e&&(e.ignore=!0)}function lm(e,t){var n,s=e&&e.getBoundingRect().clone(),o=t&&t.getBoundingRect().clone();if(!s||!o)return;return n=Ys([]),Pa(n,n,-e.rotation),s.applyTransform(Wt([],n,e.getLocalTransform())),o.applyTransform(Wt([],n,t.getLocalTransform())),s.intersect(o)}function dm(e){return e==="middle"||e==="center"}function Fm(e,t,n,s,o){for(var c,l,d=[],i=[],a=[],r=0;r<e.length;r++)c=e[r].coord,i[0]=c,i[1]=0,a[0]=c,a[1]=n,t&&(pe(i,i,t),pe(a,a,t)),l=new Lt({subPixelOptimize:!0,shape:{x1:i[0],y1:i[1],x2:a[0],y2:a[1]},style:s,z2:2,autoBatch:!0,silent:!0}),l.anid=o+"_"+e[r].tickValue,d.push(l);return d}function $v(e,t,n,s){var o,i,l,d,u,c=n.axis,a=n.getModel("axisTick"),r=a.get("show");if(r==="auto"&&s.handleAutoShown&&(r=s.handleAutoShown("axisTick")),!r||c.scale.isBlank())return;for(l=a.getModel("lineStyle"),d=s.tickDirection*a.get("length"),u=c.getTicksCoords(),o=Fm(u,t.transform,d,x(l.getLineStyle(),{stroke:n.get(["axisLine","lineStyle","color"])}),"ticks"),i=0;i<o.length;i++)e.add(o[i]);return o}function Wv(e,t,n,s){var o,i,a,c,d,u,h,l=n.axis,r=n.getModel("minorTick");if(!r.get("show")||l.scale.isBlank())return;if(i=l.getMinorTicksCoords(),!i.length)return;for(d=r.getModel("lineStyle"),u=s*r.get("length"),h=x(d.getLineStyle(),x(n.getModel("axisTick").getLineStyle(),{stroke:n.get(["axisLine","lineStyle","color"])})),o=0;o<i.length;o++)for(c=Fm(i[o],t.transform,u,h,"minorticks_"+o),a=0;a<c.length;a++)e.add(c[a])}function Uv(e,n,s,o){var r,c,l,u,h,m,f,p,g,i=s.axis,v=bt(o.axisLabelShow,s.get(["axisLabel","show"]));if(!v||i.scale.isBlank())return;return r=s.getModel("axisLabel"),h=r.get("margin"),m=i.getViewLabels(),f=(bt(o.labelRotate,r.get("rotate"))||0)*xt/180,c=Et.innerTextLayout(o.rotation,f,o.labelDirection),l=s.getCategories&&s.getCategories(!0),u=[],p=Et.isLabelSilent(s),g=s.get("triggerEvent"),t(m,function(t,m){var f,j,_,w,x,v=i.scale.type==="ordinal"?i.scale.getRawOrdinalNumber(t.tickValue):t.tickValue,E=t.formattedLabel,O=t.rawLabel,b=r;l&&l[v]&&(j=l[v],a(j)&&j.textStyle&&(b=new C(j.textStyle,r,s.ecModel))),_=b.getTextColor()||s.get(["axisLine","lineStyle","color"]),x=i.dataToCoord(v),f=new A({x,y:o.labelOffset+o.labelDirection*h,rotation:c.rotation,silent:p,z2:10+(t.level||0),style:Ve(b,{text:E,align:b.getShallow("align",!0)||c.textAlign,verticalAlign:b.getShallow("verticalAlign",!0)||b.getShallow("baseline",!0)||c.textVerticalAlign,fill:d(_)?_(i.type==="category"?O:i.type==="value"?v+"":v,m):_})}),f.anid="label_"+v,g&&(w=Et.makeAxisEventDataBase(s),w.targetType="axisLabel",w.value=O,y(f).eventData=w),n.add(f),f.updateTransform(),u.push(f),e.add(f),f.decomposeTransform()}),u}function Kv(e){var t,n=e.get("type"),s=e.getModel(n+"Style");return n==="line"?(t=s.getLineStyle(),t.fill=null):n==="shadow"&&(t=s.getAreaStyle(),t.stroke=null),t}function qv(e,t,n,s,o){var c,u,g=n.get("value"),h=Hm(g,t.axis,t.ecModel,n.get("seriesDataIndices"),{precision:n.get(["label","precision"]),formatter:n.get(["label","formatter"])}),a=n.getModel("label"),r=Vs(a.get("padding")||0),m=a.getFont(),f=L1(h,m),i=o.position,l=f.width+r[1]+r[3],d=f.height+r[0]+r[2],p=o.align;p==="right"&&(i[0]-=l),p==="center"&&(i[0]-=l/2),u=o.verticalAlign,u==="bottom"&&(i[1]-=d),u==="middle"&&(i[1]-=d/2),Yv(i,l,d,s),c=a.get("backgroundColor"),(!c||c==="auto")&&(c=t.get(["axisLine","lineStyle","color"])),e.label={x:i[0],y:i[1],style:Ve(a,{text:h,font:m,fill:a.getTextColor(),padding:r,backgroundColor:c}),z2:10}}function Yv(e,t,n,s){var o=s.getWidth(),i=s.getHeight();e[0]=Math.min(e[0]+t,o)-t,e[1]=Math.min(e[1]+n,i)-n,e[0]=Math.max(e[0],0),e[1]=Math.max(e[1],0)}function Hm(e,n,s,o,a){e=n.scale.parse(e);var l,c=n.scale.getLabel({value:e},{precision:a.precision}),r=a.formatter;return r&&(l={value:Wl(n,{value:e}),axisDimension:n.dim,axisIndex:n.index,seriesData:[]},t(o,function(e){var t=s.getSeriesByIndex(e.seriesIndex),o=e.dataIndexInside,n=t&&t.getDataParams(o);n&&l.seriesData.push(n)}),i(r)?c=r.replace("{value}",c):d(r)&&(c=r(l))),c}function Bm(e,t,n){var s=Tn();return Pa(s,s,n.rotation),Ha(s,s,n.position),es([e.dataToCoord(t),(n.labelOffset||0)+(n.labelDirection||1)*(n.labelMargin||0)],s)}function Qv(e,t,n,s,o,i){var a=Et.innerTextLayout(n.rotation,0,n.labelDirection);n.labelMargin=o.get(["label","margin"]),qv(t,s,o,i,{position:Bm(s.axis,e,n),align:a.textAlign,verticalAlign:a.textVerticalAlign})}function Zv(e,t,n){return n=n||0,{x1:e[n],y1:e[1-n],x2:t[n],y2:t[1-n]}}function Jv(e,t,n){return n=n||0,{x:e[n],y:e[1-n],width:t[n],height:t[1-n]}}function Vm(e,t,n){n=n||{};var f,p,g,v=e.coordinateSystem,m=t.axis,s={},c=m.getAxesOnZeroOf()[0],h=m.position,u=c?"onZero":h,l=m.dim,i=v.getRect(),a=[i.x,i.x+i.width,i.y,i.y+i.height],r={left:0,right:1,top:0,bottom:1,onZero:2},d=t.get("offset")||0,o=l==="x"?[a[2]-d,a[3]+d]:[a[0]-d,a[1]+d];return c&&(p=c.toGlobalCoord(c.dataToCoord(0)),o[r.onZero]=Math.max(Math.min(p,o[1]),o[0])),s.position=[l==="y"?o[r[u]]:a[0],l==="x"?o[r[u]]:a[3]],s.rotation=Math.PI/2*(l==="x"?0:1),g={top:-1,bottom:1,left:-1,right:1},s.labelDirection=s.tickDirection=s.nameDirection=g[h],s.labelOffset=c?o[r[h]]-o[r.onZero]:0,t.get(["axisTick","inside"])&&(s.tickDirection=-s.tickDirection),bt(n.labelInside,t.get(["axisLabel","inside"]))&&(s.labelDirection=-s.labelDirection),f=t.get(["axisLabel","rotate"]),s.labelRotate=u==="top"?-f:f,s.z2=1,s}Um=function(e){o(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.makeElOption=function(e,t,n,s,o){var a,l,d,i=n.axis,c=i.grid,r=s.get("type"),u=Xm(c,i).getOtherAxis(i).getGlobalExtent(),h=i.toGlobalCoord(i.dataToCoord(t,!0));r&&r!=="none"&&(l=Kv(s),a=l8[r](i,h,u),a.style=l,e.graphicKey=a.type,e.pointer=a),d=Vm(c.model,n),Qv(t,e,d,n,s,o)},t.prototype.getHandleTransform=function(e,t,n){var o,s=Vm(t.axis.grid.model,t,{labelInside:!1});return s.labelMargin=n.get(["handle","margin"]),o=Bm(t.axis,e,s),{x:o[0],y:o[1],rotation:s.rotation+(s.labelDirection<0?Math.PI:0)}},t.prototype.updateHandleTransform=function(e,t,n){var r,c,u,a=n.axis,h=a.grid,l=a.getGlobalExtent(!0),d=Xm(h,a).getOtherAxis(a).getGlobalExtent(),o=a.dim==="x"?0:1,i=[e.x,e.y];return i[o]+=t[o],i[o]=Math.min(l[1],i[o]),i[o]=Math.max(l[0],i[o]),r=(d[1]+d[0])/2,c=[r,r],c[o]=i[o],u=[{verticalAlign:"middle"},{align:"center"}],{x:i[0],y:i[1],rotation:e.rotation,cursorPoint:c,tooltipOption:u[o]}},t}(ih);function Xm(e,t){var n={};return n[t.dim+"AxisIndex"]=t.index,e.getCartesian(n)}l8={line:function(e,t,n){var s=Zv([t,n[0]],[t,n[1]],g8(e));return{type:"Line",subPixelOptimize:!0,shape:s}},shadow:function(e,t,n){var s=Math.max(1,e.getBandWidth()),o=n[1]-n[0];return{type:"Rect",shape:Jv([t-s/2,n[0]],[s,o],g8(e))}}};function g8(e){return e.dim==="x"?0:1}Rf=function(e){o(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.type="axisPointer",t.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}},t}(p),nt=S(),Kf=t;function f6(e,t,n){if(l.node)return;var o,s=t.getZr();nt(s).records||(nt(s).records={}),l9(s,t),o=nt(s).records[e]||(nt(s).records[e]={}),o.handler=n}function l9(e,t){if(nt(e).initialized)return;nt(e).initialized=!0,n("click",se(v6,"click")),n("mousemove",se(v6,"mousemove")),n("globalout",u9);function n(n,s){e.on(n,function(n){var o=m9(t);Kf(nt(e).records,function(e){e&&s(e,n,o.dispatchAction)}),d9(o.pendings,t)})}}function d9(e,t){var n,s=e.showTip.length,o=e.hideTip.length;s?n=e.showTip[s-1]:o&&(n=e.hideTip[o-1]),n&&(n.dispatchAction=null,t.dispatchAction(n))}function u9(e,t,n){e.handler("leave",null,n)}function v6(e,t,n,s){t.handler(e,n,s)}function m9(e){var t={showTip:[],hideTip:[]},n=function(s){var o=t[s.type];o?o.push(s):(s.dispatchAction=n,e.dispatchAction(s))};return{dispatchAction:n,pendings:t}}function Tc(e,t){if(l.node)return;var n=t.getZr(),s=(nt(n).records||{})[e];s&&(nt(n).records[e]=null)}R6=function(e){o(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.render=function(e,t,n){var s=t.getComponent("tooltip"),o=e.get("triggerOn")||s&&s.get("triggerOn")||"mousemove|click";f6("axisPointer",n,function(e,t,n){o!=="none"&&(e==="leave"||o.indexOf(e)>=0)&&n({type:"updateAxisPointer",currTrigger:e,x:t&&t.offsetX,y:t&&t.offsetY})})},t.prototype.remove=function(e,t){Tc("axisPointer",t)},t.prototype.dispose=function(e,t){Tc("axisPointer",t)},t.type="axisPointer",t}($);function $6(e,t){var n,o,i,a,c,l,u,h,m,f,g,v,b,d=[],p=e.seriesIndex;return p==null||!(c=t.getSeriesByIndex(p))?{point:[]}:(n=c.getData(),o=Co(n,e),o==null||o<0||s(o)?{point:[]}:(l=n.getItemGraphicEl(o),i=c.coordinateSystem,c.getTooltipPosition?d=c.getTooltipPosition(o)||[]:i&&i.dataToPoint?e.isStacked?(h=i.getBaseAxis(),g=i.getOtherAxis(h),m=g.dim,v=h.dim,f=m==="x"||m==="radius"?1:0,b=n.mapDimension(v),u=[],u[f]=n.get(b,o),u[1-f]=n.get(n.getCalculationInfo("stackResultDimension"),o),d=i.dataToPoint(u)||[]):d=i.dataToPoint(n.getValues(r(i.dimensions,function(e){return n.mapDimension(e)}),o))||[]:l&&(a=l.getBoundingRect().clone(),a.applyTransform(l.transform),d=[a.x+a.width/2,a.y+a.height/2]),{point:d,el:l}))}Ac=S();function b9(e,n,s){var i,a,r,l,d,h,m,p,g,b=e.currTrigger,o=[e.x,e.y],u=e,v=e.dispatchAction||f(s.dispatchAction,s),c=n.getComponent("axisPointer").coordSysAxesInfo;if(!c)return;return Or(o)&&(o=$6({seriesIndex:u.seriesIndex,dataIndex:u.dataIndex},n).point),d=Or(o),l=u.axesInfo,i=c.axesInfo,g=b==="leave"||Or(o),r={},a={},h={list:[],map:{}},m={showPointer:se(_9,a),showTooltip:se(w9,h)},t(c.coordSysMap,function(e,n){var s=d||e.containPoint(o);t(c.coordSysAxesInfo[n],function(e){var n,a=e.axis,i=E9(l,e);!g&&s&&(!l||i)&&(n=i&&i.value,n==null&&!d&&(n=a.pointToData(o)),n!=null&&W6(e,n,m,!1,r))})}),p={},t(i,function(e,n){var s=e.linkGroup;s&&!a[n]&&t(s.axesInfo,function(t,n){var o,i=a[n];t!==e&&i&&(o=i.value,s.mapper&&(o=e.axis.scale.parse(s.mapper(o,U6(t),U6(e)))),p[e.key]=o)})}),t(p,function(e,t){W6(i[t],e,m,!0,r)}),O9(a,i,r),x9(h,o,e,v),C9(i,v,s),r}function W6(e,t,s,o,i){var a,r,c,l=e.axis;if(l.scale.isBlank()||!l.containData(t))return;if(!e.involveSeries){s.showPointer(e,t);return}r=y9(t,e),c=r.payloadBatch,a=r.snapToValue,c[0]&&i.seriesIndex==null&&n(i,c[0]),!o&&e.snap&&l.containData(a)&&a!=null&&(t=a),s.showPointer(e,t,c),s.showTooltip(e,r,a)}function y9(e,n){var s=n.axis,c=s.dim,a=e,o=[],i=Number.MAX_VALUE,r=-1;return t(n.seriesModels,function(n){var d,u,h,m,p,f=n.getData().mapDimensionsAll(c);if(n.getAxisTooltipData)p=n.getAxisTooltipData(f,e,s),u=p.dataIndices,d=p.nestestValue;else{if(u=n.getData().indicesOfNearest(f[0],e,s.type==="category"?.5:null),!u.length)return;d=n.getData().get(f[0],u[0])}if(d==null||!isFinite(d))return;h=e-d,m=Math.abs(h),m<=i&&((m<i||h>=0&&r<0)&&(i=m,r=h,a=d,o.length=0),t(u,function(e){o.push({seriesIndex:n.seriesIndex,dataIndexInside:e,dataIndex:n.getData().getRawIndex(e)})}))}),{payloadBatch:o,snapToValue:a}}function _9(e,t,n,s){e[t.key]={value:n,payloadBatch:s}}function w9(e,t,n,s){var o,i,r,c=n.payloadBatch,l=t.axis,a=l.model,d=t.axisPointerModel;if(!t.triggerTooltip||!c.length)return;o=t.coordSys.model,r=xi(o),i=e.map[r],i||(i=e.map[r]={coordSysId:o.id,coordSysIndex:o.componentIndex,coordSysType:o.type,coordSysMainType:o.mainType,dataByAxis:[]},e.list.push(i)),i.dataByAxis.push({axisDim:l.dim,axisIndex:a.componentIndex,axisType:a.type,axisId:a.id,value:s,valueLabelOpt:{precision:d.get(["label","precision"]),formatter:d.get(["label","formatter"])},seriesDataIndices:c.slice()})}function O9(e,n,s){var o=s.axesInfo=[];t(n,function(t,n){var s=t.axisPointerModel.option,i=e[n];i?(!t.useHandle&&(s.status="show"),s.value=i.value,s.seriesDataIndices=(i.payloadBatch||[]).slice()):!t.useHandle&&(s.status="hide"),s.status==="show"&&o.push({axisDim:t.axis.dim,axisIndex:t.axis.model.componentIndex,value:s.value})})}function x9(e,t,n,s){if(Or(t)||!e.list.length){s({type:"hideTip"});return}var o=((e.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};s({type:"showTip",escapeConnect:!0,x:t[0],y:t[1],tooltipOption:n.tooltipOption,position:n.position,dataIndexInside:o.dataIndexInside,dataIndex:o.dataIndex,seriesIndex:o.seriesIndex,dataByCoordSys:e.list})}function C9(e,n,s){var o,i,r=s.getZr(),c="axisPointerLastHighlights",l=Ac(r)[c]||{},a=Ac(r)[c]={};t(e,function(e){var s=e.axisPointerModel.option;s.status==="show"&&t(s.seriesDataIndices,function(e){var t=e.seriesIndex+" | "+e.dataIndex;a[t]=e})}),o=[],i=[],t(l,function(e,t){!a[t]&&i.push(e)}),t(a,function(e,t){!l[t]&&o.push(e)}),i.length&&s.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:i}),o.length&&s.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:o})}function E9(e,t){for(var n,s=0;s<(e||[]).length;s++)if(n=e[s],t.axis.dim===n.axisDim&&t.axis.model.componentIndex===n.axisIndex)return n}function U6(e){var n=e.axis.model,t={},s=t.axisDim=e.axis.dim;return t.axisIndex=t[s+"AxisIndex"]=n.componentIndex,t.axisName=t[s+"AxisName"]=n.name,t.axisId=t[s+"AxisId"]=n.id,t}function Or(e){return!e||e[0]==null||isNaN(e[0])||e[1]==null||isNaN(e[1])}function S9(e){p3.registerAxisPointerClass("CartesianAxisPointer",Um),e.registerComponentModel(Rf),e.registerComponentView(R6),e.registerPreprocessor(function(e){if(e){(!e.axisPointer||e.axisPointer.length===0)&&(e.axisPointer={});var t=e.axisPointer.link;t&&!s(t)&&(e.axisPointer.link=[t])}}),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,function(e,t){e.getComponent("axisPointer").coordSysAxesInfo=hv(e,t)}),e.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},b9)}vp=function(e){o(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.type="tooltip",t.dependencies=["axisPointer"],t.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},t}(p);function xp(e){var t=e.get("confine");return t!=null?!!t:e.get("renderMode")==="richText"}function Ep(e){if(!l.domSupported)return;for(var n=document.documentElement.style,t=0,s=e.length;t<s;t++)if(e[t]in n)return e[t]}dc=Ep(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),_2=Ep(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);function Mp(e,t){if(!e)return t;t=C1(t,!0);var n=e.indexOf(t);return e=n===-1?t:"-"+e.slice(0,n)+"-"+t,e.toLowerCase()}function L9(e,t){var n=e.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(e);return n?t?n[t]:n:null}kp=Mp(_2,"transition"),Tr=Mp(dc,"transform"),G6="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(l.transform3dSupported?"will-change:transform;":"");function I9(e){return e=e==="left"?"right":e==="right"?"left":e==="top"?"bottom":"top",e}function B9(e,t,n){if(!i(n)||n==="inside")return"";var o,a,r,c,l,d,u,h,m,f,p,g=e.get("backgroundColor"),s=e.get("borderWidth");return t=Xs(t),o=I9(n),c=Math.max(Math.round(s)*1.5,6),a="",l=Tr+":",_(["left","right"],o)>-1?(a+="top:50%",l+="translateY(-50%) rotate("+(d=o==="left"?-225:-45)+"deg)"):(a+="left:50%",l+="translateX(-50%) rotate("+(d=o==="top"?225:45)+"deg)"),u=d*Math.PI/180,r=c+s,h=r*Math.abs(Math.cos(u))+r*Math.abs(Math.sin(u)),f=Math.round(((h-Math.SQRT2*s)/2+Math.SQRT2*s-(h-r)/2)*100)/100,a+=";"+o+":-"+f+"px",m=t+" solid "+s+"px;",p=["position:absolute;width:"+c+"px;height:"+c+"px;",a+";"+l+";","border-bottom:"+m,"border-right:"+m,"background-color:"+g+";"],'<div style="'+p.join("")+'"></div>'}function V9(e,t){var s="cubic-bezier(0.23,1,0.32,1)",n=" "+e/2+"s "+s,o="opacity"+n+",visibility"+n;return t||(n=" "+e+"s "+s,o+=l.transformSupported?","+Tr+n:",left"+n+",top"+n),kp+":"+o}function z6(e,t,n){var i,a,s=e.toFixed(0)+"px",o=t.toFixed(0)+"px";return l.transformSupported?(i=l.transform3dSupported,a="translate"+(i?"3d":"")+"("+s+","+o+(i?",0":"")+")",n?"top:0;left:0;"+Tr+":"+a+";":[["top",0],["left",0],[dc,a]]):n?"top:"+o+";left:"+s+";":[["top",o],["left",s]]}function W9(e){var s,o,r,c,n=[],i=e.get("fontSize"),a=e.getTextColor();return a&&n.push("color:"+a),n.push("font:"+e.getFont()),i&&n.push("line-height:"+Math.round(i*3/2)+"px"),s=e.get("textShadowColor"),o=e.get("textShadowBlur")||0,r=e.get("textShadowOffsetX")||0,c=e.get("textShadowOffsetY")||0,s&&o&&n.push("text-shadow:"+r+"px "+c+"px "+o+"px "+s),t(["decoration","align"],function(t){var s=e.get(t);s&&n.push("text-"+t+":"+s)}),n.join(";")}function U9(e,n,s){var o=[],i=e.get("transitionDuration"),a=e.get("backgroundColor"),c=e.get("shadowBlur"),l=e.get("shadowColor"),d=e.get("shadowOffsetX"),u=e.get("shadowOffsetY"),h=e.getModel("textStyle"),r=Th(e,"html"),m=d+"px "+u+"px "+c+"px "+l;return o.push("box-shadow:"+m),n&&i&&o.push(V9(i,s)),a&&o.push("background-color:"+a),t(["width","color","radius"],function(t){var n="border-"+t,i=C1(n),s=e.get(i);s!=null&&o.push(n+":"+s+(t==="color"?"":"px"))}),o.push(W9(h)),r!=null&&o.push("padding:"+Vs(r).join("px ")+"px"),o.join(";")+";"}function M6(e,t,n,s,o){var a,r,i=t&&t.painter;n?(r=i&&i.getViewportRoot(),r&&Oj(e,r,document.body,s,o)):(e[0]=s,e[1]=o,a=i&&i.getViewportRootOffset(),a&&(e[0]+=a.offsetLeft,e[1]+=a.offsetTop)),e[2]=e[0]/t.getWidth(),e[3]=e[1]/t.getHeight()}Qf=function(){function e(e,t,n){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._firstShow=!0,this._longHide=!0,l.wxa)return null;var s,i,a,o=document.createElement("div");o.domBelongToZr=!0,this.el=o,i=this._zr=t.getZr(),a=this._appendToBody=n&&n.appendToBody,M6(this._styleCoord,i,a,t.getWidth()/2,t.getHeight()/2),a?document.body.appendChild(o):e.appendChild(o),this._container=e,s=this,o.onmouseenter=function(){s._enterable&&(clearTimeout(s._hideTimeout),s._show=!0),s._inContent=!0},o.onmousemove=function(e){if(e=e||window.event,!s._enterable){var t=i.handler,n=i.painter.getViewportRoot();ze(n,e,!0),t.dispatch("mousemove",e)}},o.onmouseleave=function(){s._inContent=!1,s._enterable&&s._show&&s.hideLater(s._hideDelay)}}return e.prototype.update=function(e){var s,t=this._container,o=L9(t,"position"),n=t.style;n.position!=="absolute"&&o!=="absolute"&&(n.position="relative"),s=e.get("alwaysShowContent"),s&&this._moveIfResized(),this.el.className=e.get("className")||""},e.prototype.show=function(e,t){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var n=this.el,s=n.style,o=this._styleCoord;n.innerHTML?s.cssText=G6+U9(e,!this._firstShow,this._longHide)+z6(o[0],o[1],!0)+("border-color:"+Xs(t)+";")+(e.get("extraCssText")||"")+(";pointer-events:"+(this._enterable?"auto":"none")):s.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},e.prototype.setContent=function(e,t,n,o,a){var c,l,d,r=this.el;if(e==null){r.innerHTML="";return}if(l="",i(a)&&n.get("trigger")==="item"&&!xp(n)&&(l=B9(n,o,a)),i(e))r.innerHTML=e+l;else if(e){r.innerHTML="",s(e)||(e=[e]);for(c=0;c<e.length;c++)Fs(e[c])&&e[c].parentNode!==r&&r.appendChild(e[c]);l&&r.childNodes.length&&(d=document.createElement("div"),d.innerHTML=l,r.appendChild(d))}},e.prototype.setEnterable=function(e){this._enterable=e},e.prototype.getSize=function(){var e=this.el;return[e.offsetWidth,e.offsetHeight]},e.prototype.moveTo=function(e,n){var o,i,s=this._styleCoord;M6(s,this._zr,this._appendToBody,e,n),s[0]!=null&&s[1]!=null&&(o=this.el.style,i=z6(s[0],s[1]),t(i,function(e){o[e[0]]=e[1]}))},e.prototype._moveIfResized=function(){var e=this._styleCoord[2],t=this._styleCoord[3];this.moveTo(e*this._zr.getWidth(),t*this._zr.getHeight())},e.prototype.hide=function(){var t=this,e=this.el.style;e.visibility="hidden",e.opacity="0",l.transform3dSupported&&(e.willChange=""),this._show=!1,this._longHideTimeout=setTimeout(function(){return t._longHide=!0},500)},e.prototype.hideLater=function(e){this._show&&!(this._inContent&&this._enterable)&&(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(f(this.hide,this),e)):this.hide())},e.prototype.isShow=function(){return this._show},e.prototype.dispose=function(){this.el.parentNode.removeChild(this.el)},e}(),Gf=function(){function e(e){this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._zr=e.getZr(),I8(this._styleCoord,this._zr,e.getWidth()/2,e.getHeight()/2)}return e.prototype.update=function(e){var t=e.get("alwaysShowContent");t&&this._moveIfResized()},e.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},e.prototype.setContent=function(e,n,s,o){var r,c,l=this;a(e)&&g("Passing DOM nodes as content is not supported in richText tooltip!"),this.el&&this._zr.remove(this.el),c=s.getModel("textStyle"),this.el=new A({style:{rich:n.richTextStyles,text:e,lineHeight:22,borderWidth:1,borderColor:o,textShadowColor:c.get("textShadowColor"),fill:s.get(["textStyle","color"]),padding:Th(s,"richText"),verticalAlign:"top",align:"left"},z:s.get("z")}),t(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],function(e){l.el.style[e]=s.get(e)}),t(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],function(e){l.el.style[e]=c.get(e)||0}),this._zr.add(this.el),r=this,this.el.on("mouseover",function(){r._enterable&&(clearTimeout(r._hideTimeout),r._show=!0),r._inContent=!0}),this.el.on("mouseout",function(){r._enterable&&r._show&&r.hideLater(r._hideDelay),r._inContent=!1})},e.prototype.setEnterable=function(e){this._enterable=e},e.prototype.getSize=function(){var n=this.el,t=this.el.getBoundingRect(),e=B8(n.style);return[t.width+e.left+e.right,t.height+e.top+e.bottom]},e.prototype.moveTo=function(e,t){var s,o,i,a,n=this.el;n&&(s=this._styleCoord,I8(s,this._zr,e,t),e=s[0],t=s[1],o=n.style,i=cn(o.borderWidth||0),a=B8(o),n.x=e+i+a.left,n.y=t+i+a.top,n.markRedraw())},e.prototype._moveIfResized=function(){var e=this._styleCoord[2],t=this._styleCoord[3];this.moveTo(e*this._zr.getWidth(),t*this._zr.getHeight())},e.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},e.prototype.hideLater=function(e){this._show&&!(this._inContent&&this._enterable)&&(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(f(this.hide,this),e)):this.hide())},e.prototype.isShow=function(){return this._show},e.prototype.dispose=function(){this._zr.remove(this.el)},e}();function cn(e){return Math.max(0,e)}function B8(e){var t=cn(e.shadowBlur||0),n=cn(e.shadowOffsetX||0),s=cn(e.shadowOffsetY||0);return{left:cn(t-n),right:cn(t+n),top:cn(t-s),bottom:cn(t+s)}}function I8(e,t,n,s){e[0]=n,e[1]=s,e[2]=e[0]/t.getWidth(),e[3]=e[1]/t.getHeight()}z8=new T({shape:{x:-1,y:-1,width:2,height:2}}),A8=function(e){o(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type=r.type,t}return r.prototype.init=function(e,t){if(l.node||!t.getDom())return;var n=e.getComponent("tooltip"),s=this._renderMode=cb(n.get("renderMode"));this._tooltipContent=s==="richText"?new Gf(t):new Qf(t.getDom(),t,{appendToBody:n.get("appendToBody",!0)})},r.prototype.render=function(e,t,n){if(l.node||!n.getDom())return;this.group.removeAll(),this._tooltipModel=e,this._ecModel=t,this._api=n,this._alwaysShowContent=e.get("alwaysShowContent");var s=this._tooltipContent;s.update(e),s.setEnterable(e.get("enterable")),this._initGlobalListener(),this._keepShow(),this._renderMode!=="richText"&&e.get("transitionDuration")?cm(this,"_updatePosition",50,"fixRate"):dd(this,"_updatePosition")},r.prototype._initGlobalListener=function(){var t=this._tooltipModel,e=t.get("triggerOn");f6("itemTooltip",this._api,f(function(t,n,s){e!=="none"&&(e.indexOf(t)>=0?this._tryShow(n,s):t==="leave"&&this._hide(s))},this))},r.prototype._keepShow=function(){var e,t=this._tooltipModel,s=this._ecModel,n=this._api;this._lastX!=null&&this._lastY!=null&&t.get("triggerOn")!=="none"&&(e=this,clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!n.isDisposed()&&e.manuallyShowTip(t,s,n,{x:e._lastX,y:e._lastY,dataByCoordSys:e._lastDataByCoordSys})}))},r.prototype.manuallyShowTip=function(e,t,n,s){if(s.from===this.uid||l.node||!n.getDom())return;var o,i,r,c,d,u,h,a=rm(s,n);if(this._ticket="",d=s.dataByCoordSys,r=ab(s,t,n),r)o=r.el.getBoundingRect().clone(),o.applyTransform(r.el.transform),this._tryShow({offsetX:o.x+o.width/2,offsetY:o.y+o.height/2,target:r.el,position:s.position,positionDefault:"bottom"},a);else if(s.tooltip&&s.x!=null&&s.y!=null)i=z8,i.x=s.x,i.y=s.y,i.update(),y(i).tooltipConfig={name:null,option:s.tooltip},this._tryShow({offsetX:s.x,offsetY:s.y,target:i},a);else if(d)this._tryShow({offsetX:s.x,offsetY:s.y,position:s.position,dataByCoordSys:d,tooltipOption:s.tooltipOption},a);else if(s.seriesIndex!=null){if(this._manuallyAxisShowTip(e,t,n,s))return;c=$6(s,t),u=c.point[0],h=c.point[1],u!=null&&h!=null&&this._tryShow({offsetX:u,offsetY:h,target:c.el,position:s.position,positionDefault:"bottom"},a)}else s.x!=null&&s.y!=null&&(n.dispatchAction({type:"updateAxisPointer",x:s.x,y:s.y}),this._tryShow({offsetX:s.x,offsetY:s.y,position:s.position,target:n.getZr().findHover(s.x,s.y).target},a))},r.prototype.manuallyHideTip=function(e,t,n,s){var o=this._tooltipContent;!this._alwaysShowContent&&this._tooltipModel&&o.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,s.from!==this.uid&&this._hide(rm(s,n))},r.prototype._manuallyAxisShowTip=function(e,t,n,s){var o,r,c,i=s.seriesIndex,a=s.dataIndex,l=t.getComponent("axisPointer").coordSysAxesInfo;if(i==null||a==null||l==null)return;if(o=t.getSeriesByIndex(i),!o)return;if(r=o.getData(),c=to([r.getItemModel(a),o,(o.coordinateSystem||{}).model],this._tooltipModel),c.get("trigger")!=="axis")return;return n.dispatchAction({type:"updateAxisPointer",seriesIndex:i,dataIndex:a,position:s.position}),!0},r.prototype._tryShow=function(e,t){var n,s,o,i=e.target,a=this._tooltipModel;if(!a)return;this._lastX=e.offsetX,this._lastY=e.offsetY,n=e.dataByCoordSys,n&&n.length?this._showAxisTooltip(n,e):i?(this._lastDataByCoordSys=null,Oi(i,function(e){if(y(e).dataIndex!=null)return s=e,!0;if(y(e).tooltipConfig!=null)return o=e,!0},!0),s?this._showSeriesItemTooltip(e,s,t):o?this._showComponentItemTooltip(e,o,t):this._hide(t)):(this._lastDataByCoordSys=null,this._hide(t))},r.prototype._showOrMove=function(e,t){var n=e.get("showDelay");t=f(t,this),clearTimeout(this._showTimout),n>0?this._showTimout=setTimeout(t,n):t()},r.prototype._showAxisTooltip=function(e,s){var h,m,p,g,v,c=this._ecModel,f=this._tooltipModel,r=[s.offsetX,s.offsetY],o=to([s.tooltipOption],f),d=this._renderMode,i=[],l=Oo("section",{blocks:[],noHeader:!0}),a=[],u=new Aa;t(e,function(e){t(e.dataByAxis,function(e){var s,h,o=c.getComponent(e.axisDim+"Axis",e.axisIndex),r=e.value;if(!o||r==null)return;s=Hm(r,o.axis,c,e.seriesDataIndices,e.valueLabelOpt),h=Oo("section",{header:s,noHeader:!Xe(s),sortBlocks:!0,blocks:[]}),l.blocks.push(h),t(e.seriesDataIndices,function(t){var m,p,v,g=c.getSeriesByIndex(t.seriesIndex),b=t.dataIndexInside,l=g.getDataParams(b);if(l.dataIndex<0)return;l.axisDim=e.axisDim,l.axisIndex=e.axisIndex,l.axisType=e.axisType,l.axisId=e.axisId,l.axisValue=Wl(o.axis,{value:r}),l.axisValueLabel=s,l.marker=u.makeTooltipMarker("item",Xs(l.color),d),m=S3(g.formatTooltip(b,!0,null)),p=m.frag,p&&(v=to([g],f).get("valueFormatter"),h.blocks.push(v?n({valueFormatter:v},p):p)),m.text&&a.push(m.text),i.push(l)})})}),l.blocks.reverse(),a.reverse(),h=s.position,p=o.get("order"),m=xh(l,u,d,p,c.get("useUTC"),o.get("textStyle")),m&&a.unshift(m),g=d==="richText"?`

`:"<br/>",v=a.join(g),this._showOrMove(o,function(){this._updateContentNotChangedOnAxis(e,i)?this._updatePosition(o,h,r[0],r[1],this._tooltipContent,i):this._showTooltipContent(o,v,i,Math.random()+"",r[0],r[1],h,null,u)})},r.prototype._showSeriesItemTooltip=function(e,t,s){var r,l,d,u,m,p,_,O,g=this._ecModel,c=y(t),j=c.seriesIndex,f=g.getSeriesByIndex(j),a=c.dataModel||f,i=c.dataIndex,h=c.dataType,v=a.getData(h),x=this._renderMode,w=e.positionDefault,o=to([v.getItemModel(i),a,f&&(f.coordinateSystem||{}).model],this._tooltipModel,w?{position:w}:null),b=o.get("trigger");if(b!=null&&b!=="item")return;d=a.getDataParams(i,h),l=new Aa,d.marker=l.makeTooltipMarker("item",Xs(d.color),x),m=S3(a.formatTooltip(i,!1,h)),_=o.get("order"),u=o.get("valueFormatter"),r=m.frag,O=r?xh(u?n({valueFormatter:u},r):r,l,x,_,g.get("useUTC"),o.get("textStyle")):m.text,p="item_"+a.name+"_"+i,this._showOrMove(o,function(){this._showTooltipContent(o,O,d,p,e.offsetX,e.offsetY,e.position,e.target,l)}),s({type:"showTip",dataIndexInside:i,dataIndex:v.getRawIndex(i),seriesIndex:j,from:this.uid})},r.prototype._showComponentItemTooltip=function(e,t,n){var o,a,l,d,u,h,m,f,r=y(t),p=r.tooltipConfig,s=p.option||{};i(s)&&(l=s,s={content:l,formatter:l}),a=[s],d=this._ecModel.getComponent(r.componentMainType,r.componentIndex),d&&a.push(d),a.push({formatter:s.content}),u=e.positionDefault,o=to(a,this._tooltipModel,u?{position:u}:null),h=o.get("content"),m=Math.random()+"",f=new Aa,this._showOrMove(o,function(){var n=c(o.get("formatterParams")||{});this._showTooltipContent(o,h,n,m,e.offsetX,e.offsetY,e.position,t,f)}),n({type:"showTip",from:this.uid})},r.prototype._showTooltipContent=function(e,t,n,o,a,r,c,l,u){if(this._ticket="",!e.get("showContent")||!e.get("show"))return;var h,g,v,b,j,y,_,p=this._tooltipContent,m=e.get("formatter");c=c||e.get("position"),h=t,b=this._getNearestPoint([a,r],n,e.get("trigger"),e.get("borderColor")),v=b.color,m&&(i(m)?(j=e.ecModel.get("useUTC"),g=s(n)?n[0]:n,y=g&&g.axisType&&g.axisType.indexOf("time")>=0,h=m,y&&(h=Ao(g.axisValue,h,j)),h=b1(h,n,!0)):d(m)?(_=f(function(t,s){t===this._ticket&&(p.setContent(s,u,e,v,c),this._updatePosition(e,c,a,r,p,n,l))},this),this._ticket=o,h=m(n,o,_)):h=m),p.setContent(h,u,e,v,c),p.show(e,v),this._updatePosition(e,c,a,r,p,n,l)},r.prototype._getNearestPoint=function(e,t,n,o){if(n==="axis"||s(t))return{color:o||(this._renderMode==="html"?"#fff":"none")};if(!s(t))return{color:o||t.color||t.borderColor}},r.prototype._updatePosition=function(e,t,n,o,r,c,l){var u,h,m,f,v,b,j,p=this._api.getWidth(),g=this._api.getHeight();t=t||e.get("position"),u=r.getSize(),m=e.get("align"),f=e.get("verticalAlign"),v=l&&l.getBoundingRect().clone(),l&&v.applyTransform(l.transform),d(t)&&(t=t([n,o],c,r.el,v,{viewSize:[p,g],contentSize:u.slice()})),s(t)?(n=L(t[0],p),o=L(t[1],g)):a(t)?(b=t,b.width=u[0],b.height=u[1],j=Us(b,{width:p,height:g}),n=j.x,o=j.y,m=null,f=null):i(t)&&l?(h=ob(t,v,u,e.get("borderWidth")),n=h[0],o=h[1]):(h=nb(n,o,r,p,g,m?null:20,f?null:20),n=h[0],o=h[1]),m&&(n-=Yh(m)?u[0]/2:m==="right"?u[0]:0),f&&(o-=Yh(f)?u[1]/2:f==="bottom"?u[1]:0),xp(e)&&(h=sb(n,o,r,p,g),n=h[0],o=h[1]),r.moveTo(n,o)},r.prototype._updateContentNotChangedOnAxis=function(e,n){var o=this._lastDataByCoordSys,i=this._cbParamsList,s=!!o&&o.length===e.length;return s&&t(o,function(o,a){var r=o.dataByAxis||[],l=e[a]||{},c=l.dataByAxis||[];s=s&&r.length===c.length,s&&t(r,function(e,o){var a=c[o]||{},r=e.seriesDataIndices||[],l=a.seriesDataIndices||[];s=s&&e.value===a.value&&e.axisType===a.axisType&&e.axisId===a.axisId&&r.length===l.length,s&&t(r,function(e,t){var n=l[t];s=s&&e.seriesIndex===n.seriesIndex&&e.dataIndex===n.dataIndex}),i&&t(e.seriesDataIndices,function(e){var t=e.seriesIndex,o=n[t],a=i[t];o&&a&&a.data!==o.data&&(s=!1)})})}),this._lastDataByCoordSys=e,this._cbParamsList=n,!!s},r.prototype._hide=function(e){this._lastDataByCoordSys=null,e({type:"hideTip",from:this.uid})},r.prototype.dispose=function(e,t){if(l.node||!t.getDom())return;dd(this,"_updatePosition"),this._tooltipContent.dispose(),Tc("itemTooltip",t)},r.type="tooltip",r}($);function to(e,t,n){var s,o,r,a=t.ecModel;n?(o=new C(n,a,a),o=new C(t.option,o,a)):o=t;for(r=e.length-1;r>=0;r--)s=e[r],s&&(s instanceof C&&(s=s.get("tooltip",!0)),i(s)&&(s={formatter:s}),s&&(o=new C(s,o,a)));return o}function rm(e,t){return e.dispatchAction||f(t.dispatchAction,t)}function nb(e,t,n,s,o,i,a){var r=n.getSize(),c=r[0],l=r[1];return i!=null&&(e+c+i+2>s?e-=c+i:e+=i),a!=null&&(t+l+a>o?t-=l+a:t+=a),[e,t]}function sb(e,t,n,s,o){var i=n.getSize(),a=i[0],r=i[1];return e=Math.min(e+a,s)-a,t=Math.min(t+r,o)-r,e=Math.max(e,0),t=Math.max(t,0),[e,t]}function ob(e,t,n,s){var a=n[0],r=n[1],c=Math.ceil(Math.SQRT2*s)+8,o=0,i=0,l=t.width,d=t.height;switch(e){case"inside":o=t.x+l/2-a/2,i=t.y+d/2-r/2;break;case"top":o=t.x+l/2-a/2,i=t.y-r-c;break;case"bottom":o=t.x+l/2-a/2,i=t.y+d+c;break;case"left":o=t.x-a-c,i=t.y+d/2-r/2;break;case"right":o=t.x+l+c,i=t.y+d/2-r/2}return[o,i]}function Yh(e){return e==="center"||e==="middle"}function ab(e,t,n){var o,i,r,c,a=Td(e).queryOptionMap,s=a.keys()[0];if(!s||s==="series")return;if(r=vo(t,s,a.get(s),{useDefault:!1,enableAll:!1,enableNone:!1}),o=r.models[0],!o)return;if(c=n.getViewOfComponentModel(o),c.group.traverse(function(t){var n=y(t).tooltipConfig;if(n&&n.name===e.name)return i=t,!0}),i)return{componentMainType:s,componentIndex:o.componentIndex,el:i}}function rb(e){J(S9),e.registerComponentModel(vp),e.registerComponentView(A8),e.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},G),e.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},G)}J(rb),Cd={get:function(e,t,n){var o=c((Dh[e]||{})[t]);return n&&s(o)?o[o.length-1]:o}},Dh={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}},Ms=t,Z3=a,Vo=-1,H=function(){function e(t){var o,s=t.mappingMethod,i=t.type,n=this.option=c(t);this.type=i,this.mappingMethod=s,this._normalizeData=V0[s],o=e.visualHandlers[i],this.applyVisual=o.applyVisual,this.getColorMapper=o.getColorMapper,this._normalizedToVisual=o._normalizedToVisual[s],s==="piecewise"?(eu(n),fb(n)):s==="category"?n.categories?pb(n):eu(n,!0):(u(s!=="linear"||n.dataExtent),eu(n))}return e.prototype.mapValueToVisual=function(e){var t=this._normalizeData(e);return this._normalizedToVisual(t,e)},e.prototype.getNormalizer=function(){return f(this._normalizeData,this)},e.listVisualTypes=function(){return k(e.visualHandlers)},e.isValidType=function(t){return e.visualHandlers.hasOwnProperty(t)},e.eachVisual=function(e,n,s){a(e)?t(e,n,s):n.call(s,e)},e.mapVisual=function(t,n,o){var r,i=s(t)?[]:a(t)?{}:(r=!0,null);return e.eachVisual(t,function(e,t){var s=n.call(o,e,t);r?i=s:i[t]=s}),i},e.retrieveVisuals=function(t){var s,n={};return t&&Ms(e.visualHandlers,function(e,o){t.hasOwnProperty(o)&&(n[o]=t[o],s=!0)}),s?n:null},e.prepareVisualTypes=function(e){if(s(e))e=e.slice();else if(Z3(e)){var t=[];Ms(e,function(e,n){t.push(n)}),e=t}else return[];return e.sort(function(e,t){return t==="color"&&e!=="color"&&e.indexOf("color")===0?1:-1}),e},e.dependsOn=function(e,t){return t==="color"?!!(e&&e.indexOf(t)===0):e===t},e.findPieceIndex=function(e,t,n){for(var o,a,r,l,u,h=1/0,s=0,c=t.length;s<c;s++)if(a=t[s].value,a!=null){if(a===e||i(a)&&a===e+"")return s;n&&d(a,s)}for(s=0,c=t.length;s<c;s++)if(l=t[s],o=l.interval,r=l.close,o){if(o[0]===-(1/0)){if(Wi(r[1],e,o[1]))return s}else if(o[1]===1/0){if(Wi(r[0],o[0],e))return s}else if(Wi(r[0],o[0],e)&&Wi(r[1],e,o[1]))return s;n&&d(o[0],s),n&&d(o[1],s)}if(n)return e===1/0?t.length-1:e===-(1/0)?0:u;function d(t,n){var s=Math.abs(t-e);s<h&&(h=s,u=n)}},e.visualHandlers={color:{applyVisual:si("color"),getColorMapper:function(){var e=this.option;return f(e.mappingMethod==="category"?function(e,t){return!t&&(e=this._normalizeData(e)),ai.call(this,e)}:function(t,n,s){var o=!!s;return!n&&(t=this._normalizeData(t)),s=_i(t,e.parsedVisual,s),o?s:lt(s,"rgba")},this)},_normalizedToVisual:{linear:function(e){return lt(_i(e,this.option.parsedVisual),"rgba")},category:ai,piecewise:function(e,t){var n=mu.call(this,t);return n==null&&(n=lt(_i(e,this.option.parsedVisual),"rgba")),n},fixed:Cn}},colorHue:ga(function(e,t){return Ur(e,t)}),colorSaturation:ga(function(e,t){return Ur(e,null,t)}),colorLightness:ga(function(e,t){return Ur(e,null,null,t)}),colorAlpha:ga(function(e,t){return Z0(e,t)}),decal:{applyVisual:si("decal"),_normalizedToVisual:{linear:null,category:ai,piecewise:null,fixed:null}},opacity:{applyVisual:si("opacity"),_normalizedToVisual:ou([0,1])},liftZ:{applyVisual:si("liftZ"),_normalizedToVisual:{linear:Cn,category:Cn,piecewise:Cn,fixed:Cn}},symbol:{applyVisual:function(e,t,n){var s=this.mapValueToVisual(e);n("symbol",s)},_normalizedToVisual:{linear:w3,category:ai,piecewise:function(e,t){var n=mu.call(this,t);return n==null&&(n=w3.call(this,e)),n},fixed:Cn}},symbolSize:{applyVisual:si("symbolSize"),_normalizedToVisual:ou([0,1])}},e}();function fb(e){var n=e.pieceList;e.hasSpecialVisual=!1,t(n,function(t,n){t.originIndex=n,t.visual!=null&&(e.hasSpecialVisual=!0)})}function pb(e){var n,i,o=e.categories,r=e.categoryMap={},t=e.visual;Ms(o,function(e,t){r[e]=t}),s(t)||(i=[],a(t)?Ms(t,function(e,t){var n=r[t];i[n??Vo]=e}):i[Vo]=t,t=l2(e,i));for(n=o.length-1;n>=0;n--)t[n]==null&&(delete r[o[n]],o.pop())}function eu(e,t){var o,s=e.visual,n=[];a(s)?Ms(s,function(e){n.push(e)}):s!=null&&n.push(s),o={color:1,symbol:1},!t&&n.length===1&&!o.hasOwnProperty(e.type)&&(n[1]=n[0]),l2(e,n)}function ga(e){return{applyVisual:function(t,n,s){var o=this.mapValueToVisual(t);s("color",e(n("color"),o))},_normalizedToVisual:ou([0,1])}}function w3(e){var t=this.option.visual;return t[Math.round(ct(e,[0,1],[0,t.length-1],!0))]||{}}function si(e){return function(t,n,s){s(e,this.mapValueToVisual(t))}}function ai(e){var t=this.option.visual;return t[this.option.loop&&e!==Vo?e%t.length:e]}function Cn(){return this.option.visual[0]}function ou(e){return{linear:function(t){return ct(t,e,this.option.visual,!0)},category:ai,piecewise:function(t,n){var s=mu.call(this,n);return s==null&&(s=ct(t,e,this.option.visual,!0)),s},fixed:Cn}}function mu(e){var t,o,n=this.option,s=n.pieceList;if(n.hasSpecialVisual&&(o=H.findPieceIndex(e,s),t=s[o],t&&t.visual))return t.visual[this.type]}function l2(e,t){return e.visual=t,e.type==="color"&&(e.parsedVisual=r(t,function(e){return ge(e)})),t}V0={linear:function(e){return ct(e,this.option.dataExtent,[0,1],!0)},piecewise:function(e){var t=this.option.pieceList,n=H.findPieceIndex(e,t,!0);if(n!=null)return ct(n,[0,t.length-1],[0,1],!0)},category:function(e){var t=this.option.categories?this.option.categoryMap[e]:e;return t??Vo},fixed:G};function Wi(e,t,n){return e?t<=n:t<n}n1=t;function M4(e){if(e)for(var t in e)if(e.hasOwnProperty(t))return!0}function y4(e,t,n){var s={};return n1(t,function(t){var i=s[t]=o();n1(e[t],function(e,s){if(!H.isValidType(s))return;var o={type:s,visual:e};n&&n(o,t),i[s]=new H(o),s==="opacity"&&(o=c(o),o.type="colorAlpha",i.__hidden.__alphaForOpacity=new H(o))})}),s;function o(){var t,e=function(){};return e.prototype.__hidden=e.prototype,t=new e,t}}function Mb(e,n,s){var o;t(s,function(e){n.hasOwnProperty(e)&&M4(n[e])&&(o=!0)}),o&&t(s,function(t){n.hasOwnProperty(t)&&M4(n[t])?e[t]=c(n[t]):delete e[t]})}function Fb(e,n,s,o){var i={};return t(e,function(e){var t=H.prepareVisualTypes(n[e]);i[e]=t}),{progress:function(t,a){o!=null&&(g=a.getDimensionIndex(o));function b(e){return Ym(a,r,e)}function v(e,t){qg(a,r,e,t)}for(p=a.getStore();(r=t.next())!=null;){if(l=a.getRawDataItem(r),l&&l.visualMap===!1)continue;for(var r,l,f,p,g,c=o!=null?p.get(g,r):r,d=s(c),u=n[d],h=i[d],m=0,j=h.length;m<j;m++)f=h[m],u[f]&&u[f].applyVisual(c,b,v)}}}}K1=H.mapVisual,s4=H.eachVisual,l4=s,Q1=t,h4=Zu,m4=ct,ni=function(e){o(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.type=n.type,t.stateList=["inRange","outOfRange"],t.replacableOptionKeys=["inRange","outOfRange","target","controller","color"],t.layoutMode={type:"box",ignoreSize:!0},t.dataBound=[-(1/0),1/0],t.targetVisuals={},t.controllerVisuals={},t}return n.prototype.init=function(e,t,n){this.mergeDefaultAndTheme(e,n)},n.prototype.optionUpdated=function(e,t){var n=this.option;!t&&Mb(n,e,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},n.prototype.resetVisual=function(e){var t=this.stateList;e=f(e,this),this.controllerVisuals=y4(this.option.controller,t,e),this.targetVisuals=y4(this.option.target,t,e)},n.prototype.getItemSymbol=function(){return null},n.prototype.getTargetSeriesIndices=function(){var e=this.option.seriesIndex,t=[];return e==null||e==="all"?this.ecModel.eachSeries(function(e,n){t.push(n)}):t=N(e),t},n.prototype.eachTargetSeries=function(e,n){t(this.getTargetSeriesIndices(),function(t){var s=this.ecModel.getSeriesByIndex(t);s&&e.call(n,s)},this)},n.prototype.isTargetSeries=function(e){var t=!1;return this.eachTargetSeries(function(n){n===e&&(t=!0)}),t},n.prototype.formatValueText=function(e,t,n){var o,a,u=this.option,h=u.precision,c=this.dataBound,r=u.formatter;return n=n||["<",">"],s(e)&&(e=e.slice(),a=!0),o=t?e:a?[l(e[0]),l(e[1])]:l(e),i(r)?r.replace("{value}",a?o[0]:o).replace("{value2}",a?o[1]:o):d(r)?a?r(e[0],e[1]):r(e):a?e[0]===c[0]?n[0]+" "+o[1]:e[1]===c[1]?n[1]+" "+o[0]:o[0]+" - "+o[1]:o;function l(e){return e===c[0]?"min":e===c[1]?"max":(+e).toFixed(Math.min(h,20))}},n.prototype.resetExtent=function(){var e=this.option,t=h4([e.min,e.max]);this._dataExtent=t},n.prototype.getDataDimensionIndex=function(e){var t,n,s,i,o=this.option.dimension;if(o!=null)return e.getDimensionIndex(o);for(n=e.dimensions,t=n.length-1;t>=0;t--)if(i=n[t],s=e.getDimensionInfo(i),!s.isCalculationCoord)return s.storeDimIndex},n.prototype.getExtent=function(){return this._dataExtent.slice()},n.prototype.completeVisualOption=function(){var t,a=this.ecModel,e=this.option,o={inRange:e.inRange,outOfRange:e.outOfRange},n=e.target||(e.target={}),s=e.controller||(e.controller={});w(n,o),w(s,o),t=this.isCategory(),i.call(this,n),i.call(this,s),r.call(this,n,"inRange","outOfRange"),l.call(this,s);function i(t){l4(e.color)&&!t.inRange&&(t.inRange={color:e.color.slice().reverse()}),t.inRange=t.inRange||{color:a.get("gradientColor")}}function r(e,n,s){var i=e[n],o=e[s];i&&!o&&(o=e[s]={},Q1(i,function(e,n){if(!H.isValidType(n))return;var s=Cd.get(n,"inactive",t);s!=null&&(o[n]=s,n==="color"&&!o.hasOwnProperty("opacity")&&!o.hasOwnProperty("colorAlpha")&&(o.opacity=[0,0]))}))}function l(e){var s=(e.inRange||{}).symbol||(e.outOfRange||{}).symbol,o=(e.inRange||{}).symbolSize||(e.outOfRange||{}).symbolSize,i=this.get("inactiveColor"),a=this.getItemSymbol(),n=a||"roundRect";Q1(this.stateList,function(a){var d,u,l=this.itemSize,r=e[a];r||(r=e[a]={color:t?i:[i]}),r.symbol==null&&(r.symbol=s&&c(s)||(t?n:[n])),r.symbolSize==null&&(r.symbolSize=o&&c(o)||(t?l[0]:[l[0],l[0]])),r.symbol=K1(r.symbol,function(e){return e==="none"?n:e}),d=r.symbolSize,d!=null&&(u=-(1/0),s4(d,function(e){e>u&&(u=e)}),r.symbolSize=K1(d,function(e){return m4(e,[0,u],[0,l[0]],!0)}))},this)}},n.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},n.prototype.isCategory=function(){return!!this.option.categories},n.prototype.setSelected=function(){},n.prototype.getSelected=function(){return null},n.prototype.getValueState=function(){return null},n.prototype.getVisualMeta=function(){return null},n.type="visualMap",n.dependencies=["series"],n.defaultOption={show:!0,z:4,seriesIndex:"all",min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,textStyle:{color:"#333"}},n}(p),z1=[20,140],B4=function(e){o(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.type=n.type,t}return n.prototype.optionUpdated=function(){e.prototype.optionUpdated.apply(this,arguments),this.resetExtent(),this.resetVisual(function(e){e.mappingMethod="linear",e.dataExtent=this.getExtent()}),this._resetRange()},n.prototype.resetItemSize=function(){e.prototype.resetItemSize.apply(this,arguments);var t=this.itemSize;(t[0]==null||isNaN(t[0]))&&(t[0]=z1[0]),(t[1]==null||isNaN(t[1]))&&(t[1]=z1[1])},n.prototype._resetRange=function(){var t=this.getExtent(),e=this.option.range;!e||e.auto?(t.auto=1,this.option.range=t):s(e)&&(e[0]>e[1]&&e.reverse(),e[0]=Math.max(e[0],t[0]),e[1]=Math.min(e[1],t[1]))},n.prototype.completeVisualOption=function(){e.prototype.completeVisualOption.apply(this,arguments),t(this.stateList,function(e){var t=this.option.controller[e].symbolSize;t&&t[0]!==t[1]&&(t[0]=t[1]/3)},this)},n.prototype.setSelected=function(e){this.option.range=e.slice(),this._resetRange()},n.prototype.getSelected=function(){var t=this.getExtent(),e=Zu((this.get("range")||[]).slice());return e[0]>t[1]&&(e[0]=t[1]),e[1]>t[1]&&(e[1]=t[1]),e[0]<t[0]&&(e[0]=t[0]),e[1]<t[0]&&(e[1]=t[0]),e},n.prototype.getValueState=function(e){var t=this.option.range,n=this.getExtent();return(t[0]<=n[0]||t[0]<=e)&&(t[1]>=n[1]||e<=t[1])?"inRange":"outOfRange"},n.prototype.findTargetDataIndices=function(e){var t=[];return this.eachTargetSeries(function(n){var s=[],o=n.getData();o.each(this.getDataDimensionIndex(o),function(t,n){e[0]<=t&&t<=e[1]&&s.push(n)},this),t.push({seriesId:n.id,dataIndex:s})},this),t},n.prototype.getVisualMeta=function(e){var t,i,a,c,l,d,o=u0(this,"outOfRange",this.getExtent()),n=u0(this,"inRange",this.option.range.slice()),s=[];function r(t,n){s.push({value:t,color:e(t,n)})}for(i=0,t=0,d=n.length,l=o.length;t<l&&(!n.length||o[t]<=n[0]);t++)o[t]<n[i]&&r(o[t],"outOfRange");for(a=1;i<d;i++,a=0)a&&s.length&&r(n[i],"outOfRange"),r(n[i],"inRange");for(a=1;t<l;t++)(!n.length||n[n.length-1]<o[t])&&(a&&(s.length&&r(s[s.length-1].value,"outOfRange"),a=0),r(o[t],"outOfRange"));return c=s.length,{stops:s,outerColors:[c?s[0].color:"transparent",c?s[c-1].color:"transparent"]}},n.type="visualMap.continuous",n.defaultOption=a4(ni.defaultOption,{align:"auto",calculable:!1,hoverLink:!0,realtime:!0,handleIcon:"path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z",handleSize:"120%",handleStyle:{borderColor:"#fff",borderWidth:1},indicatorIcon:"circle",indicatorSize:"50%",indicatorStyle:{borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}}),n}(ni);function u0(e,t,n){if(n[0]===n[1])return n.slice();for(var i=200,r=(n[1]-n[0])/i,s=n[0],o=[],a=0;a<=i&&s<n[1];a++)o.push(s),s+=r;return o.push(n[1]),o}p1=function(e){o(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.type=n.type,t.autoPositionValues={left:1,right:1,top:1,bottom:1},t}return n.prototype.init=function(e,t){this.ecModel=e,this.api=t},n.prototype.render=function(e,t,n,s){if(this.visualMapModel=e,e.get("show")===!1){this.group.removeAll();return}this.doRender(e,t,n,s)},n.prototype.renderBackground=function(e){var n=this.visualMapModel,t=Vs(n.get("padding")||0),s=e.getBoundingRect();e.add(new T({z2:-1,silent:!0,shape:{x:s.x-t[3],y:s.y-t[0],width:s.width+t[3]+t[1],height:s.height+t[0]+t[2]},style:{fill:n.get("backgroundColor"),stroke:n.get("borderColor"),lineWidth:n.get("borderWidth")}}))},n.prototype.getControllerVisual=function(e,n,s){s=s||{};var i,r,c,l=s.forceState,a=this.visualMapModel,o={};n==="color"&&(r=a.get("contentColor"),o.color=r);function d(e){return o[e]}function u(e,t){o[e]=t}return i=a.controllerVisuals[l||a.getValueState(e)],c=H.prepareVisualTypes(i),t(c,function(t){var o=i[t];s.convertOpacityToAlpha&&t==="opacity"&&(t="colorAlpha",o=i.__alphaForOpacity),H.dependsOn(t,n)&&o&&o.applyVisual(e,d,u)}),o[n]},n.prototype.positionGroup=function(e){var n=this.visualMapModel,t=this.api;Pp(e,n.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})},n.prototype.doRender=function(){},n.type="visualMap",n}($);function $b(e,t,n,s,o,i){e=e||0;var a,r,c,l,d,u=n[1]-n[0];return o!=null&&(o=$s(o,[0,u])),i!=null&&(i=Math.max(i,o??0)),s==="all"&&(r=Math.abs(t[1]-t[0]),r=$s(r,[0,u]),o=i=$s(r,[o,i]),s=0),t[0]=$s(t[0],n),t[1]=$s(t[1],n),c=m1(t,s),t[s]+=e,d=o||0,l=n.slice(),c.sign<0?l[0]+=d:l[1]-=d,t[s]=$s(t[s],l),a=m1(t,s),o!=null&&(a.sign!==c.sign||a.span<o)&&(t[1-s]=t[s]+c.sign*o),a=m1(t,s),i!=null&&a.span>i&&(t[1-s]=t[s]+a.sign*i),t}function m1(e,t){var n=e[t]-e[1-t];return{span:Math.abs(n),sign:n>0?-1:n<0?1:t?-1:1}}function $s(e,t){return Math.min(t[1]!=null?t[1]:1/0,Math.max(t[0]!=null?t[0]:-(1/0),e))}Xu=[["left","right","width"],["top","bottom","height"]];function H0(e,t,n){var s,o,a,r,c,l,u,h,i=e.option,d=i.align;if(d!=null&&d!=="auto")return d;for(u={width:t.getWidth(),height:t.getHeight()},a=i.orient==="horizontal"?1:0,r=Xu[a],h=[0,null,10],c={},s=0;s<3;s++)c[Xu[1-a][s]]=h[s],c[r[s]]=s===2?n[0]:i[r[s]];return o=[["x","width",3],["y","height",0]][a],l=Us(c,u,i.padding),r[(l.margin[o[2]]||0)+l[o[0]]+l[o[1]]*.5<u[o[1]]*.5?0:1]}function Sr(e,n){return t(e||[],function(e){e.dataIndex!=null&&(e.dataIndexInside=e.dataIndex,e.dataIndex=null),e.highlightKey="visualMap"+(n?n.componentIndex:"")}),e}Ie=ct,W0=t,Uu=Math.min,$r=Math.max,i2=12,u2=6,A2=function(e){o(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n._shapes={},n._dataInterval=[],n._handleEnds=[],n._hoverLinkDataIndices=[],n}return t.prototype.doRender=function(e,t,n,s){this._api=n,(!s||s.type!=="selectDataRange"||s.from!==this.uid)&&this._buildView()},t.prototype._buildView=function(){this.group.removeAll();var n,t=this.visualMapModel,e=this.group;this._orient=t.get("orient"),this._useHandle=t.get("calculable"),this._resetInterval(),this._renderBar(e),n=t.get("text"),this._renderEndsText(e,n,0),this._renderEndsText(e,n,1),this._updateView(!0),this.renderBackground(e),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(e)},t.prototype._renderEndsText=function(e,t,n){if(!t)return;var s=t[1-n],s=s!=null?s+"":"",o=this.visualMapModel,i=o.get("textGap"),a=o.itemSize,r=this._shapes.mainGroup,c=this._applyTransform([a[0]/2,n===0?-i:a[1]+i],r),l=this._applyTransform(n===0?"bottom":"top",r),d=this._orient,u=this.visualMapModel.textStyleModel;this.group.add(new A({style:{x:c[0],y:c[1],verticalAlign:d==="horizontal"?"middle":l,align:d==="horizontal"?l:"center",text:s,font:u.getFont(),fill:u.getTextColor()}}))},t.prototype._renderBar=function(e){var a,c,t=this.visualMapModel,n=this._shapes,s=t.itemSize,r=this._orient,l=this._useHandle,d=H0(t,this.api,s),o=n.mainGroup=this._createBarGroup(d),i=new Z;o.add(i),i.add(n.outOfRange=P2()),i.add(n.inRange=P2(null,l?Y2(this._orient):null,f(this._dragHandle,this,"all",!1),f(this._dragHandle,this,"all",!0))),i.setClipPath(new T({shape:{x:0,y:0,width:s[0],height:s[1],r:3}})),c=t.textStyleModel.getTextRect("国"),a=$r(c.width,c.height),l&&(n.handleThumbs=[],n.handleLabels=[],n.handleLabelPoints=[],this._createHandle(t,o,0,s,a,r),this._createHandle(t,o,1,s,a,r)),this._createIndicator(t,o,s,a,r),e.add(o)},t.prototype._createHandle=function(e,t,n,s){var c,l,d,p,u=f(this._dragHandle,this,n,!1),h=f(this._dragHandle,this,n,!0),r=Ct(e.get("handleSize"),s[0]),a=Kn(e.get("handleIcon"),-r/2,-r/2,r,r,null,!0),m=Y2(this._orient);a.attr({cursor:m,draggable:!0,drift:u,ondragend:h,onmousemove:function(e){cs(e.event)}}),a.x=s[0]/2,a.useStyle(e.getModel("handleStyle").getItemStyle()),a.setStyle({strokeNoScale:!0,strokeFirst:!0}),a.style.lineWidth*=2,a.ensureState("emphasis").style=e.getModel(["emphasis","handleStyle"]).getItemStyle(),jd(a,!0),t.add(a),d=this.visualMapModel.textStyleModel,c=new A({cursor:m,draggable:!0,drift:u,onmousemove:function(e){cs(e.event)},ondragend:h,style:{x:0,y:0,text:"",font:d.getFont(),fill:d.getTextColor()}}),c.ensureState("blur").style={opacity:.1},c.stateTransition={duration:200},this.group.add(c),p=[r,0],l=this._shapes,l.handleThumbs[n]=a,l.handleLabelPoints[n]=p,l.handleLabels[n]=c},t.prototype._createIndicator=function(e,t,s,o,i){var r,l,d,u,h,m,c=Ct(e.get("indicatorSize"),s[0]),a=Kn(e.get("indicatorIcon"),-c/2,-c/2,c,c,null,!0);a.attr({cursor:"move",invisible:!0,silent:!0,x:s[0]/2}),d=e.getModel("indicatorStyle").getItemStyle(),a instanceof Pe?(r=a.style,a.useStyle(n({image:r.image,x:r.x,y:r.y,width:r.width,height:r.height},d))):a.useStyle(d),t.add(a),u=this.visualMapModel.textStyleModel,h=new A({silent:!0,invisible:!0,style:{x:0,y:0,text:"",font:u.getFont(),fill:u.getTextColor()}}),this.group.add(h),m=[(i==="horizontal"?o/2:u2)+s[0]/2,0],l=this._shapes,l.indicator=a,l.indicatorLabel=h,l.indicatorLabelPoint=m,this._firstShowIndicator=!0},t.prototype._dragHandle=function(e,t,n,s){if(!this._useHandle)return;if(this._dragging=!t,!t){var o=this._applyTransform([n,s],this._shapes.mainGroup,!0);this._updateInterval(e,o[1]),this._hideIndicator(),this._updateView()}t===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),t?!this._hovering&&this._clearHoverLinkToSeries():W2(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[e],!1)},t.prototype._resetInterval=function(){var e=this.visualMapModel,t=this._dataInterval=e.getSelected(),n=e.getExtent(),s=[0,e.itemSize[1]];this._handleEnds=[Ie(t[0],n,s,!0),Ie(t[1],n,s,!0)]},t.prototype._updateInterval=function(e,t){t=t||0;var o,i=this.visualMapModel,n=this._handleEnds,s=[0,i.itemSize[1]];$b(t,n,s,e,0),o=i.getExtent(),this._dataInterval=[Ie(n[0],s,o,!0),Ie(n[1],s,o,!0)]},t.prototype._updateView=function(e){var s=this.visualMapModel,t=s.getExtent(),o=this._shapes,i=[0,s.itemSize[1]],a=e?i:this._handleEnds,n=this._createBarVisual(this._dataInterval,t,a,"inRange"),r=this._createBarVisual(t,t,i,"outOfRange");o.inRange.setStyle({fill:n.barColor}).setShape("points",n.barPoints),o.outOfRange.setStyle({fill:r.barColor}).setShape("points",r.barPoints),this._updateHandle(a,n)},t.prototype._createBarVisual=function(e,t,n,s){var i={forceState:s,convertOpacityToAlpha:!0},o=this._makeColorGradient(e,i),a=[this.getControllerVisual(e[0],"symbolSize",i),this.getControllerVisual(e[1],"symbolSize",i)],r=this._createBarPoints(n,a);return{barColor:new Bi(0,0,0,1,o),barPoints:r,handlesColor:[o[0].color,o[o.length-1].color]}},t.prototype._makeColorGradient=function(e,t){var n,i,o=100,s=[],a=(e[1]-e[0])/o;s.push({color:this.getControllerVisual(e[0],"color",t),offset:0});for(n=1;n<o;n++){if(i=e[0]+a*n,i>e[1])break;s.push({color:this.getControllerVisual(i,"color",t),offset:n/o})}return s.push({color:this.getControllerVisual(e[1],"color",t),offset:1}),s},t.prototype._createBarPoints=function(e,t){var n=this.visualMapModel.itemSize;return[[n[0]-t[0],e[0]],[n[0],e[0]],[n[0],e[1]],[n[0]-t[1],e[1]]]},t.prototype._createBarGroup=function(e){var t=this._orient,n=this.visualMapModel.get("inverse");return new Z(t==="horizontal"&&!n?{scaleX:e==="bottom"?1:-1,rotation:Math.PI/2}:t==="horizontal"&&n?{scaleX:e==="bottom"?-1:1,rotation:-Math.PI/2}:t==="vertical"&&!n?{scaleX:e==="left"?1:-1,scaleY:-1}:{scaleX:e==="left"?1:-1})},t.prototype._updateHandle=function(e,t){if(!this._useHandle)return;var n=this._shapes,s=this.visualMapModel,i=n.handleThumbs,a=n.handleLabels,o=s.itemSize,r=s.getExtent();W0([0,1],function(c){var d,u,h,l=i[c];l.setStyle("fill",t.handlesColor[c]),l.y=e[c],h=Ie(e[c],[0,o[1]],r,!0),d=this.getControllerVisual(h,"symbolSize"),l.scaleX=l.scaleY=d/o[0],l.x=o[0]-d/2,u=es(n.handleLabelPoints[c],yi(l,this.group)),a[c].setStyle({x:u[0],y:u[1],text:s.formatValueText(this._dataInterval[c]),verticalAlign:"middle",align:this._orient==="vertical"?this._applyTransform("left",n.mainGroup):"center"})},this)},t.prototype._showIndicator=function(e,t,n){var i,r,c,d,u,h,m,f,p,g,v,b,j,y,_,w,a=this.visualMapModel,C=a.getExtent(),O=a.itemSize,x=[0,O[1]],l=this._shapes,o=l.indicator;if(!o)return;if(o.attr("invisible",!1),j={convertOpacityToAlpha:!0},_=this.getControllerVisual(e,"color",j),w=this.getControllerVisual(e,"symbolSize"),m=Ie(e,C,x,!0),d=O[0]-w/2,p={x:o.x,y:o.y},o.y=m,o.x=d,g=es(l.indicatorLabelPoint,yi(o,this.group)),i=l.indicatorLabel,i.attr("invisible",!1),b=this._applyTransform("left",l.mainGroup),y=this._orient,u=y==="horizontal",i.setStyle({text:(n||"")+a.formatValueText(t),verticalAlign:u?b:"middle",align:u?"center":b}),v={x:d,y:m,style:{fill:_}},f={style:{x:g[0],y:g[1]}},a.ecModel.isAnimationEnabled()&&!this._firstShowIndicator?(h={duration:100,easing:"cubicInOut",additive:!0},o.x=p.x,o.y=p.y,o.animateTo(v,h),i.animateTo(f,h)):(o.attr(v),i.attr(f)),this._firstShowIndicator=!1,c=this._shapes.handleLabels,c)for(r=0;r<c.length;r++)this._api.enterBlur(c[r])},t.prototype._enableHoverLinkToSeries=function(){var e=this;this._shapes.mainGroup.on("mousemove",function(t){if(e._hovering=!0,!e._dragging){var s=e.visualMapModel.itemSize,n=e._applyTransform([t.offsetX,t.offsetY],e._shapes.mainGroup,!0,!0);n[1]=Uu($r(0,n[1]),s[1]),e._doHoverLinkToSeries(n[1],0<=n[0]&&n[0]<=s[0])}}).on("mouseout",function(){e._hovering=!1,!e._dragging&&e._clearHoverLinkToSeries()})},t.prototype._enableHoverLinkFromSeries=function(){var e=this.api.getZr();this.visualMapModel.option.hoverLink?(e.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),e.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},t.prototype._doHoverLinkToSeries=function(e,t){var n,o,i,a,r,c,l,d,u,s=this.visualMapModel,h=s.itemSize;if(!s.option.hoverLink)return;n=[0,h[1]],a=s.getExtent(),e=Uu($r(n[0],e),n[1]),i=sj(s,a,n),r=[e-i,e+i],c=Ie(e,n,a,!0),o=[Ie(r[0],n,a,!0),Ie(r[1],n,a,!0)],r[0]<n[0]&&(o[0]=-(1/0)),r[1]>n[1]&&(o[1]=1/0),t&&(o[0]===-(1/0)?this._showIndicator(c,o[1],"< ",i):o[1]===1/0?this._showIndicator(c,o[0],"> ",i):this._showIndicator(c,c,"≈ ",i)),u=this._hoverLinkDataIndices,l=[],(t||W2(s))&&(l=this._hoverLinkDataIndices=s.findTargetDataIndices(o)),d=db(u,l),this._dispatchHighDown("downplay",Sr(d[0],s)),this._dispatchHighDown("highlight",Sr(d[1],s))},t.prototype._hoverLinkFromSeriesMouseOver=function(e){var t,n,o,i,s=e.target,a=this.visualMapModel;if(!s||y(s).dataIndex==null)return;if(t=y(s),o=this.ecModel.getSeriesByIndex(t.seriesIndex),!a.isTargetSeries(o))return;i=o.getData(t.dataType),n=i.getStore().get(a.getDataDimensionIndex(i),t.dataIndex),isNaN(n)||this._showIndicator(n,n)},t.prototype._hideIndicator=function(){var t,n,e=this._shapes;if(e.indicator&&e.indicator.attr("invisible",!0),e.indicatorLabel&&e.indicatorLabel.attr("invisible",!0),t=this._shapes.handleLabels,t)for(n=0;n<t.length;n++)this._api.leaveBlur(t[n])},t.prototype._clearHoverLinkToSeries=function(){this._hideIndicator();var e=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",Sr(e,this.visualMapModel)),e.length=0},t.prototype._clearHoverLinkFromSeries=function(){this._hideIndicator();var e=this.api.getZr();e.off("mouseover",this._hoverLinkFromSeriesMouseOver),e.off("mouseout",this._hideIndicator)},t.prototype._applyTransform=function(e,t,n,o){var i=yi(t,o?null:this.group);return s(e)?es(e,i,n):v0(e,i,n)},t.prototype._dispatchHighDown=function(e,t){t&&t.length&&this.api.dispatchAction({type:e,batch:t})},t.prototype.dispose=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},t.prototype.remove=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},t.type="visualMap.continuous",t}(p1);function P2(e,t,n,s){return new Qn({shape:{points:e},draggable:!!n,cursor:t,drift:n,onmousemove:function(e){cs(e.event)},ondragend:s})}function sj(e,t,n){var s=i2/2,o=e.get("hoverLinkDataSize");return o&&(s=Ie(o,t,n,!0)/2),s}function W2(e){var t=e.get("hoverLinkOnHandle");return!!(t??e.get("realtime"))}function Y2(e){return e==="vertical"?"ns-resize":"ew-resize"}ah={type:"selectDataRange",event:"dataRangeSelected",update:"update"},bh=function(e,t){t.eachComponent({mainType:"visualMap",query:e},function(t){t.setSelected(e.selected)})},Lh=[{createOnAllSeries:!0,reset:function(e,t){var n=[];return t.eachComponent("visualMap",function(t){var s=e.pipelineContext;if(!t.isTargetSeries(e)||s&&s.large)return;n.push(Fb(t.stateList,t.targetVisuals,f(t.getValueState,t),t.getDataDimensionIndex(e.getData())))}),n}},{createOnAllSeries:!0,reset:function(e,t){var s=e.getData(),n=[];t.eachComponent("visualMap",function(t){if(t.isTargetSeries(e)){var o=t.getVisualMeta(f(lj,null,e,t))||{stops:[],outerColors:[]},i=t.getDataDimensionIndex(s);i>=0&&(o.dimension=i,n.push(o))}}),e.getData().setVisual("visualMeta",n)}}];function lj(e,t,n,s){for(var a,r,c=t.targetVisuals[s],l=H.prepareVisualTypes(c),o={color:Gm(e.getData(),"color")},i=0,d=l.length;i<d;i++)a=l[i],r=c[a==="opacity"?"__alphaForOpacity":a],r&&r.applyVisual(n,u,h);return o.color;function u(e){return o[e]}function h(e,t){o[e]=t}}yd=t;function uj(e){var t=e&&e.visualMap;s(t)||(t=t?[t]:[]),yd(t,function(e){if(!e)return;ys(e,"splitList")&&!ys(e,"pieces")&&(e.pieces=e.splitList,delete e.splitList);var t=e.pieces;t&&s(t)&&yd(t,function(e){a(e)&&(ys(e,"start")&&!ys(e,"min")&&(e.min=e.start),ys(e,"end")&&!ys(e,"max")&&(e.max=e.end))})})}function ys(e,t){return e&&e.hasOwnProperty&&e.hasOwnProperty(t)}od=!1;function Tm(e){if(od)return;od=!0,e.registerSubTypeDefaulter("visualMap",function(e){return!e.categories&&(!(e.pieces?e.pieces.length>0:e.splitNumber>0)||e.calculable)?"continuous":"piecewise"}),e.registerAction(ah,bh),t(Lh,function(t){e.registerVisual(e.PRIORITY.VISUAL.COMPONENT,t)}),e.registerPreprocessor(uj)}function pj(e){e.registerComponentModel(B4),e.registerComponentView(A2),Tm(e)}Im=function(e){o(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.type=n.type,t._pieceList=[],t}return n.prototype.optionUpdated=function(t,n){e.prototype.optionUpdated.apply(this,arguments),this.resetExtent();var s,o=this._mode=this._determineMode();this._pieceList=[],Wm[this._mode].call(this,this._pieceList),this._resetSelected(t,n),s=this.option.categories,this.resetVisual(function(e,t){o==="categories"?(e.mappingMethod="category",e.categories=c(s)):(e.dataExtent=this.getExtent(),e.mappingMethod="piecewise",e.pieceList=r(this._pieceList,function(e){return e=c(e),t!=="inRange"&&(e.visual=null),e}))})},n.prototype.completeVisualOption=function(){var n=this.option,s={},i=H.listVisualTypes(),a=this.isCategory();t(n.pieces,function(e){t(i,function(t){e.hasOwnProperty(t)&&(s[t]=1)})}),t(s,function(e,s){var i=!1;t(this.stateList,function(e){i=i||o(n,e,s)||o(n.target,e,s)},this),!i&&t(this.stateList,function(e){(n[e]||(n[e]={}))[s]=Cd.get(s,e==="inRange"?"active":"inactive",a)})},this);function o(e,t,n){return e&&e[t]&&e[t].hasOwnProperty(n)}e.prototype.completeVisualOption.apply(this,arguments)},n.prototype._resetSelected=function(e,n){var i,o=this.option,a=this._pieceList,s=(n?o:e).selected||{};o.selected=s,t(a,function(e){var n=this.getSelectedMapKey(e);s.hasOwnProperty(n)||(s[n]=!0)},this),o.selectedMode==="single"&&(i=!1,t(a,function(e){var n=this.getSelectedMapKey(e);s[n]&&(i?s[n]=!1:i=!0)},this))},n.prototype.getItemSymbol=function(){return this.get("itemSymbol")},n.prototype.getSelectedMapKey=function(e){return this._mode==="categories"?e.value+"":e.index+""},n.prototype.getPieceList=function(){return this._pieceList},n.prototype._determineMode=function(){var e=this.option;return e.pieces&&e.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},n.prototype.setSelected=function(e){this.option.selected=c(e)},n.prototype.getValueState=function(e){var t=H.findPieceIndex(e,this._pieceList);return t!=null?this.option.selected[this.getSelectedMapKey(this._pieceList[t])]?"inRange":"outOfRange":"outOfRange"},n.prototype.findTargetDataIndices=function(e){var t=[],n=this._pieceList;return this.eachTargetSeries(function(s){var o=[],i=s.getData();i.each(this.getDataDimensionIndex(i),function(t,s){var i=H.findPieceIndex(t,n);i===e&&o.push(s)},this),t.push({seriesId:s.id,dataIndex:o})},this),t},n.prototype.getRepresentValue=function(e){if(this.isCategory())t=e.value;else if(e.value!=null)t=e.value;else{var t,n=e.interval||[];t=n[0]===-(1/0)&&n[1]===1/0?0:(n[0]+n[1])/2}return t},n.prototype.getVisualMeta=function(e){if(this.isCategory())return;var n,s,o,a=[],i=["",""],r=this;function c(t,n){var s,o=r.getRepresentValue({interval:t});n||(n=r.getValueState(o)),s=e(o,n),t[0]===-(1/0)?i[0]=s:t[1]===1/0?i[1]=s:a.push({value:t[0],color:s},{value:t[1],color:s})}return n=this._pieceList.slice(),n.length?(s=n[0].interval[0],s!==-(1/0)&&n.unshift({interval:[-(1/0),s]}),s=n[n.length-1].interval[1],s!==1/0&&n.push({interval:[s,1/0]})):n.push({interval:[-(1/0),1/0]}),o=-(1/0),t(n,function(e){var t=e.interval;t&&(t[0]>o&&c([o,t[0]],"outOfRange"),c(t.slice()),o=t[1])},this),{stops:a,outerColors:i}},n.type="visualMap.piecewise",n.defaultOption=a4(ni.defaultOption,{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieces:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0}),n}(ni),Wm={splitNumber:function(e){for(n=this.option,a=Math.min(n.precision,20),s=this.getExtent(),o=n.splitNumber,o=Math.max(parseInt(o,10),1),n.splitNumber=o,i=(s[1]-s[0])/o;+i.toFixed(a)!==i&&a<5;)a++;n.precision=a,i=+i.toFixed(a),n.minOpen&&e.push({interval:[-(1/0),s[0]],close:[0,0]});for(var n,s,o,i,a,l,r=0,c=s[0];r<o;c+=i,r++)l=r===o-1?s[1]:c+i,e.push({interval:[c,l],close:[1,1]});n.maxOpen&&e.push({interval:[s[1],1/0],close:[0,0]}),zu(e),t(e,function(e,t){e.index=t,e.text=this.formatValueText(e.interval)},this)},categories:function(e){var n=this.option;t(n.categories,function(t){e.push({text:this.formatValueText(t,!0),value:t})},this),Qm(n,e)},pieces:function(e){var n=this.option;t(n.pieces,function(t,n){a(t)||(t={value:t});var s,o,r,c,l,d,u,h,m,i={text:"",index:n};if(t.label!=null&&(i.text=t.label),t.hasOwnProperty("value"))d=i.value=t.value,i.interval=[d,d],i.close=[1,1];else{for(s=i.interval=[],r=i.close=[0,0],u=[1,0,1],h=[-(1/0),1/0],l=[],o=0;o<2;o++){for(m=[["gte","gt","min"],["lte","lt","max"]][o],c=0;c<3&&s[o]==null;c++)s[o]=t[m[c]],r[o]=u[c],l[o]=c===2;s[o]==null&&(s[o]=h[o])}l[0]&&s[1]===1/0&&(r[0]=0),l[1]&&s[0]===-(1/0)&&(r[1]=0),s[0]>s[1]&&console.warn("Piece "+n+"is illegal: "+s+" lower bound should not greater then uppper bound."),s[0]===s[1]&&r[0]&&r[1]&&(i.value=s[0])}i.visual=H.retrieveVisuals(t),e.push(i)},this),Qm(n,e),zu(e),t(e,function(e){var t=e.close,n=[["<","≤"][t[1]],[">","≥"][t[0]]];e.text=e.text||this.formatValueText(e.value!=null?e.value:e.interval,!1,n)},this)}};function Qm(e,t){var n=e.inverse;(e.orient==="vertical"?!n:n)&&t.reverse()}b8=function(e){o(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.type=n.type,t}return n.prototype.doRender=function(){var e,s,o,i,a,r,c,l,d,u,n=this.group;n.removeAll(),e=this.visualMapModel,r=e.get("textGap"),c=e.textStyleModel,d=c.getFont(),u=c.getTextColor(),i=this._getItemAlign(),s=e.itemSize,l=this._getViewData(),o=l.endsText,a=bt(e.get("showLabel",!0),!o),o&&this._renderEndsText(n,o[0],s,a,i),t(l.viewPieceList,function(t){var l,h,c=t.piece,o=new Z;o.onclick=f(this._onItemClick,this,c),this._enableHoverLink(o,t.indexInModelPieceList),l=e.getRepresentValue(c),this._createItemSymbol(o,l,[0,0,s[0],s[1]]),a&&(h=this.visualMapModel.getValueState(l),o.add(new A({style:{x:i==="right"?-r:s[0]+r,y:s[1]/2,text:c.text,verticalAlign:"middle",align:i,font:d,fill:u,opacity:h==="outOfRange"?.5:1}}))),n.add(o)},this),o&&this._renderEndsText(n,o[1],s,a,i),b0(e.get("orient"),n,e.get("itemGap")),this.renderBackground(n),this.positionGroup(n)},n.prototype._enableHoverLink=function(e,t){var n,s=this;e.on("mouseover",function(){return n("highlight")}).on("mouseout",function(){return n("downplay")}),n=function(e){var n=s.visualMapModel;n.option.hoverLink&&s.api.dispatchAction({type:e,batch:Sr(n.findTargetDataIndices(t),n)})}},n.prototype._getItemAlign=function(){var e,t=this.visualMapModel,n=t.option;return n.orient==="vertical"?H0(t,this.api,t.itemSize):(e=n.align,(!e||e==="auto")&&(e="left"),e)},n.prototype._renderEndsText=function(e,t,n,s,o){if(!t)return;var i=new Z,a=this.visualMapModel.textStyleModel;i.add(new A({style:{x:s?o==="right"?n[0]:0:n[0]/2,y:n[1]/2,verticalAlign:"middle",align:s?o:"center",text:t,font:a.getFont(),fill:a.getTextColor()}})),e.add(i)},n.prototype._getViewData=function(){var e=this.visualMapModel,n=r(e.getPieceList(),function(e,t){return{piece:e,indexInModelPieceList:t}}),t=e.get("text"),o=e.get("orient"),s=e.get("inverse");return(o==="horizontal"?s:!s)?n.reverse():t&&(t=t.slice().reverse()),{viewPieceList:n,endsText:t}},n.prototype._createItemSymbol=function(e,t,n){e.add(Kn(this.getControllerVisual(t,"symbol"),n[0],n[1],n[2],n[3],this.getControllerVisual(t,"color")))},n.prototype._onItemClick=function(e){var o=this.visualMapModel,i=o.option,n=c(i.selected),s=o.getSelectedMapKey(e);i.selectedMode==="single"?(n[s]=!0,t(n,function(e,t){n[t]=t===s})):n[s]=!n[s],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:n})},n.type="visualMap.piecewise",n}(p1);function yj(e){e.registerComponentModel(Im),e.registerComponentView(b8),Tm(e)}function _j(){J(pj),J(yj)}J(_j),J(b4),Hl={value:"eq","<":"lt","<=":"lte",">":"gt",">=":"gte","=":"eq","!=":"ne","<>":"ne"},C8=function(){function e(e){var t,n=this._condVal=i(e)?new RegExp(e):Vc(e)?e:null;n==null&&(t="",t=ne("Illegal regexp",e,"in"),g(t))}return e.prototype.evaluate=function(e){var t=typeof e;return i(t)?this._condVal.test(e):!!E(t)&&this._condVal.test(e+"")},e}(),Y8=function(){function e(){}return e.prototype.evaluate=function(){return this.value},e}(),cf=function(){function e(){}return e.prototype.evaluate=function(){for(var t=this.children,e=0;e<t.length;e++)if(!t[e].evaluate())return!1;return!0},e}(),lf=function(){function e(){}return e.prototype.evaluate=function(){for(var t=this.children,e=0;e<t.length;e++)if(t[e].evaluate())return!0;return!1},e}(),Of=function(){function e(){}return e.prototype.evaluate=function(){return!this.child.evaluate()},e}(),Uf=function(){function e(){}return e.prototype.evaluate=function(){for(var t=!!this.valueParser,s=this.getValue,n=s(this.valueGetterParam),o=t?this.valueParser(n):null,e=0;e<this.subCondList.length;e++)if(!this.subCondList[e].evaluate(t?o:n))return!1;return!0},e}();function tl(e,t){if(e===!0||e===!1){var n,s=new Y8;return s.value=e,s}return n="",j6(e)||(n=ne("Illegal config. Expect a plain object but actually",e),g(n)),e.and?Jf("and",e,t):e.or?Jf("or",e,t):e.not?Fj(e,t):Tj(e,t)}function Jf(e,t,n){var i,a=t[e],o="";return o=ne('"and"/"or" condition should only be `'+e+": [...]` and must not be empty array.","Illegal condition:",t),s(a)||g(o),a.length||g(o),i=e==="and"?new cf:new lf,i.children=r(a,function(e){return tl(e,n)}),i.children.length||g(o),i}function Fj(e,t){var n,o=e.not,s="";return s=ne('"not" condition should only be `not: {}`.',"Illegal condition:",e),j6(o)||g(s),n=new Of,n.child=tl(o,t),n.child||g(s),n}function Tj(e,t){for(var n,s,i,c,d,u,o="",f=t.prepareGetValue(e),l=[],m=k(e),h=e.parser,a=h?N3(h):null,r=0;r<m.length;r++){if(n=m[r],n==="parser"||t.valueGetterAttrMap.get(n))continue;c=st(Hl,n)?Hl[n]:n,i=e[n],d=a?a(i):i,u=$5(c,d)||c==="reg"&&new C8(d),u||(o=ne('Illegal relational operation: "'+n+'" in condition:',e),g(o)),l.push(u)}return l.length||(o=ne("Relational condition must have at least one operator.","Illegal condition:",e),g(o)),s=new Uf,s.valueGetterParam=f,s.valueParser=a,s.getValue=t.getValue,s.subCondList=l,s}function j6(e){return a(e)&&!B(e)}y6=function(){function e(e,t){this._cond=tl(e,t)}return e.prototype.evaluate=function(){return this._cond.evaluate()},e}();function Nj(e,t){return new y6(e,t)}F6={type:"echarts:filter",transform:function(e){for(var n,t=e.upstream,i=Nj(e.config,{valueGetterAttrMap:m({dimension:!0}),prepareGetValue:function(e){var s,n="",o=e.dimension;return st(e,"dimension")||(n=ne('Relation condition must has prop "dimension" specified.',"Illegal condition:",e),g(n)),s=t.getDimensionInfo(o),s||(n=ne("Can not find dimension info via: "+o+`.
`,"Existing dimensions: ",t.cloneAllDimensionInfo(),`.
`,"Illegal condition:",e,`.
`),g(n)),{dimIdx:s.index}},getValue:function(e){return t.retrieveValueFromItem(n,e.dimIdx)}}),o=[],s=0,a=t.count();s<a;s++)n=t.getRawDataItem(s),i.evaluate()&&o.push(n);return{data:o}}},Qr="",Qr=["Valid config is like:",'{ dimension: "age", order: "asc" }','or [{ dimension: "age", order: "asc"], { dimension: "date", order: "desc" }]'].join(" "),Cp={type:"echarts:sort",transform:function(e){s=e.upstream,l=e.config,n="",a=N(l),a.length||(n="Empty `config` in sort transform.",g(n)),o=[],t(a,function(e){var c,l,d,u,r=e.dimension,t=e.order,a=e.parser,i=e.incomparable;r==null&&(n='Sort transform config must has "dimension" specified.'+Qr,g(n)),t!=="asc"&&t!=="desc"&&(n='Sort transform config must has "order" specified.'+Qr,g(n)),i&&i!=="min"&&i!=="max"&&(c="",c='incomparable must be "min" or "max" rather than "'+i+'".',g(c)),t!=="asc"&&t!=="desc"&&(l="",l='order must be "asc" or "desc" rather than "'+t+'".',g(l)),d=s.getDimensionInfo(r),d||(n=ne("Can not find dimension info via: "+r+`.
`,"Existing dimensions: ",s.cloneAllDimensionInfo(),`.
`,"Illegal config:",e,`.
`),g(n)),u=a?N3(a):null,a&&!u&&(n=ne("Invalid parser name "+a+`.
`,"Illegal config:",e,`.
`),g(n)),o.push({dimIdx:d.index,parser:u,comparator:new Xd(t,i)})}),i=s.sourceFormat,i!==q&&i!==xe&&(n='sourceFormat "'+i+'" is not supported yet',g(n));for(var n,s,o,i,a,l,r=[],c=0,d=s.count();c<d;c++)r.push(s.getRawDataItem(c));return r.sort(function(e,t){for(var n,i,a,c,r=0;r<o.length;r++)if(n=o[r],i=s.retrieveValueFromItem(e,n.dimIdx),a=s.retrieveValueFromItem(t,n.dimIdx),n.parser&&(i=n.parser(i),a=n.parser(a)),c=n.comparator.evaluate(i,a),c!==0)return c;return 0}),{data:r}}};function Hj(e){e.registerTransform(F6),e.registerTransform(Cp)}J(Hj),e.Axis=V3,e.ChartView=Re,e.ComponentModel=p,e.ComponentView=$,e.List=hc,e.Model=C,e.PRIORITY=ul,e.SeriesModel=Te,e.color=X0,e.connect=rg,e.dataTool=X6,e.dependencies=ff,e.disConnect=k6,e.disconnect=A6,e.dispose=ag,e.env=l,e.extendChartView=Y5,e.extendComponentModel=U5,e.extendComponentView=K5,e.extendSeriesModel=q5,e.format=Oh,e.getCoordinateSystemDimensions=og,e.getInstanceByDom=Pc,e.getInstanceById=ig,e.getMap=ng,e.graphic=Ch,e.helper=Cm,e.init=cg,e.innerDrawElementOnCanvas=Cl,e.matrix=I4,e.number=Ah,e.parseGeoJSON=Mh,e.parseGeoJson=Mh,e.registerAction=Nn,e.registerCoordinateSystem=H6,e.registerLayout=B6,e.registerLoading=Ec,e.registerLocale=Y1,e.registerMap=q6,e.registerPostInit=N6,e.registerPostUpdate=L6,e.registerPreprocessor=Nc,e.registerProcessor=Dc,e.registerTheme=Rc,e.registerTransform=xc,e.registerUpdateLifecycle=Ar,e.registerVisual=Kt,e.setCanvasCreator=sg,e.setPlatformAPI=ip,e.throttle=ud,e.time=kh,e.use=J,e.util=wh,e.vector=K8,e.version=mf,e.zrUtil=o6,e.zrender=j0})